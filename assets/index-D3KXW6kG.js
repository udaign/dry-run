(function(){const j=document.createElement("link").relList;if(j&&j.supports&&j.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))d(A);new MutationObserver(A=>{for(const $ of A)if($.type==="childList")for(const H of $.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&d(H)}).observe(document,{childList:!0,subtree:!0});function v(A){const $={};return A.integrity&&($.integrity=A.integrity),A.referrerPolicy&&($.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?$.credentials="include":A.crossOrigin==="anonymous"?$.credentials="omit":$.credentials="same-origin",$}function d(A){if(A.ep)return;A.ep=!0;const $=v(A);fetch(A.href,$)}})();function hg(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Po={exports:{}},ki={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function k0(){if(qf)return ki;qf=1;var o=Symbol.for("react.transitional.element"),j=Symbol.for("react.fragment");function v(d,A,$){var H=null;if($!==void 0&&(H=""+$),A.key!==void 0&&(H=""+A.key),"key"in A){$={};for(var ne in A)ne!=="key"&&($[ne]=A[ne])}else $=A;return A=$.ref,{$$typeof:o,type:d,key:H,ref:A!==void 0?A:null,props:$}}return ki.Fragment=j,ki.jsx=v,ki.jsxs=v,ki}var Vf;function j0(){return Vf||(Vf=1,Po.exports=k0()),Po.exports}var s=j0(),Io={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function E0(){if($f)return tt;$f=1;var o=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),F=Symbol.iterator;function V(c){return c===null||typeof c!="object"?null:(c=F&&c[F]||c["@@iterator"],typeof c=="function"?c:null)}var ye={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Te={};function le(c,x,K){this.props=c,this.context=x,this.refs=Te,this.updater=K||ye}le.prototype.isReactComponent={},le.prototype.setState=function(c,x){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,x,"setState")},le.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function Ge(){}Ge.prototype=le.prototype;function ge(c,x,K){this.props=c,this.context=x,this.refs=Te,this.updater=K||ye}var w=ge.prototype=new Ge;w.constructor=ge,P(w,le.prototype),w.isPureReactComponent=!0;var xe=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function we(c,x,K,k,M,ee){return K=ee.ref,{$$typeof:o,type:c,key:x,ref:K!==void 0?K:null,props:ee}}function q(c,x){return we(c.type,x,void 0,void 0,void 0,c.props)}function he(c){return typeof c=="object"&&c!==null&&c.$$typeof===o}function ze(c){var x={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(K){return x[K]})}var Oe=/\/+/g;function Ue(c,x){return typeof c=="object"&&c!==null&&c.key!=null?ze(""+c.key):x.toString(36)}function Be(){}function Ne(c){switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:switch(typeof c.status=="string"?c.then(Be,Be):(c.status="pending",c.then(function(x){c.status==="pending"&&(c.status="fulfilled",c.value=x)},function(x){c.status==="pending"&&(c.status="rejected",c.reason=x)})),c.status){case"fulfilled":return c.value;case"rejected":throw c.reason}}throw c}function je(c,x,K,k,M){var ee=typeof c;(ee==="undefined"||ee==="boolean")&&(c=null);var me=!1;if(c===null)me=!0;else switch(ee){case"bigint":case"string":case"number":me=!0;break;case"object":switch(c.$$typeof){case o:case j:me=!0;break;case D:return me=c._init,je(me(c._payload),x,K,k,M)}}if(me)return M=M(c),me=k===""?"."+Ue(c,0):k,xe(M)?(K="",me!=null&&(K=me.replace(Oe,"$&/")+"/"),je(M,x,K,"",function(ve){return ve})):M!=null&&(he(M)&&(M=q(M,K+(M.key==null||c&&c.key===M.key?"":(""+M.key).replace(Oe,"$&/")+"/")+me)),x.push(M)),1;me=0;var Fe=k===""?".":k+":";if(xe(c))for(var De=0;De<c.length;De++)k=c[De],ee=Fe+Ue(k,De),me+=je(k,x,K,ee,M);else if(De=V(c),typeof De=="function")for(c=De.call(c),De=0;!(k=c.next()).done;)k=k.value,ee=Fe+Ue(k,De++),me+=je(k,x,K,ee,M);else if(ee==="object"){if(typeof c.then=="function")return je(Ne(c),x,K,k,M);throw x=String(c),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.")}return me}function b(c,x,K){if(c==null)return c;var k=[],M=0;return je(c,k,"","",function(ee){return x.call(K,ee,M++)}),k}function B(c){if(c._status===-1){var x=c._result;x=x(),x.then(function(K){(c._status===0||c._status===-1)&&(c._status=1,c._result=K)},function(K){(c._status===0||c._status===-1)&&(c._status=2,c._result=K)}),c._status===-1&&(c._status=0,c._result=x)}if(c._status===1)return c._result.default;throw c._result}var re=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function Le(){}return tt.Children={map:b,forEach:function(c,x,K){b(c,function(){x.apply(this,arguments)},K)},count:function(c){var x=0;return b(c,function(){x++}),x},toArray:function(c){return b(c,function(x){return x})||[]},only:function(c){if(!he(c))throw Error("React.Children.only expected to receive a single React element child.");return c}},tt.Component=le,tt.Fragment=v,tt.Profiler=A,tt.PureComponent=ge,tt.StrictMode=d,tt.Suspense=X,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,tt.__COMPILER_RUNTIME={__proto__:null,c:function(c){return T.H.useMemoCache(c)}},tt.cache=function(c){return function(){return c.apply(null,arguments)}},tt.cloneElement=function(c,x,K){if(c==null)throw Error("The argument must be a React element, but you passed "+c+".");var k=P({},c.props),M=c.key,ee=void 0;if(x!=null)for(me in x.ref!==void 0&&(ee=void 0),x.key!==void 0&&(M=""+x.key),x)!ae.call(x,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&x.ref===void 0||(k[me]=x[me]);var me=arguments.length-2;if(me===1)k.children=K;else if(1<me){for(var Fe=Array(me),De=0;De<me;De++)Fe[De]=arguments[De+2];k.children=Fe}return we(c.type,M,void 0,void 0,ee,k)},tt.createContext=function(c){return c={$$typeof:H,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null},c.Provider=c,c.Consumer={$$typeof:$,_context:c},c},tt.createElement=function(c,x,K){var k,M={},ee=null;if(x!=null)for(k in x.key!==void 0&&(ee=""+x.key),x)ae.call(x,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(M[k]=x[k]);var me=arguments.length-2;if(me===1)M.children=K;else if(1<me){for(var Fe=Array(me),De=0;De<me;De++)Fe[De]=arguments[De+2];M.children=Fe}if(c&&c.defaultProps)for(k in me=c.defaultProps,me)M[k]===void 0&&(M[k]=me[k]);return we(c,ee,void 0,void 0,null,M)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(c){return{$$typeof:ne,render:c}},tt.isValidElement=he,tt.lazy=function(c){return{$$typeof:D,_payload:{_status:-1,_result:c},_init:B}},tt.memo=function(c,x){return{$$typeof:_,type:c,compare:x===void 0?null:x}},tt.startTransition=function(c){var x=T.T,K={};T.T=K;try{var k=c(),M=T.S;M!==null&&M(K,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(Le,re)}catch(ee){re(ee)}finally{T.T=x}},tt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},tt.use=function(c){return T.H.use(c)},tt.useActionState=function(c,x,K){return T.H.useActionState(c,x,K)},tt.useCallback=function(c,x){return T.H.useCallback(c,x)},tt.useContext=function(c){return T.H.useContext(c)},tt.useDebugValue=function(){},tt.useDeferredValue=function(c,x){return T.H.useDeferredValue(c,x)},tt.useEffect=function(c,x,K){var k=T.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return k.useEffect(c,x)},tt.useId=function(){return T.H.useId()},tt.useImperativeHandle=function(c,x,K){return T.H.useImperativeHandle(c,x,K)},tt.useInsertionEffect=function(c,x){return T.H.useInsertionEffect(c,x)},tt.useLayoutEffect=function(c,x){return T.H.useLayoutEffect(c,x)},tt.useMemo=function(c,x){return T.H.useMemo(c,x)},tt.useOptimistic=function(c,x){return T.H.useOptimistic(c,x)},tt.useReducer=function(c,x,K){return T.H.useReducer(c,x,K)},tt.useRef=function(c){return T.H.useRef(c)},tt.useState=function(c){return T.H.useState(c)},tt.useSyncExternalStore=function(c,x,K){return T.H.useSyncExternalStore(c,x,K)},tt.useTransition=function(){return T.H.useTransition()},tt.version="19.1.1",tt}var Qf;function uu(){return Qf||(Qf=1,Io.exports=E0()),Io.exports}var g=uu();const C0=hg(g);var eu={exports:{}},ji={},tu={exports:{}},lu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf;function A0(){return Zf||(Zf=1,(function(o){function j(b,B){var re=b.length;b.push(B);e:for(;0<re;){var Le=re-1>>>1,c=b[Le];if(0<A(c,B))b[Le]=B,b[re]=c,re=Le;else break e}}function v(b){return b.length===0?null:b[0]}function d(b){if(b.length===0)return null;var B=b[0],re=b.pop();if(re!==B){b[0]=re;e:for(var Le=0,c=b.length,x=c>>>1;Le<x;){var K=2*(Le+1)-1,k=b[K],M=K+1,ee=b[M];if(0>A(k,re))M<c&&0>A(ee,k)?(b[Le]=ee,b[M]=re,Le=M):(b[Le]=k,b[K]=re,Le=K);else if(M<c&&0>A(ee,re))b[Le]=ee,b[M]=re,Le=M;else break e}}return B}function A(b,B){var re=b.sortIndex-B.sortIndex;return re!==0?re:b.id-B.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var $=performance;o.unstable_now=function(){return $.now()}}else{var H=Date,ne=H.now();o.unstable_now=function(){return H.now()-ne}}var X=[],_=[],D=1,F=null,V=3,ye=!1,P=!1,Te=!1,le=!1,Ge=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function xe(b){for(var B=v(_);B!==null;){if(B.callback===null)d(_);else if(B.startTime<=b)d(_),B.sortIndex=B.expirationTime,j(X,B);else break;B=v(_)}}function T(b){if(Te=!1,xe(b),!P)if(v(X)!==null)P=!0,ae||(ae=!0,Ue());else{var B=v(_);B!==null&&je(T,B.startTime-b)}}var ae=!1,we=-1,q=5,he=-1;function ze(){return le?!0:!(o.unstable_now()-he<q)}function Oe(){if(le=!1,ae){var b=o.unstable_now();he=b;var B=!0;try{e:{P=!1,Te&&(Te=!1,ge(we),we=-1),ye=!0;var re=V;try{t:{for(xe(b),F=v(X);F!==null&&!(F.expirationTime>b&&ze());){var Le=F.callback;if(typeof Le=="function"){F.callback=null,V=F.priorityLevel;var c=Le(F.expirationTime<=b);if(b=o.unstable_now(),typeof c=="function"){F.callback=c,xe(b),B=!0;break t}F===v(X)&&d(X),xe(b)}else d(X);F=v(X)}if(F!==null)B=!0;else{var x=v(_);x!==null&&je(T,x.startTime-b),B=!1}}break e}finally{F=null,V=re,ye=!1}B=void 0}}finally{B?Ue():ae=!1}}}var Ue;if(typeof w=="function")Ue=function(){w(Oe)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Ne=Be.port2;Be.port1.onmessage=Oe,Ue=function(){Ne.postMessage(null)}}else Ue=function(){Ge(Oe,0)};function je(b,B){we=Ge(function(){b(o.unstable_now())},B)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(b){b.callback=null},o.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<b?Math.floor(1e3/b):5},o.unstable_getCurrentPriorityLevel=function(){return V},o.unstable_next=function(b){switch(V){case 1:case 2:case 3:var B=3;break;default:B=V}var re=V;V=B;try{return b()}finally{V=re}},o.unstable_requestPaint=function(){le=!0},o.unstable_runWithPriority=function(b,B){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var re=V;V=b;try{return B()}finally{V=re}},o.unstable_scheduleCallback=function(b,B,re){var Le=o.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Le+re:Le):re=Le,b){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return c=re+c,b={id:D++,callback:B,priorityLevel:b,startTime:re,expirationTime:c,sortIndex:-1},re>Le?(b.sortIndex=re,j(_,b),v(X)===null&&b===v(_)&&(Te?(ge(we),we=-1):Te=!0,je(T,re-Le))):(b.sortIndex=c,j(X,b),P||ye||(P=!0,ae||(ae=!0,Ue()))),b},o.unstable_shouldYield=ze,o.unstable_wrapCallback=function(b){var B=V;return function(){var re=V;V=B;try{return b.apply(this,arguments)}finally{V=re}}}})(lu)),lu}var Kf;function N0(){return Kf||(Kf=1,tu.exports=A0()),tu.exports}var au={exports:{}},al={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf;function T0(){if(Jf)return al;Jf=1;var o=uu();function j(X){var _="https://react.dev/errors/"+X;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)_+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+X+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(){}var d={d:{f:v,r:function(){throw Error(j(522))},D:v,C:v,L:v,m:v,X:v,S:v,M:v},p:0,findDOMNode:null},A=Symbol.for("react.portal");function $(X,_,D){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:F==null?null:""+F,children:X,containerInfo:_,implementation:D}}var H=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ne(X,_){if(X==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return al.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,al.createPortal=function(X,_){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(j(299));return $(X,_,null,D)},al.flushSync=function(X){var _=H.T,D=d.p;try{if(H.T=null,d.p=2,X)return X()}finally{H.T=_,d.p=D,d.d.f()}},al.preconnect=function(X,_){typeof X=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,d.d.C(X,_))},al.prefetchDNS=function(X){typeof X=="string"&&d.d.D(X)},al.preinit=function(X,_){if(typeof X=="string"&&_&&typeof _.as=="string"){var D=_.as,F=ne(D,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,ye=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;D==="style"?d.d.S(X,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:F,integrity:V,fetchPriority:ye}):D==="script"&&d.d.X(X,{crossOrigin:F,integrity:V,fetchPriority:ye,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},al.preinitModule=function(X,_){if(typeof X=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var D=ne(_.as,_.crossOrigin);d.d.M(X,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&d.d.M(X)},al.preload=function(X,_){if(typeof X=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var D=_.as,F=ne(D,_.crossOrigin);d.d.L(X,D,{crossOrigin:F,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},al.preloadModule=function(X,_){if(typeof X=="string")if(_){var D=ne(_.as,_.crossOrigin);d.d.m(X,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else d.d.m(X)},al.requestFormReset=function(X){d.d.r(X)},al.unstable_batchedUpdates=function(X,_){return X(_)},al.useFormState=function(X,_,D){return H.H.useFormState(X,_,D)},al.useFormStatus=function(){return H.H.useHostTransitionStatus()},al.version="19.1.1",al}var Wf;function mg(){if(Wf)return au.exports;Wf=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(j){console.error(j)}}return o(),au.exports=T0(),au.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function M0(){if(Ff)return ji;Ff=1;var o=N0(),j=uu(),v=mg();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function H(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ne(e){if($(e)!==e)throw Error(d(188))}function X(e){var t=e.alternate;if(!t){if(t=$(e),t===null)throw Error(d(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return ne(n),e;if(i===a)return ne(n),t;i=i.sibling}throw Error(d(188))}if(l.return!==a.return)l=n,a=i;else{for(var r=!1,u=n.child;u;){if(u===l){r=!0,l=n,a=i;break}if(u===a){r=!0,a=n,l=i;break}u=u.sibling}if(!r){for(u=i.child;u;){if(u===l){r=!0,l=i,a=n;break}if(u===a){r=!0,a=i,l=n;break}u=u.sibling}if(!r)throw Error(d(189))}}if(l.alternate!==a)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var D=Object.assign,F=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),ye=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Te=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),Ge=Symbol.for("react.provider"),ge=Symbol.for("react.consumer"),w=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),ze=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function Ue(e){return e===null||typeof e!="object"?null:(e=Oe&&e[Oe]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function Ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case le:return"Profiler";case Te:return"StrictMode";case T:return"Suspense";case ae:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ye:return"Portal";case w:return(e.displayName||"Context")+".Provider";case ge:return(e._context.displayName||"Context")+".Consumer";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case we:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}var je=Array.isArray,b=j.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=v.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Le=[],c=-1;function x(e){return{current:e}}function K(e){0>c||(e.current=Le[c],Le[c]=null,c--)}function k(e,t){c++,Le[c]=e.current,e.current=t}var M=x(null),ee=x(null),me=x(null),Fe=x(null);function De(e,t){switch(k(me,t),k(ee,e),k(M,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bf(t),e=yf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(M),k(M,e)}function ve(){K(M),K(ee),K(me)}function be(e){e.memoizedState!==null&&k(Fe,e);var t=M.current,l=yf(t,e.type);t!==l&&(k(ee,e),k(M,l))}function W(e){ee.current===e&&(K(M),K(ee)),Fe.current===e&&(K(Fe),vi._currentValue=re)}var Q=Object.prototype.hasOwnProperty,Se=o.unstable_scheduleCallback,Ce=o.unstable_cancelCallback,oe=o.unstable_shouldYield,_e=o.unstable_requestPaint,ue=o.unstable_now,ie=o.unstable_getCurrentPriorityLevel,Ae=o.unstable_ImmediatePriority,Ye=o.unstable_UserBlockingPriority,de=o.unstable_NormalPriority,se=o.unstable_LowPriority,fe=o.unstable_IdlePriority,gt=o.log,G=o.unstable_setDisableYieldValue,J=null,pe=null;function We(e){if(typeof gt=="function"&&G(e),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(J,e)}catch{}}var qe=Math.clz32?Math.clz32:xt,Me=Math.log,Xe=Math.LN2;function xt(e){return e>>>=0,e===0?32:31-(Me(e)/Xe|0)|0}var ut=256,nt=4194304;function rt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function R(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~i,a!==0?n=rt(a):(r&=u,r!==0?n=rt(r):l||(l=u&~e,l!==0&&(n=rt(l))))):(u=a&~i,u!==0?n=rt(u):r!==0?n=rt(r):l||(l=a&~e,l!==0&&(n=rt(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function ce(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dt(){var e=ut;return ut<<=1,(ut&4194048)===0&&(ut=256),e}function Vt(){var e=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),e}function z(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ve(e,t,l,a,n,i){var r=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,f=e.expirationTimes,S=e.hiddenUpdates;for(l=r&~l;0<l;){var O=31-qe(l),Y=1<<O;u[O]=0,f[O]=-1;var C=S[O];if(C!==null)for(S[O]=null,O=0;O<C.length;O++){var N=C[O];N!==null&&(N.lane&=-536870913)}l&=~Y}a!==0&&E(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function E(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-qe(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&4194090}function I(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-qe(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function ke(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function et(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Bf(e.type))}function $e(e,t){var l=B.p;try{return B.p=e,t()}finally{B.p=l}}var ct=Math.random().toString(36).slice(2),wt="__reactFiber$"+ct,pt="__reactProps$"+ct,zt="__reactContainer$"+ct,Kt="__reactEvents$"+ct,il="__reactListeners$"+ct,Ut="__reactHandles$"+ct,xl="__reactResources$"+ct,el="__reactMarker$"+ct;function fl(e){delete e[wt],delete e[pt],delete e[Kt],delete e[il],delete e[Ut]}function p(e){var t=e[wt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[zt]||l[wt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Sf(e);e!==null;){if(l=e[wt])return l;e=Sf(e)}return t}e=l,l=e.parentNode}return null}function Z(e){if(e=e[wt]||e[zt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function te(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Pe(e){var t=e[xl];return t||(t=e[xl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[el]=!0}var dt=new Set,Nt={};function Tt(e,t){Yt(e,t),Yt(e+"Capture",t)}function Yt(e,t){for(Nt[e]=t,e=0;e<t.length;e++)dt.add(t[e])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ia={},Ml={};function Ct(e){return Q.call(Ml,e)?!0:Q.call(ia,e)?!1:sl.test(e)?Ml[e]=!0:(ia[e]=!0,!1)}function Jt(e,t,l){if(Ct(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Wt(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function tl(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}var Ri,Mn;function Rl(e){if(Ri===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Ri=t&&t[1]||"",Mn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ri+e+Mn}var sa=!1;function ql(e,t){if(!e||sa)return"";sa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(N){var C=N}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(N){C=N}e.call(Y.prototype)}}else{try{throw Error()}catch(N){C=N}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(N){if(N&&C&&typeof N.stack=="string")return[N.stack,C.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],u=i[1];if(r&&u){var f=r.split(`
`),S=u.split(`
`);for(n=a=0;a<f.length&&!f[a].includes("DetermineComponentFrameRoot");)a++;for(;n<S.length&&!S[n].includes("DetermineComponentFrameRoot");)n++;if(a===f.length||n===S.length)for(a=f.length-1,n=S.length-1;1<=a&&0<=n&&f[a]!==S[n];)n--;for(;1<=a&&0<=n;a--,n--)if(f[a]!==S[n]){if(a!==1||n!==1)do if(a--,n--,0>n||f[a]!==S[n]){var O=`
`+f[a].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=a&&0<=n);break}}}finally{sa=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Rl(l):""}function Zs(e){switch(e.tag){case 26:case 27:case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 15:return ql(e.type,!1);case 11:return ql(e.type.render,!1);case 1:return ql(e.type,!0);case 31:return Rl("Activity");default:return""}}function cu(e){try{var t="";do t+=Zs(e),e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function wl(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function du(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vg(e){var t=du(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oi(e){e._valueTracker||(e._valueTracker=vg(e))}function fu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=du(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xg=/[\n"\\]/g;function Sl(e){return e.replace(xg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ks(e,t,l,a,n,i,r,u){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wl(t)):e.value!==""+wl(t)&&(e.value=""+wl(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Js(e,r,wl(t)):l!=null?Js(e,r,wl(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+wl(u):e.removeAttribute("name")}function gu(e,t,l,a,n,i,r,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;l=l!=null?""+wl(l):"",t=t!=null?""+wl(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r)}function Js(e,t,l){t==="number"&&Di(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Za(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+wl(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function hu(e,t,l){if(t!=null&&(t=""+wl(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+wl(l):""}function mu(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(d(92));if(je(a)){if(1<a.length)throw Error(d(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=wl(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a)}function Ka(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var wg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||wg.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function bu(e,t,l){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&pu(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&pu(e,i,t[i])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_g=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zi(e){return _g.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Fs=null;function Ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,Wa=null;function yu(e){var t=Z(e);if(t&&(e=t.stateNode)){var l=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ks(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sl(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[pt]||null;if(!n)throw Error(d(90));Ks(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&fu(a)}break e;case"textarea":hu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Za(e,!!l.multiple,t,!1)}}}var Is=!1;function vu(e,t,l){if(Is)return e(t,l);Is=!0;try{var a=e(t);return a}finally{if(Is=!1,(Ja!==null||Wa!==null)&&(xs(),Ja&&(t=Ja,e=Wa,Wa=Ja=null,yu(t),e)))for(t=0;t<e.length;t++)yu(e[t])}}function Rn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[pt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(d(231,t,typeof l));return l}var Vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=!1;if(Vl)try{var On={};Object.defineProperty(On,"passive",{get:function(){er=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{er=!1}var ra=null,tr=null,Ui=null;function xu(){if(Ui)return Ui;var e,t=tr,l=t.length,a,n="value"in ra?ra.value:ra.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var r=l-e;for(a=1;a<=r&&t[l-a]===n[i-a];a++);return Ui=n.slice(e,1<a?1-a:void 0)}function Bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function wu(){return!1}function rl(e){function t(l,a,n,i,r){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Li:wu,this.isPropagationStopped=wu,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=rl(Na),Dn=D({},Na,{view:0,detail:0}),kg=rl(Dn),lr,ar,zn,Gi=D({},Dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ir,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(lr=e.screenX-zn.screenX,ar=e.screenY-zn.screenY):ar=lr=0,zn=e),lr)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),Su=rl(Gi),jg=D({},Gi,{dataTransfer:0}),Eg=rl(jg),Cg=D({},Dn,{relatedTarget:0}),nr=rl(Cg),Ag=D({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),Ng=rl(Ag),Tg=D({},Na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mg=rl(Tg),Rg=D({},Na,{data:0}),_u=rl(Rg),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zg[e])?!!t[e]:!1}function ir(){return Ug}var Bg=D({},Dn,{key:function(e){if(e.key){var t=Og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ir,charCode:function(e){return e.type==="keypress"?Bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lg=rl(Bg),Hg=D({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=rl(Hg),Gg=D({},Dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ir}),Yg=rl(Gg),Xg=D({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),qg=rl(Xg),Vg=D({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$g=rl(Vg),Qg=D({},Na,{newState:0,oldState:0}),Zg=rl(Qg),Kg=[9,13,27,32],sr=Vl&&"CompositionEvent"in window,Un=null;Vl&&"documentMode"in document&&(Un=document.documentMode);var Jg=Vl&&"TextEvent"in window&&!Un,ju=Vl&&(!sr||Un&&8<Un&&11>=Un),Eu=" ",Cu=!1;function Au(e,t){switch(e){case"keyup":return Kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fa=!1;function Wg(e,t){switch(e){case"compositionend":return Nu(t);case"keypress":return t.which!==32?null:(Cu=!0,Eu);case"textInput":return e=t.data,e===Eu&&Cu?null:e;default:return null}}function Fg(e,t){if(Fa)return e==="compositionend"||!sr&&Au(e,t)?(e=xu(),Ui=tr=ra=null,Fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ju&&t.locale!=="ko"?null:t.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pg[e.type]:t==="textarea"}function Mu(e,t,l,a){Ja?Wa?Wa.push(a):Wa=[a]:Ja=a,t=Es(t,"onChange"),0<t.length&&(l=new Hi("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Bn=null,Ln=null;function Ig(e){ff(e,0)}function Yi(e){var t=te(e);if(fu(t))return e}function Ru(e,t){if(e==="change")return t}var Ou=!1;if(Vl){var rr;if(Vl){var or="oninput"in document;if(!or){var Du=document.createElement("div");Du.setAttribute("oninput","return;"),or=typeof Du.oninput=="function"}rr=or}else rr=!1;Ou=rr&&(!document.documentMode||9<document.documentMode)}function zu(){Bn&&(Bn.detachEvent("onpropertychange",Uu),Ln=Bn=null)}function Uu(e){if(e.propertyName==="value"&&Yi(Ln)){var t=[];Mu(t,Ln,e,Ps(e)),vu(Ig,t)}}function eh(e,t,l){e==="focusin"?(zu(),Bn=t,Ln=l,Bn.attachEvent("onpropertychange",Uu)):e==="focusout"&&zu()}function th(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yi(Ln)}function lh(e,t){if(e==="click")return Yi(t)}function ah(e,t){if(e==="input"||e==="change")return Yi(t)}function nh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gl=typeof Object.is=="function"?Object.is:nh;function Hn(e,t){if(gl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Q.call(t,n)||!gl(e[n],t[n]))return!1}return!0}function Bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lu(e,t){var l=Bu(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Bu(l)}}function Hu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Di(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Di(e.document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ih=Vl&&"documentMode"in document&&11>=document.documentMode,Pa=null,cr=null,Gn=null,dr=!1;function Yu(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dr||Pa==null||Pa!==Di(a)||(a=Pa,"selectionStart"in a&&ur(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Gn&&Hn(Gn,a)||(Gn=a,a=Es(cr,"onSelect"),0<a.length&&(t=new Hi("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Pa)))}function Ta(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Ia={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},fr={},Xu={};Vl&&(Xu=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Ma(e){if(fr[e])return fr[e];if(!Ia[e])return e;var t=Ia[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Xu)return fr[e]=t[l];return e}var qu=Ma("animationend"),Vu=Ma("animationiteration"),$u=Ma("animationstart"),sh=Ma("transitionrun"),rh=Ma("transitionstart"),oh=Ma("transitioncancel"),Qu=Ma("transitionend"),Zu=new Map,gr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gr.push("scrollEnd");function Ol(e,t){Zu.set(e,t),Tt(t,[e])}var Ku=new WeakMap;function _l(e,t){if(typeof e=="object"&&e!==null){var l=Ku.get(e);return l!==void 0?l:(t={value:e,source:t,stack:cu(t)},Ku.set(e,t),t)}return{value:e,source:t,stack:cu(t)}}var kl=[],en=0,hr=0;function Xi(){for(var e=en,t=hr=en=0;t<e;){var l=kl[t];kl[t++]=null;var a=kl[t];kl[t++]=null;var n=kl[t];kl[t++]=null;var i=kl[t];if(kl[t++]=null,a!==null&&n!==null){var r=a.pending;r===null?n.next=n:(n.next=r.next,r.next=n),a.pending=n}i!==0&&Ju(l,n,i)}}function qi(e,t,l,a){kl[en++]=e,kl[en++]=t,kl[en++]=l,kl[en++]=a,hr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function mr(e,t,l,a){return qi(e,t,l,a),Vi(e)}function tn(e,t){return qi(e,null,null,t),Vi(e)}function Ju(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-qe(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function Vi(e){if(50<di)throw di=0,So=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ln={};function uh(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hl(e,t,l,a){return new uh(e,t,l,a)}function pr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $l(e,t){var l=e.alternate;return l===null?(l=hl(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Wu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $i(e,t,l,a,n,i){var r=0;if(a=e,typeof e=="function")pr(e)&&(r=1);else if(typeof e=="string")r=d0(e,l,M.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=hl(31,l,t,n),e.elementType=he,e.lanes=i,e;case P:return Ra(l.children,n,i,t);case Te:r=8,n|=24;break;case le:return e=hl(12,l,t,n|2),e.elementType=le,e.lanes=i,e;case T:return e=hl(13,l,t,n),e.elementType=T,e.lanes=i,e;case ae:return e=hl(19,l,t,n),e.elementType=ae,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ge:case w:r=10;break e;case ge:r=9;break e;case xe:r=11;break e;case we:r=14;break e;case q:r=16,a=null;break e}r=29,l=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=hl(r,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Ra(e,t,l,a){return e=hl(7,e,a,t),e.lanes=l,e}function br(e,t,l){return e=hl(6,e,null,t),e.lanes=l,e}function yr(e,t,l){return t=hl(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var an=[],nn=0,Qi=null,Zi=0,jl=[],El=0,Oa=null,Ql=1,Zl="";function Da(e,t){an[nn++]=Zi,an[nn++]=Qi,Qi=e,Zi=t}function Fu(e,t,l){jl[El++]=Ql,jl[El++]=Zl,jl[El++]=Oa,Oa=e;var a=Ql;e=Zl;var n=32-qe(a)-1;a&=~(1<<n),l+=1;var i=32-qe(t)+n;if(30<i){var r=n-n%5;i=(a&(1<<r)-1).toString(32),a>>=r,n-=r,Ql=1<<32-qe(t)+n|l<<n|a,Zl=i+e}else Ql=1<<i|l<<n|a,Zl=e}function vr(e){e.return!==null&&(Da(e,1),Fu(e,1,0))}function xr(e){for(;e===Qi;)Qi=an[--nn],an[nn]=null,Zi=an[--nn],an[nn]=null;for(;e===Oa;)Oa=jl[--El],jl[El]=null,Zl=jl[--El],jl[El]=null,Ql=jl[--El],jl[El]=null}var nl=null,Rt=null,ht=!1,za=null,Ul=!1,wr=Error(d(519));function Ua(e){var t=Error(d(418,""));throw qn(_l(t,e)),wr}function Pu(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[wt]=e,t[pt]=a,l){case"dialog":st("cancel",t),st("close",t);break;case"iframe":case"object":case"embed":st("load",t);break;case"video":case"audio":for(l=0;l<gi.length;l++)st(gi[l],t);break;case"source":st("error",t);break;case"img":case"image":case"link":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"input":st("invalid",t),gu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Oi(t);break;case"select":st("invalid",t);break;case"textarea":st("invalid",t),mu(t,a.value,a.defaultValue,a.children),Oi(t)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||pf(t.textContent,l)?(a.popover!=null&&(st("beforetoggle",t),st("toggle",t)),a.onScroll!=null&&st("scroll",t),a.onScrollEnd!=null&&st("scrollend",t),a.onClick!=null&&(t.onclick=Cs),t=!0):t=!1,t||Ua(e)}function Iu(e){for(nl=e.return;nl;)switch(nl.tag){case 5:case 13:Ul=!1;return;case 27:case 3:Ul=!0;return;default:nl=nl.return}}function Yn(e){if(e!==nl)return!1;if(!ht)return Iu(e),ht=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Lo(e.type,e.memoizedProps)),l=!l),l&&Rt&&Ua(e),Iu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(t===0){Rt=zl(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++;e=e.nextSibling}Rt=null}}else t===27?(t=Rt,_a(e.type)?(e=Xo,Xo=null,Rt=e):Rt=t):Rt=nl?zl(e.stateNode.nextSibling):null;return!0}function Xn(){Rt=nl=null,ht=!1}function ec(){var e=za;return e!==null&&(cl===null?cl=e:cl.push.apply(cl,e),za=null),e}function qn(e){za===null?za=[e]:za.push(e)}var Sr=x(null),Ba=null,Kl=null;function oa(e,t,l){k(Sr,t._currentValue),t._currentValue=l}function Jl(e){e._currentValue=Sr.current,K(Sr)}function _r(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function kr(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=n;for(var f=0;f<t.length;f++)if(u.context===t[f]){i.lanes|=l,u=i.alternate,u!==null&&(u.lanes|=l),_r(i.return,l,e),a||(r=null);break e}i=u.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(d(341));r.lanes|=l,i=r.alternate,i!==null&&(i.lanes|=l),_r(r,l,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function Vn(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(d(387));if(r=r.memoizedProps,r!==null){var u=n.type;gl(n.pendingProps.value,r.value)||(e!==null?e.push(u):e=[u])}}else if(n===Fe.current){if(r=n.alternate,r===null)throw Error(d(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(vi):e=[vi])}n=n.return}e!==null&&kr(t,e,l,a),t.flags|=262144}function Ki(e){for(e=e.firstContext;e!==null;){if(!gl(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function La(e){Ba=e,Kl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ll(e){return tc(Ba,e)}function Ji(e,t){return Ba===null&&La(e),tc(e,t)}function tc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Kl===null){if(e===null)throw Error(d(308));Kl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Kl=Kl.next=t;return l}var ch=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},dh=o.unstable_scheduleCallback,fh=o.unstable_NormalPriority,Xt={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jr(){return{controller:new ch,data:new Map,refCount:0}}function $n(e){e.refCount--,e.refCount===0&&dh(fh,function(){e.controller.abort()})}var Qn=null,Er=0,sn=0,rn=null;function gh(e,t){if(Qn===null){var l=Qn=[];Er=0,sn=No(),rn={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Er++,t.then(lc,lc),t}function lc(){if(--Er===0&&Qn!==null){rn!==null&&(rn.status="fulfilled");var e=Qn;Qn=null,sn=0,rn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hh(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var ac=b.S;b.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&gh(e,t),ac!==null&&ac(e,t)};var Ha=x(null);function Cr(){var e=Ha.current;return e!==null?e:Et.pooledCache}function Wi(e,t){t===null?k(Ha,Ha.current):k(Ha,t.pool)}function nc(){var e=Cr();return e===null?null:{parent:Xt._currentValue,pool:e}}var Zn=Error(d(460)),ic=Error(d(474)),Fi=Error(d(542)),Ar={then:function(){}};function sc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pi(){}function rc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Pi,Pi),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uc(e),e;default:if(typeof t.status=="string")t.then(Pi,Pi);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uc(e),e}throw Kn=t,Zn}}var Kn=null;function oc(){if(Kn===null)throw Error(d(459));var e=Kn;return Kn=null,e}function uc(e){if(e===Zn||e===Fi)throw Error(d(483))}var ua=!1;function Nr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function da(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(bt&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Vi(e),Ju(e,null,l),t}return qi(e,a,t,l),Vi(e)}function Jn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,I(e,l)}}function Mr(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var r={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Rr=!1;function Wn(){if(Rr){var e=rn;if(e!==null)throw e}}function Fn(e,t,l,a){Rr=!1;var n=e.updateQueue;ua=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var f=u,S=f.next;f.next=null,r===null?i=S:r.next=S,r=f;var O=e.alternate;O!==null&&(O=O.updateQueue,u=O.lastBaseUpdate,u!==r&&(u===null?O.firstBaseUpdate=S:u.next=S,O.lastBaseUpdate=f))}if(i!==null){var Y=n.baseState;r=0,O=S=f=null,u=i;do{var C=u.lane&-536870913,N=C!==u.lane;if(N?(ot&C)===C:(a&C)===C){C!==0&&C===sn&&(Rr=!0),O!==null&&(O=O.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var Je=e,Qe=u;C=t;var kt=l;switch(Qe.tag){case 1:if(Je=Qe.payload,typeof Je=="function"){Y=Je.call(kt,Y,C);break e}Y=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Qe.payload,C=typeof Je=="function"?Je.call(kt,Y,C):Je,C==null)break e;Y=D({},Y,C);break e;case 2:ua=!0}}C=u.callback,C!==null&&(e.flags|=64,N&&(e.flags|=8192),N=n.callbacks,N===null?n.callbacks=[C]:N.push(C))}else N={lane:C,tag:u.tag,payload:u.payload,callback:u.callback,next:null},O===null?(S=O=N,f=Y):O=O.next=N,r|=C;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;N=u,u=N.next,N.next=null,n.lastBaseUpdate=N,n.shared.pending=null}}while(!0);O===null&&(f=Y),n.baseState=f,n.firstBaseUpdate=S,n.lastBaseUpdate=O,i===null&&(n.shared.lanes=0),va|=r,e.lanes=r,e.memoizedState=Y}}function cc(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function dc(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)cc(l[e],t)}var on=x(null),Ii=x(0);function fc(e,t){e=la,k(Ii,e),k(on,t),la=e|t.baseLanes}function Or(){k(Ii,la),k(on,on.current)}function Dr(){la=Ii.current,K(on),K(Ii)}var fa=0,lt=null,St=null,Ht=null,es=!1,un=!1,Ga=!1,ts=0,Pn=0,cn=null,mh=0;function Bt(){throw Error(d(321))}function zr(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!gl(e[l],t[l]))return!1;return!0}function Ur(e,t,l,a,n,i){return fa=i,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,b.H=e===null||e.memoizedState===null?Jc:Wc,Ga=!1,i=l(a,n),Ga=!1,un&&(i=hc(t,l,a,n)),gc(e),i}function gc(e){b.H=rs;var t=St!==null&&St.next!==null;if(fa=0,Ht=St=lt=null,es=!1,Pn=0,cn=null,t)throw Error(d(300));e===null||$t||(e=e.dependencies,e!==null&&Ki(e)&&($t=!0))}function hc(e,t,l,a){lt=e;var n=0;do{if(un&&(cn=null),Pn=0,un=!1,25<=n)throw Error(d(301));if(n+=1,Ht=St=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}b.H=Sh,i=t(l,a)}while(un);return i}function ph(){var e=b.H,t=e.useState()[0];return t=typeof t.then=="function"?In(t):t,e=e.useState()[0],(St!==null?St.memoizedState:null)!==e&&(lt.flags|=1024),t}function Br(){var e=ts!==0;return ts=0,e}function Lr(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Hr(e){if(es){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}es=!1}fa=0,Ht=St=lt=null,un=!1,Pn=ts=0,cn=null}function ol(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?lt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function Gt(){if(St===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Ht===null?lt.memoizedState:Ht.next;if(t!==null)Ht=t,St=e;else{if(e===null)throw lt.alternate===null?Error(d(467)):Error(d(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Ht===null?lt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function In(e){var t=Pn;return Pn+=1,cn===null&&(cn=[]),e=rc(cn,e,t),t=lt,(Ht===null?t.memoizedState:Ht.next)===null&&(t=t.alternate,b.H=t===null||t.memoizedState===null?Jc:Wc),e}function ls(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return In(e);if(e.$$typeof===w)return ll(e)}throw Error(d(438,String(e)))}function Yr(e){var t=null,l=lt.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=lt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Gr(),lt.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=ze;return t.index++,l}function Wl(e,t){return typeof t=="function"?t(e):t}function as(e){var t=Gt();return Xr(t,St,e)}function Xr(e,t,l){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var u=r=null,f=null,S=t,O=!1;do{var Y=S.lane&-536870913;if(Y!==S.lane?(ot&Y)===Y:(fa&Y)===Y){var C=S.revertLane;if(C===0)f!==null&&(f=f.next={lane:0,revertLane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),Y===sn&&(O=!0);else if((fa&C)===C){S=S.next,C===sn&&(O=!0);continue}else Y={lane:0,revertLane:S.revertLane,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},f===null?(u=f=Y,r=i):f=f.next=Y,lt.lanes|=C,va|=C;Y=S.action,Ga&&l(i,Y),i=S.hasEagerState?S.eagerState:l(i,Y)}else C={lane:Y,revertLane:S.revertLane,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},f===null?(u=f=C,r=i):f=f.next=C,lt.lanes|=Y,va|=Y;S=S.next}while(S!==null&&S!==t);if(f===null?r=i:f.next=u,!gl(i,e.memoizedState)&&($t=!0,O&&(l=rn,l!==null)))throw l;e.memoizedState=i,e.baseState=r,e.baseQueue=f,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function qr(e){var t=Gt(),l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);gl(i,t.memoizedState)||($t=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function mc(e,t,l){var a=lt,n=Gt(),i=ht;if(i){if(l===void 0)throw Error(d(407));l=l()}else l=t();var r=!gl((St||n).memoizedState,l);r&&(n.memoizedState=l,$t=!0),n=n.queue;var u=yc.bind(null,a,n,e);if(ei(2048,8,u,[e]),n.getSnapshot!==t||r||Ht!==null&&Ht.memoizedState.tag&1){if(a.flags|=2048,dn(9,ns(),bc.bind(null,a,n,l,t),null),Et===null)throw Error(d(349));i||(fa&124)!==0||pc(a,t,l)}return l}function pc(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=lt.updateQueue,t===null?(t=Gr(),lt.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function bc(e,t,l,a){t.value=l,t.getSnapshot=a,vc(t)&&xc(e)}function yc(e,t,l){return l(function(){vc(t)&&xc(e)})}function vc(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!gl(e,l)}catch{return!0}}function xc(e){var t=tn(e,2);t!==null&&vl(t,e,2)}function Vr(e){var t=ol();if(typeof e=="function"){var l=e;if(e=l(),Ga){We(!0);try{l()}finally{We(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:e},t}function wc(e,t,l,a){return e.baseState=l,Xr(e,St,typeof a=="function"?a:Wl)}function bh(e,t,l,a,n){if(ss(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};b.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,Sc(t,i)):(i.next=l.next,t.pending=l.next=i)}}function Sc(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=b.T,r={};b.T=r;try{var u=l(n,a),f=b.S;f!==null&&f(r,u),_c(e,t,u)}catch(S){$r(e,t,S)}finally{b.T=i}}else try{i=l(n,a),_c(e,t,i)}catch(S){$r(e,t,S)}}function _c(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){kc(e,t,a)},function(a){return $r(e,t,a)}):kc(e,t,l)}function kc(e,t,l){t.status="fulfilled",t.value=l,jc(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Sc(e,l)))}function $r(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,jc(t),t=t.next;while(t!==a)}e.action=null}function jc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ec(e,t){return t}function Cc(e,t){if(ht){var l=Et.formState;if(l!==null){e:{var a=lt;if(ht){if(Rt){t:{for(var n=Rt,i=Ul;n.nodeType!==8;){if(!i){n=null;break t}if(n=zl(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Rt=zl(n.nextSibling),a=n.data==="F!";break e}}Ua(a)}a=!1}a&&(t=l[0])}}return l=ol(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:t},l.queue=a,l=Qc.bind(null,lt,a),a.dispatch=l,a=Vr(!1),i=Wr.bind(null,lt,!1,a.queue),a=ol(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=bh.bind(null,lt,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Ac(e){var t=Gt();return Nc(t,St,e)}function Nc(e,t,l){if(t=Xr(e,t,Ec)[0],e=as(Wl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=In(t)}catch(r){throw r===Zn?Fi:r}else a=t;t=Gt();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(lt.flags|=2048,dn(9,ns(),yh.bind(null,n,l),null)),[a,i,e]}function yh(e,t){e.action=t}function Tc(e){var t=Gt(),l=St;if(l!==null)return Nc(t,l,e);Gt(),t=t.memoizedState,l=Gt();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function dn(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=lt.updateQueue,t===null&&(t=Gr(),lt.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function ns(){return{destroy:void 0,resource:void 0}}function Mc(){return Gt().memoizedState}function is(e,t,l,a){var n=ol();a=a===void 0?null:a,lt.flags|=e,n.memoizedState=dn(1|t,ns(),l,a)}function ei(e,t,l,a){var n=Gt();a=a===void 0?null:a;var i=n.memoizedState.inst;St!==null&&a!==null&&zr(a,St.memoizedState.deps)?n.memoizedState=dn(t,i,l,a):(lt.flags|=e,n.memoizedState=dn(1|t,i,l,a))}function Rc(e,t){is(8390656,8,e,t)}function Oc(e,t){ei(2048,8,e,t)}function Dc(e,t){return ei(4,2,e,t)}function zc(e,t){return ei(4,4,e,t)}function Uc(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bc(e,t,l){l=l!=null?l.concat([e]):null,ei(4,4,Uc.bind(null,t,e),l)}function Qr(){}function Lc(e,t){var l=Gt();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&zr(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Hc(e,t){var l=Gt();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&zr(t,a[1]))return a[0];if(a=e(),Ga){We(!0);try{e()}finally{We(!1)}}return l.memoizedState=[a,t],a}function Zr(e,t,l){return l===void 0||(fa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=l,e=Xd(),lt.lanes|=e,va|=e,l)}function Gc(e,t,l,a){return gl(l,t)?l:on.current!==null?(e=Zr(e,l,a),gl(e,t)||($t=!0),e):(fa&42)===0?($t=!0,e.memoizedState=l):(e=Xd(),lt.lanes|=e,va|=e,t)}function Yc(e,t,l,a,n){var i=B.p;B.p=i!==0&&8>i?i:8;var r=b.T,u={};b.T=u,Wr(e,!1,t,l);try{var f=n(),S=b.S;if(S!==null&&S(u,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var O=hh(f,a);ti(e,t,O,yl(e))}else ti(e,t,a,yl(e))}catch(Y){ti(e,t,{then:function(){},status:"rejected",reason:Y},yl())}finally{B.p=i,b.T=r}}function vh(){}function Kr(e,t,l,a){if(e.tag!==5)throw Error(d(476));var n=Xc(e).queue;Yc(e,n,t,re,l===null?vh:function(){return qc(e),l(a)})}function Xc(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:re},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qc(e){var t=Xc(e).next.queue;ti(e,t,{},yl())}function Jr(){return ll(vi)}function Vc(){return Gt().memoizedState}function $c(){return Gt().memoizedState}function xh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=yl();e=ca(l);var a=da(t,e,l);a!==null&&(vl(a,t,l),Jn(a,t,l)),t={cache:jr()},e.payload=t;return}t=t.return}}function wh(e,t,l){var a=yl();l={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ss(e)?Zc(t,l):(l=mr(e,t,l,a),l!==null&&(vl(l,e,a),Kc(l,t,a)))}function Qc(e,t,l){var a=yl();ti(e,t,l,a)}function ti(e,t,l,a){var n={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ss(e))Zc(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,u=i(r,l);if(n.hasEagerState=!0,n.eagerState=u,gl(u,r))return qi(e,t,n,0),Et===null&&Xi(),!1}catch{}finally{}if(l=mr(e,t,n,a),l!==null)return vl(l,e,a),Kc(l,t,a),!0}return!1}function Wr(e,t,l,a){if(a={lane:2,revertLane:No(),action:a,hasEagerState:!1,eagerState:null,next:null},ss(e)){if(t)throw Error(d(479))}else t=mr(e,l,a,2),t!==null&&vl(t,e,2)}function ss(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function Zc(e,t){un=es=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Kc(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,I(e,l)}}var rs={readContext:ll,use:ls,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},Jc={readContext:ll,use:ls,useCallback:function(e,t){return ol().memoizedState=[e,t===void 0?null:t],e},useContext:ll,useEffect:Rc,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,is(4194308,4,Uc.bind(null,t,e),l)},useLayoutEffect:function(e,t){return is(4194308,4,e,t)},useInsertionEffect:function(e,t){is(4,2,e,t)},useMemo:function(e,t){var l=ol();t=t===void 0?null:t;var a=e();if(Ga){We(!0);try{e()}finally{We(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=ol();if(l!==void 0){var n=l(t);if(Ga){We(!0);try{l(t)}finally{We(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=wh.bind(null,lt,e),[a.memoizedState,e]},useRef:function(e){var t=ol();return e={current:e},t.memoizedState=e},useState:function(e){e=Vr(e);var t=e.queue,l=Qc.bind(null,lt,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Qr,useDeferredValue:function(e,t){var l=ol();return Zr(l,e,t)},useTransition:function(){var e=Vr(!1);return e=Yc.bind(null,lt,e.queue,!0,!1),ol().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=lt,n=ol();if(ht){if(l===void 0)throw Error(d(407));l=l()}else{if(l=t(),Et===null)throw Error(d(349));(ot&124)!==0||pc(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,Rc(yc.bind(null,a,i,e),[e]),a.flags|=2048,dn(9,ns(),bc.bind(null,a,i,l,t),null),l},useId:function(){var e=ol(),t=Et.identifierPrefix;if(ht){var l=Zl,a=Ql;l=(a&~(1<<32-qe(a)-1)).toString(32)+l,t=""+t+"R"+l,l=ts++,0<l&&(t+="H"+l.toString(32)),t+=""}else l=mh++,t=""+t+"r"+l.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Jr,useFormState:Cc,useActionState:Cc,useOptimistic:function(e){var t=ol();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Wr.bind(null,lt,!0,l),l.dispatch=t,[e,t]},useMemoCache:Yr,useCacheRefresh:function(){return ol().memoizedState=xh.bind(null,lt)}},Wc={readContext:ll,use:ls,useCallback:Lc,useContext:ll,useEffect:Oc,useImperativeHandle:Bc,useInsertionEffect:Dc,useLayoutEffect:zc,useMemo:Hc,useReducer:as,useRef:Mc,useState:function(){return as(Wl)},useDebugValue:Qr,useDeferredValue:function(e,t){var l=Gt();return Gc(l,St.memoizedState,e,t)},useTransition:function(){var e=as(Wl)[0],t=Gt().memoizedState;return[typeof e=="boolean"?e:In(e),t]},useSyncExternalStore:mc,useId:Vc,useHostTransitionStatus:Jr,useFormState:Ac,useActionState:Ac,useOptimistic:function(e,t){var l=Gt();return wc(l,St,e,t)},useMemoCache:Yr,useCacheRefresh:$c},Sh={readContext:ll,use:ls,useCallback:Lc,useContext:ll,useEffect:Oc,useImperativeHandle:Bc,useInsertionEffect:Dc,useLayoutEffect:zc,useMemo:Hc,useReducer:qr,useRef:Mc,useState:function(){return qr(Wl)},useDebugValue:Qr,useDeferredValue:function(e,t){var l=Gt();return St===null?Zr(l,e,t):Gc(l,St.memoizedState,e,t)},useTransition:function(){var e=qr(Wl)[0],t=Gt().memoizedState;return[typeof e=="boolean"?e:In(e),t]},useSyncExternalStore:mc,useId:Vc,useHostTransitionStatus:Jr,useFormState:Tc,useActionState:Tc,useOptimistic:function(e,t){var l=Gt();return St!==null?wc(l,St,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Yr,useCacheRefresh:$c},fn=null,li=0;function os(e){var t=li;return li+=1,fn===null&&(fn=[]),rc(fn,e,t)}function ai(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function us(e,t){throw t.$$typeof===F?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fc(e){var t=e._init;return t(e._payload)}function Pc(e){function t(m,h){if(e){var y=m.deletions;y===null?(m.deletions=[h],m.flags|=16):y.push(h)}}function l(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function a(m){for(var h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function n(m,h){return m=$l(m,h),m.index=0,m.sibling=null,m}function i(m,h,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<h?(m.flags|=67108866,h):y):(m.flags|=67108866,h)):(m.flags|=1048576,h)}function r(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function u(m,h,y,U){return h===null||h.tag!==6?(h=br(y,m.mode,U),h.return=m,h):(h=n(h,y),h.return=m,h)}function f(m,h,y,U){var Ee=y.type;return Ee===P?O(m,h,y.props.children,U,y.key):h!==null&&(h.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===q&&Fc(Ee)===h.type)?(h=n(h,y.props),ai(h,y),h.return=m,h):(h=$i(y.type,y.key,y.props,null,m.mode,U),ai(h,y),h.return=m,h)}function S(m,h,y,U){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=yr(y,m.mode,U),h.return=m,h):(h=n(h,y.children||[]),h.return=m,h)}function O(m,h,y,U,Ee){return h===null||h.tag!==7?(h=Ra(y,m.mode,U,Ee),h.return=m,h):(h=n(h,y),h.return=m,h)}function Y(m,h,y){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=br(""+h,m.mode,y),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case V:return y=$i(h.type,h.key,h.props,null,m.mode,y),ai(y,h),y.return=m,y;case ye:return h=yr(h,m.mode,y),h.return=m,h;case q:var U=h._init;return h=U(h._payload),Y(m,h,y)}if(je(h)||Ue(h))return h=Ra(h,m.mode,y,null),h.return=m,h;if(typeof h.then=="function")return Y(m,os(h),y);if(h.$$typeof===w)return Y(m,Ji(m,h),y);us(m,h)}return null}function C(m,h,y,U){var Ee=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return Ee!==null?null:u(m,h,""+y,U);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case V:return y.key===Ee?f(m,h,y,U):null;case ye:return y.key===Ee?S(m,h,y,U):null;case q:return Ee=y._init,y=Ee(y._payload),C(m,h,y,U)}if(je(y)||Ue(y))return Ee!==null?null:O(m,h,y,U,null);if(typeof y.then=="function")return C(m,h,os(y),U);if(y.$$typeof===w)return C(m,h,Ji(m,y),U);us(m,y)}return null}function N(m,h,y,U,Ee){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return m=m.get(y)||null,u(h,m,""+U,Ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case V:return m=m.get(U.key===null?y:U.key)||null,f(h,m,U,Ee);case ye:return m=m.get(U.key===null?y:U.key)||null,S(h,m,U,Ee);case q:var at=U._init;return U=at(U._payload),N(m,h,y,U,Ee)}if(je(U)||Ue(U))return m=m.get(y)||null,O(h,m,U,Ee,null);if(typeof U.then=="function")return N(m,h,y,os(U),Ee);if(U.$$typeof===w)return N(m,h,y,Ji(h,U),Ee);us(h,U)}return null}function Je(m,h,y,U){for(var Ee=null,at=null,He=h,Ke=h=0,Zt=null;He!==null&&Ke<y.length;Ke++){He.index>Ke?(Zt=He,He=null):Zt=He.sibling;var ft=C(m,He,y[Ke],U);if(ft===null){He===null&&(He=Zt);break}e&&He&&ft.alternate===null&&t(m,He),h=i(ft,h,Ke),at===null?Ee=ft:at.sibling=ft,at=ft,He=Zt}if(Ke===y.length)return l(m,He),ht&&Da(m,Ke),Ee;if(He===null){for(;Ke<y.length;Ke++)He=Y(m,y[Ke],U),He!==null&&(h=i(He,h,Ke),at===null?Ee=He:at.sibling=He,at=He);return ht&&Da(m,Ke),Ee}for(He=a(He);Ke<y.length;Ke++)Zt=N(He,m,Ke,y[Ke],U),Zt!==null&&(e&&Zt.alternate!==null&&He.delete(Zt.key===null?Ke:Zt.key),h=i(Zt,h,Ke),at===null?Ee=Zt:at.sibling=Zt,at=Zt);return e&&He.forEach(function(Aa){return t(m,Aa)}),ht&&Da(m,Ke),Ee}function Qe(m,h,y,U){if(y==null)throw Error(d(151));for(var Ee=null,at=null,He=h,Ke=h=0,Zt=null,ft=y.next();He!==null&&!ft.done;Ke++,ft=y.next()){He.index>Ke?(Zt=He,He=null):Zt=He.sibling;var Aa=C(m,He,ft.value,U);if(Aa===null){He===null&&(He=Zt);break}e&&He&&Aa.alternate===null&&t(m,He),h=i(Aa,h,Ke),at===null?Ee=Aa:at.sibling=Aa,at=Aa,He=Zt}if(ft.done)return l(m,He),ht&&Da(m,Ke),Ee;if(He===null){for(;!ft.done;Ke++,ft=y.next())ft=Y(m,ft.value,U),ft!==null&&(h=i(ft,h,Ke),at===null?Ee=ft:at.sibling=ft,at=ft);return ht&&Da(m,Ke),Ee}for(He=a(He);!ft.done;Ke++,ft=y.next())ft=N(He,m,Ke,ft.value,U),ft!==null&&(e&&ft.alternate!==null&&He.delete(ft.key===null?Ke:ft.key),h=i(ft,h,Ke),at===null?Ee=ft:at.sibling=ft,at=ft);return e&&He.forEach(function(_0){return t(m,_0)}),ht&&Da(m,Ke),Ee}function kt(m,h,y,U){if(typeof y=="object"&&y!==null&&y.type===P&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case V:e:{for(var Ee=y.key;h!==null;){if(h.key===Ee){if(Ee=y.type,Ee===P){if(h.tag===7){l(m,h.sibling),U=n(h,y.props.children),U.return=m,m=U;break e}}else if(h.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===q&&Fc(Ee)===h.type){l(m,h.sibling),U=n(h,y.props),ai(U,y),U.return=m,m=U;break e}l(m,h);break}else t(m,h);h=h.sibling}y.type===P?(U=Ra(y.props.children,m.mode,U,y.key),U.return=m,m=U):(U=$i(y.type,y.key,y.props,null,m.mode,U),ai(U,y),U.return=m,m=U)}return r(m);case ye:e:{for(Ee=y.key;h!==null;){if(h.key===Ee)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){l(m,h.sibling),U=n(h,y.children||[]),U.return=m,m=U;break e}else{l(m,h);break}else t(m,h);h=h.sibling}U=yr(y,m.mode,U),U.return=m,m=U}return r(m);case q:return Ee=y._init,y=Ee(y._payload),kt(m,h,y,U)}if(je(y))return Je(m,h,y,U);if(Ue(y)){if(Ee=Ue(y),typeof Ee!="function")throw Error(d(150));return y=Ee.call(y),Qe(m,h,y,U)}if(typeof y.then=="function")return kt(m,h,os(y),U);if(y.$$typeof===w)return kt(m,h,Ji(m,y),U);us(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,h!==null&&h.tag===6?(l(m,h.sibling),U=n(h,y),U.return=m,m=U):(l(m,h),U=br(y,m.mode,U),U.return=m,m=U),r(m)):l(m,h)}return function(m,h,y,U){try{li=0;var Ee=kt(m,h,y,U);return fn=null,Ee}catch(He){if(He===Zn||He===Fi)throw He;var at=hl(29,He,null,m.mode);return at.lanes=U,at.return=m,at}finally{}}}var gn=Pc(!0),Ic=Pc(!1),Cl=x(null),Bl=null;function ga(e){var t=e.alternate;k(qt,qt.current&1),k(Cl,e),Bl===null&&(t===null||on.current!==null||t.memoizedState!==null)&&(Bl=e)}function ed(e){if(e.tag===22){if(k(qt,qt.current),k(Cl,e),Bl===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Bl=e)}}else ha()}function ha(){k(qt,qt.current),k(Cl,Cl.current)}function Fl(e){K(Cl),Bl===e&&(Bl=null),K(qt)}var qt=x(0);function cs(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Yo(l)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fr(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:D({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Pr={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=yl(),n=ca(a);n.payload=t,l!=null&&(n.callback=l),t=da(e,n,a),t!==null&&(vl(t,e,a),Jn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=yl(),n=ca(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=da(e,n,a),t!==null&&(vl(t,e,a),Jn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=yl(),a=ca(l);a.tag=2,t!=null&&(a.callback=t),t=da(e,a,l),t!==null&&(vl(t,e,l),Jn(t,e,l))}};function td(e,t,l,a,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!Hn(l,a)||!Hn(n,i):!0}function ld(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Pr.enqueueReplaceState(t,t.state,null)}function Ya(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=D({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}var ds=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ad(e){ds(e)}function nd(e){console.error(e)}function id(e){ds(e)}function fs(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function sd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Ir(e,t,l){return l=ca(l),l.tag=3,l.payload={element:null},l.callback=function(){fs(e,t)},l}function rd(e){return e=ca(e),e.tag=3,e}function od(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){sd(t,l,a)}}var r=l.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){sd(t,l,a),typeof n!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function _h(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Vn(t,l,n,!0),l=Cl.current,l!==null){switch(l.tag){case 13:return Bl===null?ko():l.alternate===null&&Ot===0&&(Ot=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===Ar?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Eo(e,a,n)),!1;case 22:return l.flags|=65536,a===Ar?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Eo(e,a,n)),!1}throw Error(d(435,l.tag))}return Eo(e,a,n),ko(),!1}if(ht)return t=Cl.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==wr&&(e=Error(d(422),{cause:a}),qn(_l(e,l)))):(a!==wr&&(t=Error(d(423),{cause:a}),qn(_l(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=_l(a,l),n=Ir(e.stateNode,a,n),Mr(e,n),Ot!==4&&(Ot=2)),!1;var i=Error(d(520),{cause:a});if(i=_l(i,l),ci===null?ci=[i]:ci.push(i),Ot!==4&&(Ot=2),t===null)return!0;a=_l(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Ir(l.stateNode,a,e),Mr(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(xa===null||!xa.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=rd(n),od(n,e,l,a),Mr(l,n),!1}l=l.return}while(l!==null);return!1}var ud=Error(d(461)),$t=!1;function Ft(e,t,l,a){t.child=e===null?Ic(t,null,l,a):gn(t,e.child,l,a)}function cd(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var r={};for(var u in a)u!=="ref"&&(r[u]=a[u])}else r=a;return La(t),a=Ur(e,t,l,r,i,n),u=Br(),e!==null&&!$t?(Lr(e,t,n),Pl(e,t,n)):(ht&&u&&vr(t),t.flags|=1,Ft(e,t,a,n),t.child)}function dd(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!pr(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,fd(e,t,i,a,n)):(e=$i(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!ro(e,n)){var r=i.memoizedProps;if(l=l.compare,l=l!==null?l:Hn,l(r,a)&&e.ref===t.ref)return Pl(e,t,n)}return t.flags|=1,e=$l(i,a),e.ref=t.ref,e.return=t,t.child=e}function fd(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(Hn(i,a)&&e.ref===t.ref)if($t=!1,t.pendingProps=a=i,ro(e,n))(e.flags&131072)!==0&&($t=!0);else return t.lanes=e.lanes,Pl(e,t,n)}return eo(e,t,l,a,n)}function gd(e,t,l){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=i!==null?i.baseLanes|l:l,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~a}else t.childLanes=0,t.child=null;return hd(e,t,a,l)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wi(t,i!==null?i.cachePool:null),i!==null?fc(t,i):Or(),ed(t);else return t.lanes=t.childLanes=536870912,hd(e,t,i!==null?i.baseLanes|l:l,l)}else i!==null?(Wi(t,i.cachePool),fc(t,i),ha(),t.memoizedState=null):(e!==null&&Wi(t,null),Or(),ha());return Ft(e,t,n,l),t.child}function hd(e,t,l,a){var n=Cr();return n=n===null?null:{parent:Xt._currentValue,pool:n},t.memoizedState={baseLanes:l,cachePool:n},e!==null&&Wi(t,null),Or(),ed(t),e!==null&&Vn(e,t,a,!0),null}function gs(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(d(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function eo(e,t,l,a,n){return La(t),l=Ur(e,t,l,a,void 0,n),a=Br(),e!==null&&!$t?(Lr(e,t,n),Pl(e,t,n)):(ht&&a&&vr(t),t.flags|=1,Ft(e,t,l,n),t.child)}function md(e,t,l,a,n,i){return La(t),t.updateQueue=null,l=hc(t,a,l,n),gc(e),a=Br(),e!==null&&!$t?(Lr(e,t,i),Pl(e,t,i)):(ht&&a&&vr(t),t.flags|=1,Ft(e,t,l,i),t.child)}function pd(e,t,l,a,n){if(La(t),t.stateNode===null){var i=ln,r=l.contextType;typeof r=="object"&&r!==null&&(i=ll(r)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Pr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Nr(t),r=l.contextType,i.context=typeof r=="object"&&r!==null?ll(r):ln,i.state=t.memoizedState,r=l.getDerivedStateFromProps,typeof r=="function"&&(Fr(t,l,r,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Pr.enqueueReplaceState(i,i.state,null),Fn(t,a,i,n),Wn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,f=Ya(l,u);i.props=f;var S=i.context,O=l.contextType;r=ln,typeof O=="object"&&O!==null&&(r=ll(O));var Y=l.getDerivedStateFromProps;O=typeof Y=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,O||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||S!==r)&&ld(t,i,a,r),ua=!1;var C=t.memoizedState;i.state=C,Fn(t,a,i,n),Wn(),S=t.memoizedState,u||C!==S||ua?(typeof Y=="function"&&(Fr(t,l,Y,a),S=t.memoizedState),(f=ua||td(t,l,f,a,C,S,r))?(O||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=S),i.props=a,i.state=S,i.context=r,a=f):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Tr(e,t),r=t.memoizedProps,O=Ya(l,r),i.props=O,Y=t.pendingProps,C=i.context,S=l.contextType,f=ln,typeof S=="object"&&S!==null&&(f=ll(S)),u=l.getDerivedStateFromProps,(S=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==Y||C!==f)&&ld(t,i,a,f),ua=!1,C=t.memoizedState,i.state=C,Fn(t,a,i,n),Wn();var N=t.memoizedState;r!==Y||C!==N||ua||e!==null&&e.dependencies!==null&&Ki(e.dependencies)?(typeof u=="function"&&(Fr(t,l,u,a),N=t.memoizedState),(O=ua||td(t,l,O,a,C,N,f)||e!==null&&e.dependencies!==null&&Ki(e.dependencies))?(S||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,N,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,N,f)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=N),i.props=a,i.state=N,i.context=f,a=O):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,gs(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=gn(t,e.child,null,n),t.child=gn(t,null,l,n)):Ft(e,t,l,n),t.memoizedState=i.state,e=t.child):e=Pl(e,t,n),e}function bd(e,t,l,a){return Xn(),t.flags|=256,Ft(e,t,l,a),t.child}var to={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lo(e){return{baseLanes:e,cachePool:nc()}}function ao(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Al),e}function yd(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(qt.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ht){if(n?ga(t):ha(),ht){var u=Rt,f;if(f=u){e:{for(f=u,u=Ul;f.nodeType!==8;){if(!u){u=null;break e}if(f=zl(f.nextSibling),f===null){u=null;break e}}u=f}u!==null?(t.memoizedState={dehydrated:u,treeContext:Oa!==null?{id:Ql,overflow:Zl}:null,retryLane:536870912,hydrationErrors:null},f=hl(18,null,null,0),f.stateNode=u,f.return=t,t.child=f,nl=t,Rt=null,f=!0):f=!1}f||Ua(t)}if(u=t.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Yo(u)?t.lanes=32:t.lanes=536870912,null;Fl(t)}return u=a.children,a=a.fallback,n?(ha(),n=t.mode,u=hs({mode:"hidden",children:u},n),a=Ra(a,n,l,null),u.return=t,a.return=t,u.sibling=a,t.child=u,n=t.child,n.memoizedState=lo(l),n.childLanes=ao(e,r,l),t.memoizedState=to,a):(ga(t),no(t,u))}if(f=e.memoizedState,f!==null&&(u=f.dehydrated,u!==null)){if(i)t.flags&256?(ga(t),t.flags&=-257,t=io(e,t,l)):t.memoizedState!==null?(ha(),t.child=e.child,t.flags|=128,t=null):(ha(),n=a.fallback,u=t.mode,a=hs({mode:"visible",children:a.children},u),n=Ra(n,u,l,null),n.flags|=2,a.return=t,n.return=t,a.sibling=n,t.child=a,gn(t,e.child,null,l),a=t.child,a.memoizedState=lo(l),a.childLanes=ao(e,r,l),t.memoizedState=to,t=n);else if(ga(t),Yo(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var S=r.dgst;r=S,a=Error(d(419)),a.stack="",a.digest=r,qn({value:a,source:null,stack:null}),t=io(e,t,l)}else if($t||Vn(e,t,l,!1),r=(l&e.childLanes)!==0,$t||r){if(r=Et,r!==null&&(a=l&-l,a=(a&42)!==0?1:ke(a),a=(a&(r.suspendedLanes|l))!==0?0:a,a!==0&&a!==f.retryLane))throw f.retryLane=a,tn(e,a),vl(r,e,a),ud;u.data==="$?"||ko(),t=io(e,t,l)}else u.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=f.treeContext,Rt=zl(u.nextSibling),nl=t,ht=!0,za=null,Ul=!1,e!==null&&(jl[El++]=Ql,jl[El++]=Zl,jl[El++]=Oa,Ql=e.id,Zl=e.overflow,Oa=t),t=no(t,a.children),t.flags|=4096);return t}return n?(ha(),n=a.fallback,u=t.mode,f=e.child,S=f.sibling,a=$l(f,{mode:"hidden",children:a.children}),a.subtreeFlags=f.subtreeFlags&65011712,S!==null?n=$l(S,n):(n=Ra(n,u,l,null),n.flags|=2),n.return=t,a.return=t,a.sibling=n,t.child=a,a=n,n=t.child,u=e.child.memoizedState,u===null?u=lo(l):(f=u.cachePool,f!==null?(S=Xt._currentValue,f=f.parent!==S?{parent:S,pool:S}:f):f=nc(),u={baseLanes:u.baseLanes|l,cachePool:f}),n.memoizedState=u,n.childLanes=ao(e,r,l),t.memoizedState=to,a):(ga(t),l=e.child,e=l.sibling,l=$l(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l)}function no(e,t){return t=hs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hs(e,t){return e=hl(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function io(e,t,l){return gn(t,e.child,null,l),e=no(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),_r(e.return,t,l)}function so(e,t,l,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=l,i.tailMode=n)}function xd(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(Ft(e,t,a.children,l),a=qt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vd(e,l,t);else if(e.tag===19)vd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(k(qt,a),n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&cs(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),so(t,!1,n,l,i);break;case"backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&cs(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}so(t,!0,l,null,i);break;case"together":so(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pl(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),va|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Vn(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,l=$l(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=$l(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function ro(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ki(e)))}function kh(e,t,l){switch(t.tag){case 3:De(t,t.stateNode.containerInfo),oa(t,Xt,e.memoizedState.cache),Xn();break;case 27:case 5:be(t);break;case 4:De(t,t.stateNode.containerInfo);break;case 10:oa(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ga(t),t.flags|=128,null):(l&t.child.childLanes)!==0?yd(e,t,l):(ga(t),e=Pl(e,t,l),e!==null?e.sibling:null);ga(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Vn(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return xd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),k(qt,qt.current),a)break;return null;case 22:case 23:return t.lanes=0,gd(e,t,l);case 24:oa(t,Xt,e.memoizedState.cache)}return Pl(e,t,l)}function wd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!ro(e,l)&&(t.flags&128)===0)return $t=!1,kh(e,t,l);$t=(e.flags&131072)!==0}else $t=!1,ht&&(t.flags&1048576)!==0&&Fu(t,Zi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,n=a._init;if(a=n(a._payload),t.type=a,typeof a=="function")pr(a)?(e=Ya(a,e),t.tag=1,t=pd(null,t,a,e,l)):(t.tag=0,t=eo(null,t,a,e,l));else{if(a!=null){if(n=a.$$typeof,n===xe){t.tag=11,t=cd(null,t,a,e,l);break e}else if(n===we){t.tag=14,t=dd(null,t,a,e,l);break e}}throw t=Ne(a)||a,Error(d(306,t,""))}}return t;case 0:return eo(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=Ya(a,t.pendingProps),pd(e,t,a,n,l);case 3:e:{if(De(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,Tr(e,t),Fn(t,a,null,l);var r=t.memoizedState;if(a=r.cache,oa(t,Xt,a),a!==i.cache&&kr(t,[Xt],l,!0),Wn(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=bd(e,t,a,l);break e}else if(a!==n){n=_l(Error(d(424)),t),qn(n),t=bd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=zl(e.firstChild),nl=t,ht=!0,za=null,Ul=!0,l=Ic(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xn(),a===n){t=Pl(e,t,l);break e}Ft(e,t,a,l)}t=t.child}return t;case 26:return gs(e,t),e===null?(l=Ef(t.type,null,t.pendingProps,null))?t.memoizedState=l:ht||(l=t.type,e=t.pendingProps,a=As(me.current).createElement(l),a[wt]=t,a[pt]=e,It(a,l,e),Ze(a),t.stateNode=a):t.memoizedState=Ef(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&ht&&(a=t.stateNode=_f(t.type,t.pendingProps,me.current),nl=t,Ul=!0,n=Rt,_a(t.type)?(Xo=n,Rt=zl(a.firstChild)):Rt=n),Ft(e,t,t.pendingProps.children,l),gs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ht&&((n=a=Rt)&&(a=Ph(a,t.type,t.pendingProps,Ul),a!==null?(t.stateNode=a,nl=t,Rt=zl(a.firstChild),Ul=!1,n=!0):n=!1),n||Ua(t)),be(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,a=i.children,Lo(n,i)?a=null:r!==null&&Lo(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=Ur(e,t,ph,null,null,l),vi._currentValue=n),gs(e,t),Ft(e,t,a,l),t.child;case 6:return e===null&&ht&&((e=l=Rt)&&(l=Ih(l,t.pendingProps,Ul),l!==null?(t.stateNode=l,nl=t,Rt=null,e=!0):e=!1),e||Ua(t)),null;case 13:return yd(e,t,l);case 4:return De(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=gn(t,null,a,l):Ft(e,t,a,l),t.child;case 11:return cd(e,t,t.type,t.pendingProps,l);case 7:return Ft(e,t,t.pendingProps,l),t.child;case 8:return Ft(e,t,t.pendingProps.children,l),t.child;case 12:return Ft(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,oa(t,t.type,a.value),Ft(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,La(t),n=ll(n),a=a(n),t.flags|=1,Ft(e,t,a,l),t.child;case 14:return dd(e,t,t.type,t.pendingProps,l);case 15:return fd(e,t,t.type,t.pendingProps,l);case 19:return xd(e,t,l);case 31:return a=t.pendingProps,l=t.mode,a={mode:a.mode,children:a.children},e===null?(l=hs(a,l),l.ref=t.ref,t.child=l,l.return=t,t=l):(l=$l(e.child,a),l.ref=t.ref,t.child=l,l.return=t,t=l),t;case 22:return gd(e,t,l);case 24:return La(t),a=ll(Xt),e===null?(n=Cr(),n===null&&(n=Et,i=jr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},Nr(t),oa(t,Xt,n)):((e.lanes&l)!==0&&(Tr(e,t),Fn(t,null,null,l),Wn()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),oa(t,Xt,a)):(a=i.cache,oa(t,Xt,a),a!==n.cache&&kr(t,[Xt],l,!0))),Ft(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function Il(e){e.flags|=4}function Sd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mf(t)){if(t=Cl.current,t!==null&&((ot&4194048)===ot?Bl!==null:(ot&62914560)!==ot&&(ot&536870912)===0||t!==Bl))throw Kn=Ar,ic;e.flags|=8192}}function ms(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vt():536870912,e.lanes|=t,bn|=t)}function ni(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function jh(e,t,l){var a=t.pendingProps;switch(xr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return Mt(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Jl(Xt),ve(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Yn(t)?Il(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ec())),Mt(t),null;case 26:return l=t.memoizedState,e===null?(Il(t),l!==null?(Mt(t),Sd(t,l)):(Mt(t),t.flags&=-16777217)):l?l!==e.memoizedState?(Il(t),Mt(t),Sd(t,l)):(Mt(t),t.flags&=-16777217):(e.memoizedProps!==a&&Il(t),Mt(t),t.flags&=-16777217),null;case 27:W(t),l=me.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Il(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Mt(t),null}e=M.current,Yn(t)?Pu(t):(e=_f(n,a,l),t.stateNode=e,Il(t))}return Mt(t),null;case 5:if(W(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Il(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Mt(t),null}if(e=M.current,Yn(t))Pu(t);else{switch(n=As(me.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?n.createElement("select",{is:a.is}):n.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?n.createElement(l,{is:a.is}):n.createElement(l)}}e[wt]=t,e[pt]=a;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(It(e,l,a),l){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Il(t)}}return Mt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Il(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=me.current,Yn(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=nl,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[wt]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||pf(e.nodeValue,l)),e||Ua(t)}else e=As(e).createTextNode(a),e[wt]=t,t.stateNode=e}return Mt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Yn(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(d(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(d(317));n[wt]=t}else Xn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mt(t),n=!1}else n=ec(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Fl(t),t):(Fl(t),null)}if(Fl(t),(t.flags&128)!==0)return t.lanes=l,t;if(l=a!==null,e=e!==null&&e.memoizedState!==null,l){a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool);var i=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)}return l!==e&&l&&(t.child.flags|=8192),ms(t,t.updateQueue),Mt(t),null;case 4:return ve(),e===null&&Oo(t.stateNode.containerInfo),Mt(t),null;case 10:return Jl(t.type),Mt(t),null;case 19:if(K(qt),n=t.memoizedState,n===null)return Mt(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)ni(n,!1);else{if(Ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=cs(e),i!==null){for(t.flags|=128,ni(n,!1),e=i.updateQueue,t.updateQueue=e,ms(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Wu(l,e),l=l.sibling;return k(qt,qt.current&1|2),t.child}e=e.sibling}n.tail!==null&&ue()>ys&&(t.flags|=128,a=!0,ni(n,!1),t.lanes=4194304)}else{if(!a)if(e=cs(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ms(t,e),ni(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ht)return Mt(t),null}else 2*ue()-n.renderingStartTime>ys&&l!==536870912&&(t.flags|=128,a=!0,ni(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=ue(),t.sibling=null,e=qt.current,k(qt,a?e&1|2:e&1),t):(Mt(t),null);case 22:case 23:return Fl(t),Dr(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),l=t.updateQueue,l!==null&&ms(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&K(Ha),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Jl(Xt),Mt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Eh(e,t){switch(xr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jl(Xt),ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return W(t),null;case 13:if(Fl(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(qt),null;case 4:return ve(),null;case 10:return Jl(t.type),null;case 22:case 23:return Fl(t),Dr(),e!==null&&K(Ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jl(Xt),null;case 25:return null;default:return null}}function _d(e,t){switch(xr(t),t.tag){case 3:Jl(Xt),ve();break;case 26:case 27:case 5:W(t);break;case 4:ve();break;case 13:Fl(t);break;case 19:K(qt);break;case 10:Jl(t.type);break;case 22:case 23:Fl(t),Dr(),e!==null&&K(Ha);break;case 24:Jl(Xt)}}function ii(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,r=l.inst;a=i(),r.destroy=a}l=l.next}while(l!==n)}}catch(u){jt(t,t.return,u)}}function ma(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var r=a.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,n=t;var f=l,S=u;try{S()}catch(O){jt(n,f,O)}}}a=a.next}while(a!==i)}}catch(O){jt(t,t.return,O)}}function kd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{dc(t,l)}catch(a){jt(e,e.return,a)}}}function jd(e,t,l){l.props=Ya(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){jt(e,t,a)}}function si(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){jt(e,t,n)}}function Ll(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){jt(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){jt(e,t,n)}else l.current=null}function Ed(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){jt(e,e.return,n)}}function oo(e,t,l){try{var a=e.stateNode;Zh(a,e.type,l,t),a[pt]=t}catch(n){jt(e,e.return,n)}}function Cd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_a(e.type)||e.tag===4}function uo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function co(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Cs));else if(a!==4&&(a===27&&_a(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(co(e,t,l),e=e.sibling;e!==null;)co(e,t,l),e=e.sibling}function ps(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&_a(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ps(e,t,l),e=e.sibling;e!==null;)ps(e,t,l),e=e.sibling}function Ad(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);It(t,a,l),t[wt]=e,t[pt]=l}catch(i){jt(e,e.return,i)}}var ea=!1,Lt=!1,fo=!1,Nd=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function Ch(e,t){if(e=e.containerInfo,Uo=Ds,e=Gu(e),ur(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var r=0,u=-1,f=-1,S=0,O=0,Y=e,C=null;t:for(;;){for(var N;Y!==l||n!==0&&Y.nodeType!==3||(u=r+n),Y!==i||a!==0&&Y.nodeType!==3||(f=r+a),Y.nodeType===3&&(r+=Y.nodeValue.length),(N=Y.firstChild)!==null;)C=Y,Y=N;for(;;){if(Y===e)break t;if(C===l&&++S===n&&(u=r),C===i&&++O===a&&(f=r),(N=Y.nextSibling)!==null)break;Y=C,C=Y.parentNode}Y=N}l=u===-1||f===-1?null:{start:u,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bo={focusedElem:e,selectionRange:l},Ds=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){switch(t=Qt,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var Je=Ya(l.type,n,l.elementType===l.type);e=a.getSnapshotBeforeUpdate(Je,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(Qe){jt(l,l.return,Qe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Go(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Go(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}}function Td(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:pa(e,l),a&4&&ii(5,l);break;case 1:if(pa(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(r){jt(l,l.return,r)}else{var n=Ya(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){jt(l,l.return,r)}}a&64&&kd(l),a&512&&si(l,l.return);break;case 3:if(pa(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{dc(e,t)}catch(r){jt(l,l.return,r)}}break;case 27:t===null&&a&4&&Ad(l);case 26:case 5:pa(e,l),t===null&&a&4&&Ed(l),a&512&&si(l,l.return);break;case 12:pa(e,l);break;case 13:pa(e,l),a&4&&Od(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Uh.bind(null,l),e0(e,l))));break;case 22:if(a=l.memoizedState!==null||ea,!a){t=t!==null&&t.memoizedState!==null||Lt,n=ea;var i=Lt;ea=a,(Lt=t)&&!i?ba(e,l,(l.subtreeFlags&8772)!==0):pa(e,l),ea=n,Lt=i}break;case 30:break;default:pa(e,l)}}function Md(e){var t=e.alternate;t!==null&&(e.alternate=null,Md(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var At=null,ul=!1;function ta(e,t,l){for(l=l.child;l!==null;)Rd(e,t,l),l=l.sibling}function Rd(e,t,l){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(J,l)}catch{}switch(l.tag){case 26:Lt||Ll(l,t),ta(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Lt||Ll(l,t);var a=At,n=ul;_a(l.type)&&(At=l.stateNode,ul=!1),ta(e,t,l),mi(l.stateNode),At=a,ul=n;break;case 5:Lt||Ll(l,t);case 6:if(a=At,n=ul,At=null,ta(e,t,l),At=a,ul=n,At!==null)if(ul)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(l.stateNode)}catch(i){jt(l,t,i)}else try{At.removeChild(l.stateNode)}catch(i){jt(l,t,i)}break;case 18:At!==null&&(ul?(e=At,wf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),_i(e)):wf(At,l.stateNode));break;case 4:a=At,n=ul,At=l.stateNode.containerInfo,ul=!0,ta(e,t,l),At=a,ul=n;break;case 0:case 11:case 14:case 15:Lt||ma(2,l,t),Lt||ma(4,l,t),ta(e,t,l);break;case 1:Lt||(Ll(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&jd(l,t,a)),ta(e,t,l);break;case 21:ta(e,t,l);break;case 22:Lt=(a=Lt)||l.memoizedState!==null,ta(e,t,l),Lt=a;break;default:ta(e,t,l)}}function Od(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_i(e)}catch(l){jt(t,t.return,l)}}function Ah(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nd),t;default:throw Error(d(435,e.tag))}}function go(e,t){var l=Ah(e);t.forEach(function(a){var n=Bh.bind(null,e,a);l.has(a)||(l.add(a),a.then(n,n))})}function ml(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,r=t,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(_a(u.type)){At=u.stateNode,ul=!1;break e}break;case 5:At=u.stateNode,ul=!1;break e;case 3:case 4:At=u.stateNode.containerInfo,ul=!0;break e}u=u.return}if(At===null)throw Error(d(160));Rd(i,r,n),At=null,ul=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Dd(t,e),t=t.sibling}var Dl=null;function Dd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ml(t,e),pl(e),a&4&&(ma(3,e,e.return),ii(3,e),ma(5,e,e.return));break;case 1:ml(t,e),pl(e),a&512&&(Lt||l===null||Ll(l,l.return)),a&64&&ea&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Dl;if(ml(t,e),pl(e),a&512&&(Lt||l===null||Ll(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[el]||i[wt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),It(i,a,l),i[wt]=e,Ze(i),a=i;break e;case"link":var r=Nf("link","href",n).get(a+(l.href||""));if(r){for(var u=0;u<r.length;u++)if(i=r[u],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){r.splice(u,1);break t}}i=n.createElement(a),It(i,a,l),n.head.appendChild(i);break;case"meta":if(r=Nf("meta","content",n).get(a+(l.content||""))){for(u=0;u<r.length;u++)if(i=r[u],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){r.splice(u,1);break t}}i=n.createElement(a),It(i,a,l),n.head.appendChild(i);break;default:throw Error(d(468,a))}i[wt]=e,Ze(i),a=i}e.stateNode=a}else Tf(n,e.type,e.stateNode);else e.stateNode=Af(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Tf(n,e.type,e.stateNode):Af(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&oo(e,e.memoizedProps,l.memoizedProps)}break;case 27:ml(t,e),pl(e),a&512&&(Lt||l===null||Ll(l,l.return)),l!==null&&a&4&&oo(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ml(t,e),pl(e),a&512&&(Lt||l===null||Ll(l,l.return)),e.flags&32){n=e.stateNode;try{Ka(n,"")}catch(N){jt(e,e.return,N)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,oo(e,n,l!==null?l.memoizedProps:n)),a&1024&&(fo=!0);break;case 6:if(ml(t,e),pl(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(N){jt(e,e.return,N)}}break;case 3:if(Ms=null,n=Dl,Dl=Ns(t.containerInfo),ml(t,e),Dl=n,pl(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{_i(t.containerInfo)}catch(N){jt(e,e.return,N)}fo&&(fo=!1,zd(e));break;case 4:a=Dl,Dl=Ns(e.stateNode.containerInfo),ml(t,e),pl(e),Dl=a;break;case 12:ml(t,e),pl(e);break;case 13:ml(t,e),pl(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vo=ue()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,go(e,a)));break;case 22:n=e.memoizedState!==null;var f=l!==null&&l.memoizedState!==null,S=ea,O=Lt;if(ea=S||n,Lt=O||f,ml(t,e),Lt=O,ea=S,pl(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||f||ea||Lt||Xa(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){f=l=t;try{if(i=f.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=f.stateNode;var Y=f.memoizedProps.style,C=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;u.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(N){jt(f,f.return,N)}}}else if(t.tag===6){if(l===null){f=t;try{f.stateNode.nodeValue=n?"":f.memoizedProps}catch(N){jt(f,f.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,go(e,l))));break;case 19:ml(t,e),pl(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,go(e,a)));break;case 30:break;case 21:break;default:ml(t,e),pl(e)}}function pl(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Cd(a)){l=a;break}a=a.return}if(l==null)throw Error(d(160));switch(l.tag){case 27:var n=l.stateNode,i=uo(e);ps(e,i,n);break;case 5:var r=l.stateNode;l.flags&32&&(Ka(r,""),l.flags&=-33);var u=uo(e);ps(e,u,r);break;case 3:case 4:var f=l.stateNode.containerInfo,S=uo(e);co(e,S,f);break;default:throw Error(d(161))}}catch(O){jt(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;zd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Td(e,t.alternate,t),t=t.sibling}function Xa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ma(4,t,t.return),Xa(t);break;case 1:Ll(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&jd(t,t.return,l),Xa(t);break;case 27:mi(t.stateNode);case 26:case 5:Ll(t,t.return),Xa(t);break;case 22:t.memoizedState===null&&Xa(t);break;case 30:Xa(t);break;default:Xa(t)}e=e.sibling}}function ba(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:ba(n,i,l),ii(4,i);break;case 1:if(ba(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(S){jt(a,a.return,S)}if(a=i,n=a.updateQueue,n!==null){var u=a.stateNode;try{var f=n.shared.hiddenCallbacks;if(f!==null)for(n.shared.hiddenCallbacks=null,n=0;n<f.length;n++)cc(f[n],u)}catch(S){jt(a,a.return,S)}}l&&r&64&&kd(i),si(i,i.return);break;case 27:Ad(i);case 26:case 5:ba(n,i,l),l&&a===null&&r&4&&Ed(i),si(i,i.return);break;case 12:ba(n,i,l);break;case 13:ba(n,i,l),l&&r&4&&Od(n,i);break;case 22:i.memoizedState===null&&ba(n,i,l),si(i,i.return);break;case 30:break;default:ba(n,i,l)}t=t.sibling}}function ho(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&$n(l))}function mo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$n(e))}function Hl(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ud(e,t,l,a),t=t.sibling}function Ud(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,l,a),n&2048&&ii(9,t);break;case 1:Hl(e,t,l,a);break;case 3:Hl(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$n(e)));break;case 12:if(n&2048){Hl(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,u=i.onPostCommit;typeof u=="function"&&u(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){jt(t,t.return,f)}}else Hl(e,t,l,a);break;case 13:Hl(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Hl(e,t,l,a):ri(e,t):i._visibility&2?Hl(e,t,l,a):(i._visibility|=2,hn(e,t,l,a,(t.subtreeFlags&10256)!==0)),n&2048&&ho(r,t);break;case 24:Hl(e,t,l,a),n&2048&&mo(t.alternate,t);break;default:Hl(e,t,l,a)}}function hn(e,t,l,a,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,r=t,u=l,f=a,S=r.flags;switch(r.tag){case 0:case 11:case 15:hn(i,r,u,f,n),ii(8,r);break;case 23:break;case 22:var O=r.stateNode;r.memoizedState!==null?O._visibility&2?hn(i,r,u,f,n):ri(i,r):(O._visibility|=2,hn(i,r,u,f,n)),n&&S&2048&&ho(r.alternate,r);break;case 24:hn(i,r,u,f,n),n&&S&2048&&mo(r.alternate,r);break;default:hn(i,r,u,f,n)}t=t.sibling}}function ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:ri(l,a),n&2048&&ho(a.alternate,a);break;case 24:ri(l,a),n&2048&&mo(a.alternate,a);break;default:ri(l,a)}t=t.sibling}}var oi=8192;function mn(e){if(e.subtreeFlags&oi)for(e=e.child;e!==null;)Bd(e),e=e.sibling}function Bd(e){switch(e.tag){case 26:mn(e),e.flags&oi&&e.memoizedState!==null&&g0(Dl,e.memoizedState,e.memoizedProps);break;case 5:mn(e);break;case 3:case 4:var t=Dl;Dl=Ns(e.stateNode.containerInfo),mn(e),Dl=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=oi,oi=16777216,mn(e),oi=t):mn(e));break;default:mn(e)}}function Ld(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Qt=a,Gd(a,e)}Ld(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hd(e),e=e.sibling}function Hd(e){switch(e.tag){case 0:case 11:case 15:ui(e),e.flags&2048&&ma(9,e,e.return);break;case 3:ui(e);break;case 12:ui(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bs(e)):ui(e);break;default:ui(e)}}function bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Qt=a,Gd(a,e)}Ld(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ma(8,t,t.return),bs(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,bs(t));break;default:bs(t)}e=e.sibling}}function Gd(e,t){for(;Qt!==null;){var l=Qt;switch(l.tag){case 0:case 11:case 15:ma(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:$n(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Qt=a;else e:for(l=e;Qt!==null;){a=Qt;var n=a.sibling,i=a.return;if(Md(a),a===l){Qt=null;break e}if(n!==null){n.return=i,Qt=n;break e}Qt=i}}}var Nh={getCacheForType:function(e){var t=ll(Xt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l}},Th=typeof WeakMap=="function"?WeakMap:Map,bt=0,Et=null,it=null,ot=0,yt=0,bl=null,ya=!1,pn=!1,po=!1,la=0,Ot=0,va=0,qa=0,bo=0,Al=0,bn=0,ci=null,cl=null,yo=!1,vo=0,ys=1/0,vs=null,xa=null,Pt=0,wa=null,yn=null,vn=0,xo=0,wo=null,Yd=null,di=0,So=null;function yl(){if((bt&2)!==0&&ot!==0)return ot&-ot;if(b.T!==null){var e=sn;return e!==0?e:No()}return et()}function Xd(){Al===0&&(Al=(ot&536870912)===0||ht?Dt():536870912);var e=Cl.current;return e!==null&&(e.flags|=32),Al}function vl(e,t,l){(e===Et&&(yt===2||yt===9)||e.cancelPendingCommit!==null)&&(xn(e,0),Sa(e,ot,Al,!1)),Re(e,l),((bt&2)===0||e!==Et)&&(e===Et&&((bt&2)===0&&(qa|=l),Ot===4&&Sa(e,ot,Al,!1)),Gl(e))}function qd(e,t,l){if((bt&6)!==0)throw Error(d(327));var a=!l&&(t&124)===0&&(t&e.expiredLanes)===0||ce(e,t),n=a?Oh(e,t):jo(e,t,!0),i=a;do{if(n===0){pn&&!a&&Sa(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!Mh(l)){n=jo(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var u=e;n=ci;var f=u.current.memoizedState.isDehydrated;if(f&&(xn(u,r).flags|=256),r=jo(u,r,!1),r!==2){if(po&&!f){u.errorRecoveryDisabledLanes|=i,qa|=i,n=4;break e}i=cl,cl=n,i!==null&&(cl===null?cl=i:cl.push.apply(cl,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){xn(e,0),Sa(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Sa(a,t,Al,!ya);break e;case 2:cl=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(n=vo+300-ue(),10<n)){if(Sa(a,t,Al,!ya),R(a,0,!0)!==0)break e;a.timeoutHandle=vf(Vd.bind(null,a,l,cl,vs,yo,t,Al,qa,bn,ya,i,2,-0,0),n);break e}Vd(a,l,cl,vs,yo,t,Al,qa,bn,ya,i,0,-0,0)}}break}while(!0);Gl(e)}function Vd(e,t,l,a,n,i,r,u,f,S,O,Y,C,N){if(e.timeoutHandle=-1,Y=t.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(yi={stylesheets:null,count:0,unsuspend:f0},Bd(t),Y=h0(),Y!==null)){e.cancelPendingCommit=Y(Fd.bind(null,e,t,i,l,a,n,r,u,f,O,1,C,N)),Sa(e,i,r,!S);return}Fd(e,t,i,l,a,n,r,u,f)}function Mh(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!gl(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sa(e,t,l,a){t&=~bo,t&=~qa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-qe(n),r=1<<i;a[i]=-1,n&=~r}l!==0&&E(e,l,t)}function xs(){return(bt&6)===0?(fi(0),!1):!0}function _o(){if(it!==null){if(yt===0)var e=it.return;else e=it,Kl=Ba=null,Hr(e),fn=null,li=0,e=it;for(;e!==null;)_d(e.alternate,e),e=e.return;it=null}}function xn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Jh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),_o(),Et=e,it=l=$l(e.current,null),ot=t,yt=0,bl=null,ya=!1,pn=ce(e,t),po=!1,bn=Al=bo=qa=va=Ot=0,cl=ci=null,yo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-qe(a),i=1<<n;t|=e[n],a&=~i}return la=t,Xi(),l}function $d(e,t){lt=null,b.H=rs,t===Zn||t===Fi?(t=oc(),yt=3):t===ic?(t=oc(),yt=4):yt=t===ud?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,bl=t,it===null&&(Ot=1,fs(e,_l(t,e.current)))}function Qd(){var e=b.H;return b.H=rs,e===null?rs:e}function Zd(){var e=b.A;return b.A=Nh,e}function ko(){Ot=4,ya||(ot&4194048)!==ot&&Cl.current!==null||(pn=!0),(va&134217727)===0&&(qa&134217727)===0||Et===null||Sa(Et,ot,Al,!1)}function jo(e,t,l){var a=bt;bt|=2;var n=Qd(),i=Zd();(Et!==e||ot!==t)&&(vs=null,xn(e,t)),t=!1;var r=Ot;e:do try{if(yt!==0&&it!==null){var u=it,f=bl;switch(yt){case 8:_o(),r=6;break e;case 3:case 2:case 9:case 6:Cl.current===null&&(t=!0);var S=yt;if(yt=0,bl=null,wn(e,u,f,S),l&&pn){r=0;break e}break;default:S=yt,yt=0,bl=null,wn(e,u,f,S)}}Rh(),r=Ot;break}catch(O){$d(e,O)}while(!0);return t&&e.shellSuspendCounter++,Kl=Ba=null,bt=a,b.H=n,b.A=i,it===null&&(Et=null,ot=0,Xi()),r}function Rh(){for(;it!==null;)Kd(it)}function Oh(e,t){var l=bt;bt|=2;var a=Qd(),n=Zd();Et!==e||ot!==t?(vs=null,ys=ue()+500,xn(e,t)):pn=ce(e,t);e:do try{if(yt!==0&&it!==null){t=it;var i=bl;t:switch(yt){case 1:yt=0,bl=null,wn(e,t,i,1);break;case 2:case 9:if(sc(i)){yt=0,bl=null,Jd(t);break}t=function(){yt!==2&&yt!==9||Et!==e||(yt=7),Gl(e)},i.then(t,t);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:sc(i)?(yt=0,bl=null,Jd(t)):(yt=0,bl=null,wn(e,t,i,7));break;case 5:var r=null;switch(it.tag){case 26:r=it.memoizedState;case 5:case 27:var u=it;if(!r||Mf(r)){yt=0,bl=null;var f=u.sibling;if(f!==null)it=f;else{var S=u.return;S!==null?(it=S,ws(S)):it=null}break t}}yt=0,bl=null,wn(e,t,i,5);break;case 6:yt=0,bl=null,wn(e,t,i,6);break;case 8:_o(),Ot=6;break e;default:throw Error(d(462))}}Dh();break}catch(O){$d(e,O)}while(!0);return Kl=Ba=null,b.H=a,b.A=n,bt=l,it!==null?0:(Et=null,ot=0,Xi(),Ot)}function Dh(){for(;it!==null&&!oe();)Kd(it)}function Kd(e){var t=wd(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?ws(e):it=t}function Jd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=md(l,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=md(l,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:Hr(t);default:_d(l,t),t=it=Wu(t,la),t=wd(l,t,la)}e.memoizedProps=e.pendingProps,t===null?ws(e):it=t}function wn(e,t,l,a){Kl=Ba=null,Hr(t),fn=null,li=0;var n=t.return;try{if(_h(e,n,t,l,ot)){Ot=1,fs(e,_l(l,e.current)),it=null;return}}catch(i){if(n!==null)throw it=n,i;Ot=1,fs(e,_l(l,e.current)),it=null;return}t.flags&32768?(ht||a===1?e=!0:pn||(ot&536870912)!==0?e=!1:(ya=e=!0,(a===2||a===9||a===3||a===6)&&(a=Cl.current,a!==null&&a.tag===13&&(a.flags|=16384))),Wd(t,e)):ws(t)}function ws(e){var t=e;do{if((t.flags&32768)!==0){Wd(t,ya);return}e=t.return;var l=jh(t.alternate,t,la);if(l!==null){it=l;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);Ot===0&&(Ot=5)}function Wd(e,t){do{var l=Eh(e.alternate,e);if(l!==null){l.flags&=32767,it=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=l}while(e!==null);Ot=6,it=null}function Fd(e,t,l,a,n,i,r,u,f){e.cancelPendingCommit=null;do Ss();while(Pt!==0);if((bt&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=hr,Ve(e,l,i,r,u,f),e===Et&&(it=Et=null,ot=0),yn=t,wa=e,vn=l,xo=i,wo=n,Yd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Lh(de,function(){return lf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=b.T,b.T=null,n=B.p,B.p=2,r=bt,bt|=4;try{Ch(e,t,l)}finally{bt=r,B.p=n,b.T=a}}Pt=1,Pd(),Id(),ef()}}function Pd(){if(Pt===1){Pt=0;var e=wa,t=yn,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=b.T,b.T=null;var a=B.p;B.p=2;var n=bt;bt|=4;try{Dd(t,e);var i=Bo,r=Gu(e.containerInfo),u=i.focusedElem,f=i.selectionRange;if(r!==u&&u&&u.ownerDocument&&Hu(u.ownerDocument.documentElement,u)){if(f!==null&&ur(u)){var S=f.start,O=f.end;if(O===void 0&&(O=S),"selectionStart"in u)u.selectionStart=S,u.selectionEnd=Math.min(O,u.value.length);else{var Y=u.ownerDocument||document,C=Y&&Y.defaultView||window;if(C.getSelection){var N=C.getSelection(),Je=u.textContent.length,Qe=Math.min(f.start,Je),kt=f.end===void 0?Qe:Math.min(f.end,Je);!N.extend&&Qe>kt&&(r=kt,kt=Qe,Qe=r);var m=Lu(u,Qe),h=Lu(u,kt);if(m&&h&&(N.rangeCount!==1||N.anchorNode!==m.node||N.anchorOffset!==m.offset||N.focusNode!==h.node||N.focusOffset!==h.offset)){var y=Y.createRange();y.setStart(m.node,m.offset),N.removeAllRanges(),Qe>kt?(N.addRange(y),N.extend(h.node,h.offset)):(y.setEnd(h.node,h.offset),N.addRange(y))}}}}for(Y=[],N=u;N=N.parentNode;)N.nodeType===1&&Y.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<Y.length;u++){var U=Y[u];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Ds=!!Uo,Bo=Uo=null}finally{bt=n,B.p=a,b.T=l}}e.current=t,Pt=2}}function Id(){if(Pt===2){Pt=0;var e=wa,t=yn,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=b.T,b.T=null;var a=B.p;B.p=2;var n=bt;bt|=4;try{Td(e,t.alternate,t)}finally{bt=n,B.p=a,b.T=l}}Pt=3}}function ef(){if(Pt===4||Pt===3){Pt=0,_e();var e=wa,t=yn,l=vn,a=Yd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pt=5:(Pt=0,yn=wa=null,tf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(xa=null),Ie(l),t=t.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(J,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=b.T,n=B.p,B.p=2,b.T=null;try{for(var i=e.onRecoverableError,r=0;r<a.length;r++){var u=a[r];i(u.value,{componentStack:u.stack})}}finally{b.T=t,B.p=n}}(vn&3)!==0&&Ss(),Gl(e),n=e.pendingLanes,(l&4194090)!==0&&(n&42)!==0?e===So?di++:(di=0,So=e):di=0,fi(0)}}function tf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$n(t)))}function Ss(e){return Pd(),Id(),ef(),lf()}function lf(){if(Pt!==5)return!1;var e=wa,t=xo;xo=0;var l=Ie(vn),a=b.T,n=B.p;try{B.p=32>l?32:l,b.T=null,l=wo,wo=null;var i=wa,r=vn;if(Pt=0,yn=wa=null,vn=0,(bt&6)!==0)throw Error(d(331));var u=bt;if(bt|=4,Hd(i.current),Ud(i,i.current,r,l),bt=u,fi(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(J,i)}catch{}return!0}finally{B.p=n,b.T=a,tf(e,t)}}function af(e,t,l){t=_l(l,t),t=Ir(e.stateNode,t,2),e=da(e,t,2),e!==null&&(Re(e,2),Gl(e))}function jt(e,t,l){if(e.tag===3)af(e,e,l);else for(;t!==null;){if(t.tag===3){af(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(xa===null||!xa.has(a))){e=_l(l,e),l=rd(2),a=da(t,l,2),a!==null&&(od(l,a,t,e),Re(a,2),Gl(a));break}}t=t.return}}function Eo(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Th;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(po=!0,n.add(l),e=zh.bind(null,e,t,l),t.then(e,e))}function zh(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Et===e&&(ot&l)===l&&(Ot===4||Ot===3&&(ot&62914560)===ot&&300>ue()-vo?(bt&2)===0&&xn(e,0):bo|=l,bn===ot&&(bn=0)),Gl(e)}function nf(e,t){t===0&&(t=Vt()),e=tn(e,t),e!==null&&(Re(e,t),Gl(e))}function Uh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),nf(e,l)}function Bh(e,t){var l=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),nf(e,l)}function Lh(e,t){return Se(e,t)}var _s=null,Sn=null,Co=!1,ks=!1,Ao=!1,Va=0;function Gl(e){e!==Sn&&e.next===null&&(Sn===null?_s=Sn=e:Sn=Sn.next=e),ks=!0,Co||(Co=!0,Gh())}function fi(e,t){if(!Ao&&ks){Ao=!0;do for(var l=!1,a=_s;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var r=a.suspendedLanes,u=a.pingedLanes;i=(1<<31-qe(42|e)+1)-1,i&=n&~(r&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,uf(a,i))}else i=ot,i=R(a,a===Et?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||ce(a,i)||(l=!0,uf(a,i));a=a.next}while(l);Ao=!1}}function Hh(){sf()}function sf(){ks=Co=!1;var e=0;Va!==0&&(Kh()&&(e=Va),Va=0);for(var t=ue(),l=null,a=_s;a!==null;){var n=a.next,i=rf(a,t);i===0?(a.next=null,l===null?_s=n:l.next=n,n===null&&(Sn=l)):(l=a,(e!==0||(i&3)!==0)&&(ks=!0)),a=n}fi(e)}function rf(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-qe(i),u=1<<r,f=n[r];f===-1?((u&l)===0||(u&a)!==0)&&(n[r]=mt(u,t)):f<=t&&(e.expiredLanes|=u),i&=~u}if(t=Et,l=ot,l=R(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(yt===2||yt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ce(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ce(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Ce(a),Ie(l)){case 2:case 8:l=Ye;break;case 32:l=de;break;case 268435456:l=fe;break;default:l=de}return a=of.bind(null,e),l=Se(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Ce(a),e.callbackPriority=2,e.callbackNode=null,2}function of(e,t){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ss()&&e.callbackNode!==l)return null;var a=ot;return a=R(e,e===Et?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(qd(e,a,t),rf(e,ue()),e.callbackNode!=null&&e.callbackNode===l?of.bind(null,e):null)}function uf(e,t){if(Ss())return null;qd(e,t,!0)}function Gh(){Wh(function(){(bt&6)!==0?Se(Ae,Hh):sf()})}function No(){return Va===0&&(Va=Dt()),Va}function cf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zi(""+e)}function df(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Yh(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=cf((n[pt]||null).action),r=a.submitter;r&&(t=(t=r[pt]||null)?cf(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var u=new Hi("action","action",null,a,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Va!==0){var f=r?df(n,r):new FormData(n);Kr(l,{pending:!0,data:f,method:n.method,action:i},null,f)}}else typeof i=="function"&&(u.preventDefault(),f=r?df(n,r):new FormData(n),Kr(l,{pending:!0,data:f,method:n.method,action:i},i,f))},currentTarget:n}]})}}for(var To=0;To<gr.length;To++){var Mo=gr[To],Xh=Mo.toLowerCase(),qh=Mo[0].toUpperCase()+Mo.slice(1);Ol(Xh,"on"+qh)}Ol(qu,"onAnimationEnd"),Ol(Vu,"onAnimationIteration"),Ol($u,"onAnimationStart"),Ol("dblclick","onDoubleClick"),Ol("focusin","onFocus"),Ol("focusout","onBlur"),Ol(sh,"onTransitionRun"),Ol(rh,"onTransitionStart"),Ol(oh,"onTransitionCancel"),Ol(Qu,"onTransitionEnd"),Yt("onMouseEnter",["mouseout","mouseover"]),Yt("onMouseLeave",["mouseout","mouseover"]),Yt("onPointerEnter",["pointerout","pointerover"]),Yt("onPointerLeave",["pointerout","pointerover"]),Tt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gi));function ff(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var u=a[r],f=u.instance,S=u.currentTarget;if(u=u.listener,f!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=S;try{i(n)}catch(O){ds(O)}n.currentTarget=null,i=f}else for(r=0;r<a.length;r++){if(u=a[r],f=u.instance,S=u.currentTarget,u=u.listener,f!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=S;try{i(n)}catch(O){ds(O)}n.currentTarget=null,i=f}}}}function st(e,t){var l=t[Kt];l===void 0&&(l=t[Kt]=new Set);var a=e+"__bubble";l.has(a)||(gf(t,e,2,!1),l.add(a))}function Ro(e,t,l){var a=0;t&&(a|=4),gf(l,e,a,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[js]){e[js]=!0,dt.forEach(function(l){l!=="selectionchange"&&(Vh.has(l)||Ro(l,!1,e),Ro(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,Ro("selectionchange",!1,t))}}function gf(e,t,l,a){switch(Bf(t)){case 2:var n=b0;break;case 8:n=y0;break;default:n=Zo}l=n.bind(null,t,l,e),n=void 0,!er||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Do(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var u=a.stateNode.containerInfo;if(u===n)break;if(r===4)for(r=a.return;r!==null;){var f=r.tag;if((f===3||f===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;u!==null;){if(r=p(u),r===null)return;if(f=r.tag,f===5||f===6||f===26||f===27){a=i=r;continue e}u=u.parentNode}}a=a.return}vu(function(){var S=i,O=Ps(l),Y=[];e:{var C=Zu.get(e);if(C!==void 0){var N=Hi,Je=e;switch(e){case"keypress":if(Bi(l)===0)break e;case"keydown":case"keyup":N=Lg;break;case"focusin":Je="focus",N=nr;break;case"focusout":Je="blur",N=nr;break;case"beforeblur":case"afterblur":N=nr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Yg;break;case qu:case Vu:case $u:N=Ng;break;case Qu:N=qg;break;case"scroll":case"scrollend":N=kg;break;case"wheel":N=$g;break;case"copy":case"cut":case"paste":N=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=ku;break;case"toggle":case"beforetoggle":N=Zg}var Qe=(t&4)!==0,kt=!Qe&&(e==="scroll"||e==="scrollend"),m=Qe?C!==null?C+"Capture":null:C;Qe=[];for(var h=S,y;h!==null;){var U=h;if(y=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||y===null||m===null||(U=Rn(h,m),U!=null&&Qe.push(hi(h,U,y))),kt)break;h=h.return}0<Qe.length&&(C=new N(C,Je,null,l,O),Y.push({event:C,listeners:Qe}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",C&&l!==Fs&&(Je=l.relatedTarget||l.fromElement)&&(p(Je)||Je[zt]))break e;if((N||C)&&(C=O.window===O?O:(C=O.ownerDocument)?C.defaultView||C.parentWindow:window,N?(Je=l.relatedTarget||l.toElement,N=S,Je=Je?p(Je):null,Je!==null&&(kt=$(Je),Qe=Je.tag,Je!==kt||Qe!==5&&Qe!==27&&Qe!==6)&&(Je=null)):(N=null,Je=S),N!==Je)){if(Qe=Su,U="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(Qe=ku,U="onPointerLeave",m="onPointerEnter",h="pointer"),kt=N==null?C:te(N),y=Je==null?C:te(Je),C=new Qe(U,h+"leave",N,l,O),C.target=kt,C.relatedTarget=y,U=null,p(O)===S&&(Qe=new Qe(m,h+"enter",Je,l,O),Qe.target=y,Qe.relatedTarget=kt,U=Qe),kt=U,N&&Je)t:{for(Qe=N,m=Je,h=0,y=Qe;y;y=_n(y))h++;for(y=0,U=m;U;U=_n(U))y++;for(;0<h-y;)Qe=_n(Qe),h--;for(;0<y-h;)m=_n(m),y--;for(;h--;){if(Qe===m||m!==null&&Qe===m.alternate)break t;Qe=_n(Qe),m=_n(m)}Qe=null}else Qe=null;N!==null&&hf(Y,C,N,Qe,!1),Je!==null&&kt!==null&&hf(Y,kt,Je,Qe,!0)}}e:{if(C=S?te(S):window,N=C.nodeName&&C.nodeName.toLowerCase(),N==="select"||N==="input"&&C.type==="file")var Ee=Ru;else if(Tu(C))if(Ou)Ee=ah;else{Ee=th;var at=eh}else N=C.nodeName,!N||N.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?S&&Ws(S.elementType)&&(Ee=Ru):Ee=lh;if(Ee&&(Ee=Ee(e,S))){Mu(Y,Ee,l,O);break e}at&&at(e,C,S),e==="focusout"&&S&&C.type==="number"&&S.memoizedProps.value!=null&&Js(C,"number",C.value)}switch(at=S?te(S):window,e){case"focusin":(Tu(at)||at.contentEditable==="true")&&(Pa=at,cr=S,Gn=null);break;case"focusout":Gn=cr=Pa=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,Yu(Y,l,O);break;case"selectionchange":if(ih)break;case"keydown":case"keyup":Yu(Y,l,O)}var He;if(sr)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Fa?Au(e,l)&&(Ke="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(ju&&l.locale!=="ko"&&(Fa||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Fa&&(He=xu()):(ra=O,tr="value"in ra?ra.value:ra.textContent,Fa=!0)),at=Es(S,Ke),0<at.length&&(Ke=new _u(Ke,e,null,l,O),Y.push({event:Ke,listeners:at}),He?Ke.data=He:(He=Nu(l),He!==null&&(Ke.data=He)))),(He=Jg?Wg(e,l):Fg(e,l))&&(Ke=Es(S,"onBeforeInput"),0<Ke.length&&(at=new _u("onBeforeInput","beforeinput",null,l,O),Y.push({event:at,listeners:Ke}),at.data=He)),Yh(Y,e,S,l,O)}ff(Y,t)})}function hi(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Es(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Rn(e,l),n!=null&&a.unshift(hi(e,n,i)),n=Rn(e,t),n!=null&&a.push(hi(e,n,i))),e.tag===3)return a;e=e.return}return[]}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hf(e,t,l,a,n){for(var i=t._reactName,r=[];l!==null&&l!==a;){var u=l,f=u.alternate,S=u.stateNode;if(u=u.tag,f!==null&&f===a)break;u!==5&&u!==26&&u!==27||S===null||(f=S,n?(S=Rn(l,i),S!=null&&r.unshift(hi(l,S,f))):n||(S=Rn(l,i),S!=null&&r.push(hi(l,S,f)))),l=l.return}r.length!==0&&e.push({event:t,listeners:r})}var $h=/\r\n?/g,Qh=/\u0000|\uFFFD/g;function mf(e){return(typeof e=="string"?e:""+e).replace($h,`
`).replace(Qh,"")}function pf(e,t){return t=mf(t),mf(e)===t}function Cs(){}function _t(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ka(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ka(e,""+a);break;case"className":Wt(e,"class",a);break;case"tabIndex":Wt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(e,l,a);break;case"style":bu(e,a,i);break;case"data":if(t!=="object"){Wt(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=zi(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&_t(e,t,"name",n.name,n,null),_t(e,t,"formEncType",n.formEncType,n,null),_t(e,t,"formMethod",n.formMethod,n,null),_t(e,t,"formTarget",n.formTarget,n,null)):(_t(e,t,"encType",n.encType,n,null),_t(e,t,"method",n.method,n,null),_t(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=zi(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Cs);break;case"onScroll":a!=null&&st("scroll",e);break;case"onScrollEnd":a!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=zi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":st("beforetoggle",e),st("toggle",e),Jt(e,"popover",a);break;case"xlinkActuate":tl(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":tl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":tl(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":tl(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":tl(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":tl(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":tl(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":tl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":tl(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Jt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Sg.get(l)||l,Jt(e,l,a))}}function zo(e,t,l,a,n,i){switch(l){case"style":bu(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ka(e,a):(typeof a=="number"||typeof a=="bigint")&&Ka(e,""+a);break;case"onScroll":a!=null&&st("scroll",e);break;case"onScrollEnd":a!=null&&st("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nt.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[pt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Jt(e,l,a)}}}function It(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var r=l[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:_t(e,t,i,r,l,null)}}n&&_t(e,t,"srcSet",l.srcSet,l,null),a&&_t(e,t,"src",l.src,l,null);return;case"input":st("invalid",e);var u=i=r=n=null,f=null,S=null;for(a in l)if(l.hasOwnProperty(a)){var O=l[a];if(O!=null)switch(a){case"name":n=O;break;case"type":r=O;break;case"checked":f=O;break;case"defaultChecked":S=O;break;case"value":i=O;break;case"defaultValue":u=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(d(137,t));break;default:_t(e,t,a,O,l,null)}}gu(e,i,u,f,S,r,n,!1),Oi(e);return;case"select":st("invalid",e),a=r=i=null;for(n in l)if(l.hasOwnProperty(n)&&(u=l[n],u!=null))switch(n){case"value":i=u;break;case"defaultValue":r=u;break;case"multiple":a=u;default:_t(e,t,n,u,l,null)}t=i,l=r,e.multiple=!!a,t!=null?Za(e,!!a,t,!1):l!=null&&Za(e,!!a,l,!0);return;case"textarea":st("invalid",e),i=n=a=null;for(r in l)if(l.hasOwnProperty(r)&&(u=l[r],u!=null))switch(r){case"value":a=u;break;case"defaultValue":n=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(d(91));break;default:_t(e,t,r,u,l,null)}mu(e,a,n,i),Oi(e);return;case"option":for(f in l)if(l.hasOwnProperty(f)&&(a=l[f],a!=null))switch(f){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:_t(e,t,f,a,l,null)}return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(a=0;a<gi.length;a++)st(gi[a],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(S in l)if(l.hasOwnProperty(S)&&(a=l[S],a!=null))switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:_t(e,t,S,a,l,null)}return;default:if(Ws(t)){for(O in l)l.hasOwnProperty(O)&&(a=l[O],a!==void 0&&zo(e,t,O,a,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(a=l[u],a!=null&&_t(e,t,u,a,l,null))}function Zh(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,u=null,f=null,S=null,O=null;for(N in l){var Y=l[N];if(l.hasOwnProperty(N)&&Y!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":f=Y;default:a.hasOwnProperty(N)||_t(e,t,N,null,a,Y)}}for(var C in a){var N=a[C];if(Y=l[C],a.hasOwnProperty(C)&&(N!=null||Y!=null))switch(C){case"type":i=N;break;case"name":n=N;break;case"checked":S=N;break;case"defaultChecked":O=N;break;case"value":r=N;break;case"defaultValue":u=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(d(137,t));break;default:N!==Y&&_t(e,t,C,N,a,Y)}}Ks(e,r,u,f,S,O,i,n);return;case"select":N=r=u=C=null;for(i in l)if(f=l[i],l.hasOwnProperty(i)&&f!=null)switch(i){case"value":break;case"multiple":N=f;default:a.hasOwnProperty(i)||_t(e,t,i,null,a,f)}for(n in a)if(i=a[n],f=l[n],a.hasOwnProperty(n)&&(i!=null||f!=null))switch(n){case"value":C=i;break;case"defaultValue":u=i;break;case"multiple":r=i;default:i!==f&&_t(e,t,n,i,a,f)}t=u,l=r,a=N,C!=null?Za(e,!!l,C,!1):!!a!=!!l&&(t!=null?Za(e,!!l,t,!0):Za(e,!!l,l?[]:"",!1));return;case"textarea":N=C=null;for(u in l)if(n=l[u],l.hasOwnProperty(u)&&n!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:_t(e,t,u,null,a,n)}for(r in a)if(n=a[r],i=l[r],a.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":C=n;break;case"defaultValue":N=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(d(91));break;default:n!==i&&_t(e,t,r,n,a,i)}hu(e,C,N);return;case"option":for(var Je in l)if(C=l[Je],l.hasOwnProperty(Je)&&C!=null&&!a.hasOwnProperty(Je))switch(Je){case"selected":e.selected=!1;break;default:_t(e,t,Je,null,a,C)}for(f in a)if(C=a[f],N=l[f],a.hasOwnProperty(f)&&C!==N&&(C!=null||N!=null))switch(f){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:_t(e,t,f,C,a,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in l)C=l[Qe],l.hasOwnProperty(Qe)&&C!=null&&!a.hasOwnProperty(Qe)&&_t(e,t,Qe,null,a,C);for(S in a)if(C=a[S],N=l[S],a.hasOwnProperty(S)&&C!==N&&(C!=null||N!=null))switch(S){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(d(137,t));break;default:_t(e,t,S,C,a,N)}return;default:if(Ws(t)){for(var kt in l)C=l[kt],l.hasOwnProperty(kt)&&C!==void 0&&!a.hasOwnProperty(kt)&&zo(e,t,kt,void 0,a,C);for(O in a)C=a[O],N=l[O],!a.hasOwnProperty(O)||C===N||C===void 0&&N===void 0||zo(e,t,O,C,a,N);return}}for(var m in l)C=l[m],l.hasOwnProperty(m)&&C!=null&&!a.hasOwnProperty(m)&&_t(e,t,m,null,a,C);for(Y in a)C=a[Y],N=l[Y],!a.hasOwnProperty(Y)||C===N||C==null&&N==null||_t(e,t,Y,C,a,N)}var Uo=null,Bo=null;function As(e){return e.nodeType===9?e:e.ownerDocument}function bf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ho=null;function Kh(){var e=window.event;return e&&e.type==="popstate"?e===Ho?!1:(Ho=e,!0):(Ho=null,!1)}var vf=typeof setTimeout=="function"?setTimeout:void 0,Jh=typeof clearTimeout=="function"?clearTimeout:void 0,xf=typeof Promise=="function"?Promise:void 0,Wh=typeof queueMicrotask=="function"?queueMicrotask:typeof xf<"u"?function(e){return xf.resolve(null).then(e).catch(Fh)}:vf;function Fh(e){setTimeout(function(){throw e})}function _a(e){return e==="head"}function wf(e,t){var l=t,a=0,n=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(0<a&&8>a){l=a;var r=e.ownerDocument;if(l&1&&mi(r.documentElement),l&2&&mi(r.body),l&4)for(l=r.head,mi(l),r=l.firstChild;r;){var u=r.nextSibling,f=r.nodeName;r[el]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&r.rel.toLowerCase()==="stylesheet"||l.removeChild(r),r=u}}if(n===0){e.removeChild(i),_i(t);return}n--}else l==="$"||l==="$?"||l==="$!"?n++:a=l.charCodeAt(0)-48;else a=0;l=i}while(l);_i(t)}function Go(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Go(l),fl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Ph(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[el])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=zl(e.nextSibling),e===null)break}return null}function Ih(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=zl(e.nextSibling),e===null))return null;return e}function Yo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function e0(e,t){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function zl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Xo=null;function Sf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}function _f(e,t,l){switch(t=As(l),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function mi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fl(e)}var Nl=new Map,kf=new Set;function Ns(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var aa=B.d;B.d={f:t0,r:l0,D:a0,C:n0,L:i0,m:s0,X:o0,S:r0,M:u0};function t0(){var e=aa.f(),t=xs();return e||t}function l0(e){var t=Z(e);t!==null&&t.tag===5&&t.type==="form"?qc(t):aa.r(e)}var kn=typeof document>"u"?null:document;function jf(e,t,l){var a=kn;if(a&&typeof t=="string"&&t){var n=Sl(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),kf.has(n)||(kf.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),It(t,"link",e),Ze(t),a.head.appendChild(t)))}}function a0(e){aa.D(e),jf("dns-prefetch",e,null)}function n0(e,t){aa.C(e,t),jf("preconnect",e,t)}function i0(e,t,l){aa.L(e,t,l);var a=kn;if(a&&e&&t){var n='link[rel="preload"][as="'+Sl(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Sl(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Sl(l.imageSizes)+'"]')):n+='[href="'+Sl(e)+'"]';var i=n;switch(t){case"style":i=jn(e);break;case"script":i=En(e)}Nl.has(i)||(e=D({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Nl.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(pi(i))||t==="script"&&a.querySelector(bi(i))||(t=a.createElement("link"),It(t,"link",e),Ze(t),a.head.appendChild(t)))}}function s0(e,t){aa.m(e,t);var l=kn;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Sl(a)+'"][href="'+Sl(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=En(e)}if(!Nl.has(i)&&(e=D({rel:"modulepreload",href:e},t),Nl.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bi(i)))return}a=l.createElement("link"),It(a,"link",e),Ze(a),l.head.appendChild(a)}}}function r0(e,t,l){aa.S(e,t,l);var a=kn;if(a&&e){var n=Pe(a).hoistableStyles,i=jn(e);t=t||"default";var r=n.get(i);if(!r){var u={loading:0,preload:null};if(r=a.querySelector(pi(i)))u.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Nl.get(i))&&qo(e,l);var f=r=a.createElement("link");Ze(f),It(f,"link",e),f._p=new Promise(function(S,O){f.onload=S,f.onerror=O}),f.addEventListener("load",function(){u.loading|=1}),f.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Ts(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:u},n.set(i,r)}}}function o0(e,t){aa.X(e,t);var l=kn;if(l&&e){var a=Pe(l).hoistableScripts,n=En(e),i=a.get(n);i||(i=l.querySelector(bi(n)),i||(e=D({src:e,async:!0},t),(t=Nl.get(n))&&Vo(e,t),i=l.createElement("script"),Ze(i),It(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function u0(e,t){aa.M(e,t);var l=kn;if(l&&e){var a=Pe(l).hoistableScripts,n=En(e),i=a.get(n);i||(i=l.querySelector(bi(n)),i||(e=D({src:e,async:!0,type:"module"},t),(t=Nl.get(n))&&Vo(e,t),i=l.createElement("script"),Ze(i),It(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Ef(e,t,l,a){var n=(n=me.current)?Ns(n):null;if(!n)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=jn(l.href),l=Pe(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=jn(l.href);var i=Pe(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(pi(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Nl.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Nl.set(e,l),i||c0(n,e,l,r.state))),t&&a===null)throw Error(d(528,""));return r}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=En(l),l=Pe(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function jn(e){return'href="'+Sl(e)+'"'}function pi(e){return'link[rel="stylesheet"]['+e+"]"}function Cf(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function c0(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),It(t,"link",l),Ze(t),e.head.appendChild(t))}function En(e){return'[src="'+Sl(e)+'"]'}function bi(e){return"script[async]"+e}function Af(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Sl(l.href)+'"]');if(a)return t.instance=a,Ze(a),a;var n=D({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ze(a),It(a,"style",n),Ts(a,l.precedence,e),t.instance=a;case"stylesheet":n=jn(l.href);var i=e.querySelector(pi(n));if(i)return t.state.loading|=4,t.instance=i,Ze(i),i;a=Cf(l),(n=Nl.get(n))&&qo(a,n),i=(e.ownerDocument||e).createElement("link"),Ze(i);var r=i;return r._p=new Promise(function(u,f){r.onload=u,r.onerror=f}),It(i,"link",a),t.state.loading|=4,Ts(i,l.precedence,e),t.instance=i;case"script":return i=En(l.src),(n=e.querySelector(bi(i)))?(t.instance=n,Ze(n),n):(a=l,(n=Nl.get(i))&&(a=D({},l),Vo(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ze(n),It(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ts(a,l.precedence,e));return t.instance}function Ts(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,r=0;r<a.length;r++){var u=a[r];if(u.dataset.precedence===t)i=u;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function qo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ms=null;function Nf(e,t,l){if(Ms===null){var a=new Map,n=Ms=new Map;n.set(l,a)}else n=Ms,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[el]||i[wt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var u=a.get(r);u?u.push(i):a.set(r,[i])}}return a}function Tf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function d0(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Mf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var yi=null;function f0(){}function g0(e,t,l){if(yi===null)throw Error(d(475));var a=yi;if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=jn(l.href),i=e.querySelector(pi(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Rs.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=i,Ze(i);return}i=e.ownerDocument||e,l=Cf(l),(n=Nl.get(n))&&qo(l,n),i=i.createElement("link"),Ze(i);var r=i;r._p=new Promise(function(u,f){r.onload=u,r.onerror=f}),It(i,"link",l),t.instance=i}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Rs.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function h0(){if(yi===null)throw Error(d(475));var e=yi;return e.stylesheets&&e.count===0&&$o(e,e.stylesheets),0<e.count?function(t){var l=setTimeout(function(){if(e.stylesheets&&$o(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Rs(){if(this.count--,this.count===0){if(this.stylesheets)$o(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Os=null;function $o(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Os=new Map,t.forEach(m0,e),Os=null,Rs.call(e))}function m0(e,t){if(!(t.state.loading&4)){var l=Os.get(e);if(l)var a=l.get(null);else{l=new Map,Os.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(l.set(r.dataset.precedence,r),a=r)}a&&l.set(null,a)}n=t.instance,r=n.getAttribute("data-precedence"),i=l.get(r)||a,i===a&&l.set(null,n),l.set(r,n),this.count++,a=Rs.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var vi={$$typeof:w,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function p0(e,t,l,a,n,i,r,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Rf(e,t,l,a,n,i,r,u,f,S,O,Y){return e=new p0(e,t,l,r,u,f,S,Y),t=1,i===!0&&(t|=24),i=hl(3,null,null,t),e.current=i,i.stateNode=e,t=jr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},Nr(i),e}function Of(e){return e?(e=ln,e):ln}function Df(e,t,l,a,n,i){n=Of(n),a.context===null?a.context=n:a.pendingContext=n,a=ca(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=da(e,a,t),l!==null&&(vl(l,e,t),Jn(l,e,t))}function zf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Qo(e,t){zf(e,t),(e=e.alternate)&&zf(e,t)}function Uf(e){if(e.tag===13){var t=tn(e,67108864);t!==null&&vl(t,e,67108864),Qo(e,67108864)}}var Ds=!0;function b0(e,t,l,a){var n=b.T;b.T=null;var i=B.p;try{B.p=2,Zo(e,t,l,a)}finally{B.p=i,b.T=n}}function y0(e,t,l,a){var n=b.T;b.T=null;var i=B.p;try{B.p=8,Zo(e,t,l,a)}finally{B.p=i,b.T=n}}function Zo(e,t,l,a){if(Ds){var n=Ko(a);if(n===null)Do(e,t,a,zs,l),Lf(e,a);else if(x0(n,e,t,l,a))a.stopPropagation();else if(Lf(e,a),t&4&&-1<v0.indexOf(e)){for(;n!==null;){var i=Z(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=rt(i.pendingLanes);if(r!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var f=1<<31-qe(r);u.entanglements[1]|=f,r&=~f}Gl(i),(bt&6)===0&&(ys=ue()+500,fi(0))}}break;case 13:u=tn(i,2),u!==null&&vl(u,i,2),xs(),Qo(i,2)}if(i=Ko(a),i===null&&Do(e,t,a,zs,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else Do(e,t,a,null,l)}}function Ko(e){return e=Ps(e),Jo(e)}var zs=null;function Jo(e){if(zs=null,e=p(e),e!==null){var t=$(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=H(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zs=e,null}function Bf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case Ae:return 2;case Ye:return 8;case de:case se:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Wo=!1,ka=null,ja=null,Ea=null,xi=new Map,wi=new Map,Ca=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lf(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Si(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Z(t),t!==null&&Uf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function x0(e,t,l,a,n){switch(t){case"focusin":return ka=Si(ka,e,t,l,a,n),!0;case"dragenter":return ja=Si(ja,e,t,l,a,n),!0;case"mouseover":return Ea=Si(Ea,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return xi.set(i,Si(xi.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,wi.set(i,Si(wi.get(i)||null,e,t,l,a,n)),!0}return!1}function Hf(e){var t=p(e.target);if(t!==null){var l=$(t);if(l!==null){if(t=l.tag,t===13){if(t=H(l),t!==null){e.blockedOn=t,$e(e.priority,function(){if(l.tag===13){var a=yl();a=ke(a);var n=tn(l,a);n!==null&&vl(n,l,a),Qo(l,a)}});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Ko(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Fs=a,l.target.dispatchEvent(a),Fs=null}else return t=Z(l),t!==null&&Uf(t),e.blockedOn=l,!1;t.shift()}return!0}function Gf(e,t,l){Us(e)&&l.delete(t)}function w0(){Wo=!1,ka!==null&&Us(ka)&&(ka=null),ja!==null&&Us(ja)&&(ja=null),Ea!==null&&Us(Ea)&&(Ea=null),xi.forEach(Gf),wi.forEach(Gf)}function Bs(e,t){e.blockedOn===t&&(e.blockedOn=null,Wo||(Wo=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,w0)))}var Ls=null;function Yf(e){Ls!==e&&(Ls=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Ls===e&&(Ls=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(Jo(a||l)===null)continue;break}var i=Z(l);i!==null&&(e.splice(t,3),t-=3,Kr(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function _i(e){function t(f){return Bs(f,e)}ka!==null&&Bs(ka,e),ja!==null&&Bs(ja,e),Ea!==null&&Bs(Ea,e),xi.forEach(t),wi.forEach(t);for(var l=0;l<Ca.length;l++){var a=Ca[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ca.length&&(l=Ca[0],l.blockedOn===null);)Hf(l),l.blockedOn===null&&Ca.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],r=n[pt]||null;if(typeof i=="function")r||Yf(l);else if(r){var u=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[pt]||null)u=r.formAction;else if(Jo(n)!==null)continue}else u=r.action;typeof u=="function"?l[a+1]=u:(l.splice(a,3),a-=3),Yf(l)}}}function Fo(e){this._internalRoot=e}Hs.prototype.render=Fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var l=t.current,a=yl();Df(l,a,e,t,null,null)},Hs.prototype.unmount=Fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Df(e.current,2,null,e,null,null),xs(),t[zt]=null}};function Hs(e){this._internalRoot=e}Hs.prototype.unstable_scheduleHydration=function(e){if(e){var t=et();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ca.length&&t!==0&&t<Ca[l].priority;l++);Ca.splice(l,0,e),l===0&&Hf(e)}};var Xf=j.version;if(Xf!=="19.1.1")throw Error(d(527,Xf,"19.1.1"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=X(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var S0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{J=Gs.inject(S0),pe=Gs}catch{}}return ji.createRoot=function(e,t){if(!A(e))throw Error(d(299));var l=!1,a="",n=ad,i=nd,r=id,u=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(u=t.unstable_transitionCallbacks)),t=Rf(e,1,!1,null,null,l,a,n,i,r,u,null),e[zt]=t.current,Oo(e),new Fo(t)},ji.hydrateRoot=function(e,t,l){if(!A(e))throw Error(d(299));var a=!1,n="",i=ad,r=nd,u=id,f=null,S=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(r=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(f=l.unstable_transitionCallbacks),l.formState!==void 0&&(S=l.formState)),t=Rf(e,1,!0,t,l??null,a,n,i,r,u,f,S),t.context=Of(null),l=t.current,a=yl(),a=ke(a),n=ca(a),n.callback=null,da(l,n,a),l=a,t.current.lanes=l,Re(t,l),Gl(t),e[zt]=t.current,Oo(e),new Hs(t)},ji.version="19.1.1",ji}var Pf;function R0(){if(Pf)return eu.exports;Pf=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(j){console.error(j)}}return o(),eu.exports=M0(),eu.exports}var O0=R0();const D0=hg(O0),L=(o,j)=>{typeof window.gtag=="function"?window.gtag("event",o,j):console.log(`GA Event (gtag not found): ${o}`,j)},z0=()=>{const o=new Date,j=o.getFullYear(),v=String(o.getMonth()+1).padStart(2,"0"),d=String(o.getDate()).padStart(2,"0"),A=String(o.getHours()).padStart(2,"0"),$=String(o.getMinutes()).padStart(2,"0"),H=String(o.getSeconds()).padStart(2,"0");return`${j}${v}${d}-${A}${$}${H}`},Ti=o=>{const[j,v]=g.useState([o]),[d,A]=g.useState(0),$=g.useCallback(D=>{const F=typeof D=="function"?D(j[d]):D;if(JSON.stringify(F)===JSON.stringify(j[d]))return;const V=j.slice(0,d+1);V.push(F),v(V),A(V.length-1)},[j,d]),H=g.useCallback(()=>{d>0&&A(d-1)},[d]),ne=g.useCallback(()=>{d<j.length-1&&A(d+1)},[d,j.length]),X=g.useCallback(D=>{const F={...o,...D},V=j.slice(0,d+1);V.push(F),v(V),A(V.length-1)},[o,j,d]),_=g.useCallback(D=>{v([D]),A(0)},[]);return{state:j[d],setState:$,undo:H,redo:ne,reset:X,resetHistory:_,canUndo:d>0,canRedo:d<j.length-1}},Mi=({featureName:o,onFileSelectCallback:j,triggerShareToast:v})=>{const[d,A]=g.useState(null),[$,H]=g.useState(null),[ne,X]=g.useState(!1),[_,D]=g.useState(!1),[F,V]=g.useState(null),ye=g.useCallback((le,Ge)=>{X(!0),L("upload_image",{feature:o,method:Ge});const ge=new FileReader;ge.onload=w=>{var ae;const xe=(ae=w.target)==null?void 0:ae.result;A(xe),V(Date.now());const T=new Image;T.onload=()=>{H(T),X(!1),j()},T.onerror=()=>{L("upload_error",{feature:o,reason:"image_load_fail"}),A(null),H(null),X(!1)},T.src=xe},ge.readAsDataURL(le)},[o,j]),P=g.useCallback(async(le,Ge,ge,w,xe)=>{if(!_){D(!0);try{const T=performance.now(),ae=await le(),we=performance.now(),q=Math.round(we-T),he={...ge};if(F){const ze=Math.round((Date.now()-F)/1e3);he.duration_seconds=ze}if(he.generation_time_ms=q,L("download",he),q>2e3&&L("slow_download",he),ae){const ze=URL.createObjectURL(ae),Oe=document.createElement("a"),Ue=(xe==null?void 0:xe.extension)||"png";Oe.download=`${Ge}-${z0()}.${Ue}`,Oe.href=ze,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(ze),w?w():v()}}catch(T){const ae=T instanceof Error?T.message:String(T);console.error(`Error preparing ${o} for download:`,T),L("download_error",{feature:o,error:ae})}finally{D(!1)}}},[_,F,o,v]),Te=g.useCallback(()=>{L("clear_image",{feature:o}),A(null),H(null),V(null),j()},[o,j]);return{imageSrc:d,image:$,isLoading:ne,isDownloading:_,handleFileSelect:ye,handleDownload:P,clearImage:Te}},Xl=({onFileSelect:o,isLoading:j,compact:v=!1,theme:d,accept:A="image/*",context:$,isMobile:H=!1})=>{const ne=g.useRef(null),[X,_]=g.useState(!1),D=(T,ae)=>{T&&(A==="image/*"||A.includes(T.type))?o(T,ae):T&&L("upload_error",{feature:$,reason:"unsupported_file_type",file_type:T.type})},F=T=>{T.preventDefault(),T.stopPropagation(),_(!0)},V=T=>{T.preventDefault(),T.stopPropagation(),_(!1)},ye=T=>{T.preventDefault(),T.stopPropagation()},P=T=>{var we;T.preventDefault(),T.stopPropagation(),_(!1);const ae=(we=T.dataTransfer.files)==null?void 0:we[0];D(ae,"drag_drop")},Te=()=>{var T;(T=ne.current)==null||T.click()},le=T=>{var we;const ae=(we=T.target.files)==null?void 0:we[0];D(ae,"click"),T.target&&(T.target.value="")},Ge=X?d==="dark"?"border-white bg-nothing-gray-dark":"border-black bg-day-gray-light":d==="dark"?"border-gray-600 bg-transparent hover:border-gray-400":"border-gray-400 bg-transparent hover:border-gray-600",ge=H?"Drag & Drop or Click":"Drag & Drop | Click | Ctrl+V",w={pfp:{bold:ge,normal:"to load an image"},wallpaper:{bold:ge,normal:"to load an image"},photoWidget:{bold:ge,normal:"to load an image"},valueAliasing:{bold:ge,normal:"to load an image"},glassDots:{bold:ge,normal:"to load an image"}},xe=$&&w[$]?w[$]:{bold:"Drag & Drop Image Here",normal:"or click to browse"};return s.jsxs("div",{onClick:Te,onDrop:P,onDragOver:ye,onDragEnter:F,onDragLeave:V,className:`w-full ${v?"":"flex-grow"} text-center border-2 border-dashed cursor-pointer transition-colors duration-300 flex items-center justify-center rounded-lg ${v?"py-4":""} ${Ge}`,children:[s.jsx("input",{type:"file",ref:ne,onChange:le,accept:A,className:"hidden"}),s.jsx("div",{className:`flex flex-col items-center justify-center space-y-2 ${d==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:v?s.jsx("p",{className:"text-md font-semibold",children:"Replace Image"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-6xl",role:"img","aria-label":"Folder icon",children:""}),s.jsx("p",{className:`text-xl font-semibold ${d==="dark"?"text-nothing-light":"text-day-text"}`,children:xe.bold}),s.jsx("p",{className:"text-sm",children:xe.normal}),s.jsx("p",{className:"text-sm mt-1",children:"(all image processing happens locally)"})]})})]})},vt=({label:o,labelPrefix:j,value:v,min:d=0,max:A=100,step:$=1,onChange:H,onChangeCommitted:ne,onReset:X,disabled:_,theme:D,isMobile:F})=>{const V=P=>{const Te=Math.max(d,Math.min(A,P));H(Te),ne(Te)},ye=`slider-${o.replace(/\s+/g,"-")}`;return s.jsxs("div",{className:`${D==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} space-y-2`,children:[s.jsxs("label",{htmlFor:ye,className:"text-sm",children:[j,o]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{id:ye,type:"range",min:d,max:A,step:$,value:v,onChange:P=>H(Number(P.target.value)),onMouseUp:()=>V(v),onTouchEnd:()=>V(v),disabled:_,className:`w-full h-2 appearance-none cursor-pointer disabled:opacity-50 rounded-lg ${D==="dark"?"bg-nothing-gray-dark accent-white":"bg-day-gray-light accent-black"} ${F?"touch-none":""}`}),s.jsx("div",{className:"w-16 text-center font-sans text-sm font-semibold tabular-nums",children:v}),s.jsx("button",{onClick:()=>{L("reset_single_control",{control_name:o}),X()},disabled:_,className:`${D==="dark"?"text-nothing-gray-light hover:text-white disabled:hover:text-nothing-gray-light":"text-day-gray-dark hover:text-black disabled:hover:text-day-gray-dark"} transition-colors disabled:opacity-50`,"aria-label":`Reset ${o}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[s.jsx("polyline",{points:"23 4 23 10 17 10"}),s.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})})]})]})},Qa=({onUndo:o,onRedo:j,canUndo:v,canRedo:d,theme:A})=>s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsxs("button",{onClick:o,disabled:!v,className:`flex items-center justify-center gap-2 px-4 py-2 text-sm font-semibold transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-md ${A==="dark"?"bg-gray-700 text-nothing-light hover:bg-gray-600 disabled:hover:bg-gray-700":"bg-gray-200 text-day-text hover:bg-gray-300 disabled:hover:bg-gray-200"}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("polyline",{points:"9 14 4 9 9 4"}),s.jsx("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"})]}),s.jsx("span",{children:"Undo"})]}),s.jsxs("button",{onClick:j,disabled:!d,className:`flex items-center justify-center gap-2 px-4 py-2 text-sm font-semibold transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-md ${A==="dark"?"bg-gray-700 text-nothing-light hover:bg-gray-600 disabled:hover:bg-gray-700":"bg-gray-200 text-day-text hover:bg-gray-300 disabled:hover:bg-gray-200"}`,children:[s.jsx("span",{children:"Redo"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("polyline",{points:"15 14 20 9 15 4"}),s.jsx("path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"})]})]})]}),dl=({options:o,selected:j,onSelect:v,theme:d})=>{const A="w-1/2 py-2 text-sm font-semibold transition-colors duration-200 focus:outline-none rounded-md flex items-center justify-center space-x-2",$=d==="dark"?"bg-nothing-light text-nothing-dark font-bold":"bg-day-text text-day-bg font-bold",H=d==="dark"?"bg-nothing-gray-dark hover:bg-gray-700 text-nothing-light":"bg-day-gray-light hover:bg-gray-300 text-day-text";return s.jsx("div",{className:`flex space-x-1 p-1 rounded-lg ${d==="dark"?"bg-nothing-darker":"bg-gray-200"}`,children:o.map(ne=>s.jsx("button",{onClick:()=>v(ne.key),className:`${A} ${j===ne.key?$:H}`,"aria-pressed":j===ne.key?"true":"false",children:ne.label},ne.key))})},$a=({show:o,onClose:j,onShare:v,theme:d,isMobile:A,imageRendered:$,className:H="",variant:ne="default"})=>{const X=$?"bottom-20":"bottom-4",_=ne==="special",D=A?`fixed inset-x-4 ${X}`:"absolute bottom-8 right-8 w-full max-w-sm",[F,V]=g.useState(0),[ye,P]=g.useState(!1),Te=g.useRef(0),le=g.useRef(null),Ge=g.useRef(j);g.useEffect(()=>{Ge.current=j},[j]);const ge=g.useCallback(()=>{le.current&&clearTimeout(le.current),le.current=window.setTimeout(()=>{L("toast_dismiss",{method:"timeout"}),Ge.current()},9600)},[]),w=g.useCallback(()=>{le.current&&(clearTimeout(le.current),le.current=null)},[]);g.useEffect(()=>(o?ge():w(),w),[o,ge,w]);const xe=ze=>{A&&(w(),Te.current=ze.touches[0].clientX,P(!0))},T=ze=>{if(!A||!ye)return;const Oe=ze.touches[0].clientX-Te.current;Oe>0&&V(Oe)},ae=()=>{A&&(P(!1),F>100?(L("toast_dismiss",{method:"swipe"}),j()):(V(0),ge()))};g.useEffect(()=>{o||setTimeout(()=>{V(0)},500)},[o]);const we=_?"Yay!! That's your first special theme creation!":"You seem to love it?!",q=_?"Keeping the secret to yourself would be too selfish.":"Help spread the word. Share it to the community thread.",he=`block w-full text-center px-4 py-2 text-sm font-bold rounded-md transition-colors ${_?"easter-egg-glow":d==="dark"?"bg-nothing-light text-nothing-dark hover:bg-opacity-90":"bg-day-text text-day-bg hover:bg-opacity-90"}`;return s.jsx("div",{"aria-live":"polite",className:`z-50 transition-all duration-500 ease-in-out ${D} ${o?"opacity-100 translate-y-0":"opacity-0 translate-y-10 pointer-events-none"} ${H}`,onTouchStart:xe,onTouchMove:T,onTouchEnd:ae,style:{transform:`translateX(${F}px)`,transition:ye?"none":"transform 0.3s ease-out"},children:s.jsx("div",{className:`relative w-full rounded-lg shadow-2xl p-4 ${d==="dark"?"bg-nothing-gray-dark text-nothing-light":"bg-white text-day-text border border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center space-x-4 md:flex-col md:items-stretch md:space-y-3 md:space-x-0",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-semibold",children:we}),s.jsx("p",{className:`text-sm ${d==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:q})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("button",{onClick:()=>{L("share_community_toast_click",{variant:ne}),v(ne),j()},className:he,children:"Share Now"})})]})})})},Qs=({show:o,onClose:j,theme:v,communityLink:d,appUrl:A,variant:$="default"})=>{const[H,ne]=g.useState("Copy");g.useEffect(()=>{const q=he=>{he.key==="Escape"&&j()};return o?(document.body.style.overflow="hidden",window.addEventListener("keydown",q)):document.body.style.overflow="auto",()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",q)}},[o,j]);const X=$==="special",_=`Create your own Nothing style dot-matrix imagery with Matrices: ${A}`,D=`${_}

#Matrices #NothingCommunity`,F="Have you unlocked the secret theme in Matrices Value Aliasing yet?  On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/",V=`#FeelingNothing

  Have you unlocked the secret theme in Matrices Value Aliasing yet? On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed!

https://udaign.github.io/matrices/`,ye="Unlocked the secret theme in Matrices Value Aliasing! ",P="On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed!",Te=" Have you unlocked the secret theme in Matrices Value Aliasing yet? On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/",le="Secret special theme in Matrices! ",Ge="Upload your image to Value Aliasing and on desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/",ge="This community-made tool is just awesome! Have you unlocked the secret theme in Matrices Value Aliasing yet? On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! #FeelingNothing",w=X?F:A,xe=encodeURIComponent(A),T=()=>{navigator.clipboard.writeText(w),L("share_popup_copy_link",{variant:$}),ne("Copied!"),setTimeout(()=>ne("Copy"),2e3)},ae=[{name:"Nothing Community",icon:"nothing",href:d,color:"#2a2b7b"},{name:"X",icon:"x",href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(X?V:D)}`,color:"#000000"},{name:"Reddit",icon:"reddit",href:X?`https://www.reddit.com/submit?title=${encodeURIComponent(ye)}&url=${xe}&text=${encodeURIComponent(P)}`:`https://www.reddit.com/submit?title=${encodeURIComponent("Just created this with Matrices!")}&url=${xe}`,color:"#FF4500"},{name:"WhatsApp",icon:"whatsapp",href:`https://api.whatsapp.com/send?text=${encodeURIComponent(X?Te:_)}`,color:"#25D366"},{name:"Email",icon:"email",href:X?`mailto:?subject=${encodeURIComponent(le)}&body=${encodeURIComponent(Ge)}`:`mailto:?subject=${encodeURIComponent("Just created this with Matrices!")}&body=${encodeURIComponent(_)}`,color:"#4285F4"},{name:"LinkedIn",icon:"linkedin",href:`https://www.linkedin.com/sharing/share-offsite/?url=${xe}`,color:"#0A66C2"},{name:"Facebook",icon:"facebook",href:X?`https://www.facebook.com/sharer/sharer.php?u=${xe}&quote=${encodeURIComponent(ge)}`:`https://www.facebook.com/sharer/sharer.php?u=${xe}`,color:"#1877F2"}],we={nothing:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#2a2b7b"})}),x:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:s.jsx("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.6.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"})}),reddit:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:[s.jsx("path",{d:"M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"}),s.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224q-.03.17-.029.353c0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"})]}),whatsapp:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:s.jsx("path",{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"})}),email:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),linkedin:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:s.jsx("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"})}),facebook:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-1.5c-1 0-1.5.5-1.5 1.5V12h3l-.5 3h-2.5v6.8c4.56-.93 8-4.96 8-9.8z"})}),copy:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),close:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})};return o?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-[2px]",onClick:j,role:"dialog","aria-modal":"true","aria-labelledby":"share-popup-title",children:s.jsxs("div",{className:`relative w-full max-w-xl m-4 p-6 rounded-lg shadow-2xl ${v==="dark"?"bg-nothing-darker text-nothing-light":"bg-white text-day-text"} animate-fade-in`,onClick:q=>q.stopPropagation(),children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h2",{id:"share-popup-title",className:"text-xl font-bold",children:"Share"})}),s.jsx("button",{onClick:j,className:`absolute top-3 right-3 p-2 rounded-full ${v==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Close share dialog",children:we.close}),s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-4 mb-6",children:ae.map(q=>s.jsxs("a",{href:q.href,target:"_blank",rel:"noopener noreferrer",onClick:()=>L("share_popup_click",{platform:q.name,variant:$}),className:"flex flex-col items-center space-y-2 text-center group",children:[s.jsx("div",{style:{backgroundColor:q.color},className:"h-14 w-14 rounded-full flex items-center justify-center transition-opacity group-hover:opacity-80",children:s.jsx("div",{className:"text-white w-7 h-7",children:we[q.icon]})}),s.jsx("span",{className:"text-sm",children:q.name})]},q.name))}),s.jsxs("div",{className:`flex items-center rounded-md border ${v==="dark"?"bg-nothing-dark border-nothing-gray-dark":"bg-day-gray-light border-gray-300"}`,children:[s.jsx("input",{type:"text",readOnly:!0,value:w,"aria-label":"Link to copy",className:`w-full p-2 bg-transparent text-base truncate focus:outline-none ${v==="dark"?"text-nothing-light":"text-day-text"}`}),s.jsxs("button",{onClick:T,className:`flex-shrink-0 flex items-center justify-center w-24 space-x-2 px-3 py-2 text-sm font-semibold rounded-r-md transition-all duration-300 ${H==="Copied!"?"bg-white text-nothing-dark":v==="dark"?"bg-nothing-red hover:brightness-90 text-nothing-light":"bg-day-accent hover:brightness-90 text-white"}`,children:[H==="Copy"&&s.jsx("span",{className:"w-5 h-5",children:we.copy}),s.jsx("span",{children:H})]})]})]})}):null},U0=({show:o,onClose:j,theme:v})=>{const[d,A]=g.useState("initial"),[$,H]=g.useState("Copy UPI ID");g.useEffect(()=>{o&&(A("initial"),H("Copy UPI ID"))},[o]),g.useEffect(()=>{const V=ye=>{ye.key==="Escape"&&j()};return o&&window.addEventListener("keydown",V),()=>{window.removeEventListener("keydown",V)}},[o,j]);const ne=()=>{navigator.clipboard.writeText("udaybhaskar2283@okicici"),L("support_copy_upi_id"),H("Copied!"),setTimeout(()=>H("Copy UPI ID"),2e3)};if(!o)return null;const X=v==="dark"?"bg-nothing-darker text-nothing-light":"bg-white text-day-text",_="w-full text-center px-4 py-3 text-lg font-bold rounded-md transition-colors duration-300 flex items-center justify-center space-x-3",D=v==="dark"?"bg-nothing-gray-dark hover:bg-gray-700":"bg-day-gray-light hover:bg-gray-300",F={close:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),back:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),copy:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),paypal:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-paypal",viewBox:"0 0 16 16",children:s.jsx("path",{d:"M14.06 3.713c.12-1.071-.093-1.832-.702-2.526C12.628.356 11.312 0 9.626 0H4.734a.7.7 0 0 0-.691.59L2.005 13.509a.42.42 0 0 0 .415.486h2.756l-.202 1.28a.628.628 0 0 0 .62.726H8.14c.429 0 .793-.31.862-.731l.025-.13.48-3.043.03-.164.001-.007a.35.35 0 0 1 .348-.297h.38c1.266 0 2.425-.256 3.345-.91q.57-.403.993-1.005a4.94 4.94 0 0 0 .88-2.195c.242-1.246.13-2.356-.57-3.154a2.7 2.7 0 0 0-.76-.59l-.094-.061ZM6.543 8.82a.7.7 0 0 1 .321-.079H8.3c2.82 0 5.027-1.144 5.672-4.456l.003-.016q.326.186.548.438c.546.623.679 1.535.45 2.71-.272 1.397-.866 2.307-1.663 2.874-.802.57-1.842.815-3.043.815h-.38a.87.87 0 0 0-.863.734l-.03.164-.48 3.043-.024.13-.001.004a.35.35 0 0 1-.348.296H5.595a.106.106 0 0 1-.105-.123l.208-1.32z"})})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:j,role:"dialog","aria-modal":"true","aria-labelledby":"support-modal-title",children:s.jsxs("div",{className:`relative w-full max-w-sm m-4 p-6 rounded-lg shadow-2xl ${X}`,onClick:V=>V.stopPropagation(),children:[d==="upi"&&s.jsx("button",{onClick:()=>A("initial"),className:`absolute top-3 left-3 p-2 rounded-full ${v==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Back to support options",children:F.back}),s.jsx("button",{onClick:j,className:`absolute top-3 right-3 p-2 rounded-full ${v==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Close support dialog",children:F.close}),d==="initial"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{id:"support-modal-title",className:"text-2xl font-bold text-center mb-6",children:"Support Matrices"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("a",{href:"https://www.paypal.com/ncp/payment/72N9AB9VD4MJ4",target:"_blank",rel:"noopener noreferrer",className:`${_} bg-[#0070ba] text-white hover:bg-[#005ea6]`,onClick:()=>{L("support_paypal_click"),j()},children:[F.paypal,s.jsx("span",{children:"Pay with PayPal"})]}),s.jsxs("button",{onClick:()=>{A("upi"),L("support_upi_click")},className:`${_} ${D}`,children:[s.jsx("span",{className:"font-bold text-2xl leading-none",children:""}),s.jsx("span",{children:"Pay with UPI"})]})]})]}),d==="upi"&&s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pay with UPI"}),s.jsx("img",{src:"images/UPI-QRCode.png",alt:"UPI QR Code",width:"256",height:"256",className:"rounded-lg border-4 border-white mb-4"}),s.jsx("p",{className:`text-sm mb-4 ${v==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:"Scan the QR code with any UPI app"}),s.jsxs("div",{className:`w-full flex items-center rounded-md border ${v==="dark"?"bg-nothing-dark border-nothing-gray-dark":"bg-day-gray-light border-gray-300"}`,children:[s.jsx("input",{type:"text",readOnly:!0,value:"udaybhaskar2283@okicici","aria-label":"UPI ID",className:`w-full p-2 bg-transparent text-base truncate focus:outline-none ${v==="dark"?"text-nothing-light":"text-day-text"}`}),s.jsxs("button",{onClick:ne,className:`flex-shrink-0 flex items-center justify-center w-36 space-x-2 px-3 py-2 text-sm font-semibold rounded-r-md transition-all duration-300 ${$==="Copied!"?"bg-white text-nothing-dark":v==="dark"?"bg-nothing-red hover:brightness-90 text-nothing-light":"bg-day-accent hover:brightness-90 text-white"}`,children:[$==="Copy UPI ID"&&s.jsx("span",{className:"w-5 h-5",children:F.copy}),s.jsx("span",{children:$})]})]})]})]})})},B0=({show:o,onClose:j,onSelect:v,theme:d})=>{if(g.useEffect(()=>{const ne=X=>{X.key==="Escape"&&j()};return o?(document.body.style.overflow="hidden",window.addEventListener("keydown",ne)):document.body.style.overflow="auto",()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",ne)}},[o,j]),!o)return null;const A=ne=>{L("share_target_select",{feature:ne}),v(ne)},$=[{key:"valueAliasing",label:"Value Aliasing"},{key:"pfp",label:"Glyph Mirror"},{key:"glassDots",label:"Glass Dots"},{key:"wallpaper",label:"Matrix Wallpaper"},{key:"photoWidget",label:"Photo Widget"}],H={close:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-[2px]",onClick:j,role:"dialog","aria-modal":"true","aria-labelledby":"share-target-modal-title",children:s.jsxs("div",{className:`relative w-full max-w-md m-4 p-6 rounded-lg shadow-2xl ${d==="dark"?"bg-nothing-darker text-nothing-light":"bg-white text-day-text"} animate-fade-in`,onClick:ne=>ne.stopPropagation(),children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h2",{id:"share-target-modal-title",className:"text-xl font-bold",children:"Send image to..."})}),s.jsx("button",{onClick:j,className:`absolute top-3 right-3 p-2 rounded-full ${d==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Close share dialog",children:H.close}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:$.map(({key:ne,label:X})=>s.jsx("button",{onClick:()=>A(ne),className:`p-4 text-center font-semibold rounded-md transition-colors duration-200 ${d==="dark"?"bg-nothing-gray-dark hover:bg-gray-700":"bg-day-gray-light hover:bg-gray-300"}`,children:X},ne))})]})})},na=1176,nu=50,Yl=50,L0="#000000",If={resolution:Yl,exposure:Yl,contrast:Yl,pixelGap:Yl,isCircular:!1,isTransparent:!1,isAntiAliased:!1,isGlowEnabled:!1,glowIntensity:Yl,cropOffsetX:.5,cropOffsetY:.5},iu=(o,j)=>{const{width:v,height:d,isTransparent:A,gridColors:$,matrixMask:H,diameter:ne,calculatedPixelGap:X,isCircular:_,padding:D,isGlowEnabled:F,glowIntensity:V}=j;A?o.clearRect(0,0,v,d):(o.fillStyle=L0,o.fillRect(0,0,v,d));const ye=v-D*2;if(ye<=0)return;const P=(ne-1)*X,le=(ye-P)/ne;le<=0||$.forEach((Ge,ge)=>{Ge.forEach((w,xe)=>{var ae;const T=((ae=H[ge])==null?void 0:ae[xe])??0;if(w&&T>0){const we=D+xe*(le+X),q=D+ge*(le+X),he=le*Math.pow(T,.35),ze=(le-he)/2;if(o.fillStyle=w,_?(o.beginPath(),o.arc(we+le/2,q+le/2,he/2,0,2*Math.PI),o.fill()):o.fillRect(we+ze,q+ze,he,he),F&&V>0){const Oe=parseInt(w.substring(4,w.indexOf(",")));if(Oe>30){o.save(),o.globalCompositeOperation="lighter";const Ue=V/100,Be=he*(1+Ue*1.5),Ne=(le-Be)/2,je=Math.pow(Oe/255,2)*Ue*.5;o.fillStyle=`rgba(${Oe}, ${Oe}, ${Oe}, ${je})`,_?(o.beginPath(),o.arc(we+le/2,q+le/2,Be/2,0,2*Math.PI),o.fill()):o.fillRect(we+Ne,q+Ne,Be,Be),o.restore()}}}})})},H0=({theme:o,isMobile:j,footerLinks:v,triggerShareToast:d,handleShare:A})=>{const{state:$,setState:H,undo:ne,redo:X,reset:_,canUndo:D,canRedo:F}=Ti(If),[V,ye]=g.useState($),P=g.useRef(null),Te=g.useRef(null),[le,Ge]=g.useState([]),{resolution:ge,exposure:w,contrast:xe,pixelGap:T,isCircular:ae,isTransparent:we,isAntiAliased:q,isGlowEnabled:he,glowIntensity:ze,cropOffsetX:Oe,cropOffsetY:Ue}=V,{imageSrc:Be,image:Ne,isLoading:je,isDownloading:b,handleFileSelect:B,handleDownload:re,clearImage:Le}=Mi({featureName:"pfp",onFileSelectCallback:_,triggerShareToast:d}),[c,x]=g.useState(!1),K=g.useRef(null);g.useEffect(()=>{if(!c)return;const G=J=>{K.current&&!K.current.contains(J.target)&&x(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[c]),g.useEffect(()=>{ye($)},[$]);const k=g.useMemo(()=>Math.floor((.32*ge+9)/2)*2+1,[ge]),M=g.useMemo(()=>k/2,[k]),ee=g.useMemo(()=>M-.5,[M]),me=g.useMemo(()=>Ne?Math.abs(Ne.width/Ne.height-1)>.01:!1,[Ne]),Fe=g.useMemo(()=>(w-50)*2,[w]),De=g.useMemo(()=>xe<=50?xe/50:1+(xe-50)/50*2,[xe]),ve=g.useMemo(()=>T/100*27.6,[T]),be=g.useMemo(()=>{const G=Array(k).fill(0).map(()=>Array(k).fill(0)),J=(Me,Xe)=>Math.sqrt(Math.pow(Me-ee,2)+Math.pow(Xe-ee,2))<=M;if(!q){for(let Me=0;Me<k;Me++)for(let Xe=0;Xe<k;Xe++)G[Me][Xe]=J(Xe,Me)?1:0;return G}const pe=5,We=1/pe,qe=pe*pe;for(let Me=0;Me<k;Me++)for(let Xe=0;Xe<k;Xe++)if(J(Xe,Me))G[Me][Xe]=1;else if(Math.sqrt(Math.pow(Xe-ee,2)+Math.pow(Me-ee,2))<M+1.5){let xt=0;for(let ut=0;ut<pe;ut++)for(let nt=0;nt<pe;nt++){const rt=Xe-.5+We*(nt+.5)-ee,R=Me-.5+We*(ut+.5)-ee;Math.sqrt(rt*rt+R*R)<=M&&xt++}xt>0&&(G[Me][Xe]=xt/qe)}return G},[k,ee,M,q]),W=g.useCallback(()=>be.map(G=>G.map(J=>J>0?107:null)),[be]);g.useEffect(()=>{(()=>{if(Ne){const J=document.createElement("canvas");J.width=k,J.height=k;const pe=J.getContext("2d",{willReadFrequently:!0});if(!pe)return;pe.imageSmoothingEnabled=!1;const We=Ne.width/Ne.height;let qe=0,Me=0,Xe=Ne.width,xt=Ne.height;We>1?(Xe=Ne.height,qe=(Ne.width-Xe)*Oe):We<1&&(xt=Ne.width,Me=(Ne.height-xt)*Ue),pe.drawImage(Ne,qe,Me,Xe,xt,0,0,k,k);const ut=pe.getImageData(0,0,k,k).data,nt=Array.from({length:k},(rt,R)=>Array.from({length:k},(ce,mt)=>{var Dt;if(((Dt=be[R])==null?void 0:Dt[mt])>0){const Vt=(R*k+mt)*4;return Math.round(.299*ut[Vt]+.587*ut[Vt+1]+.114*ut[Vt+2])}return null}));Ge(nt)}else Ge(W())})()},[k,be,Ne,Oe,Ue,W]);const Q=g.useMemo(()=>le.map(G=>G.map(J=>{if(J===null)return null;const pe=typeof J=="number"?J:J.r*.299+J.g*.587+J.b*.114;let We=Be?((pe/255-.5)*De+.5)*255+Fe:pe;const qe=Math.round(Math.max(0,Math.min(255,We)));return`rgb(${qe}, ${qe}, ${qe})`})),[le,Fe,De,Be]);g.useEffect(()=>{const G=P.current;if(!G)return;const J=G.getContext("2d");if(!J||!Q||Q.length!==k||be.length!==k)return;iu(J,{width:na,height:na,isTransparent:we,gridColors:Q,matrixMask:be,diameter:k,calculatedPixelGap:ve,isCircular:ae,padding:nu,isGlowEnabled:he,glowIntensity:ze});const pe=Te.current;if(!pe)return;const We=pe.getContext("2d");if(!We)return;We.clearRect(0,0,pe.width,pe.height),we&&(We.fillStyle=o==="dark"?"#14151f":"#efefef",We.fillRect(0,0,pe.width,pe.height)),We.save(),We.beginPath(),We.arc(pe.width/2,pe.height/2,pe.width/2,0,Math.PI*2),We.clip();const qe=pe.width/na,Me=nu*qe,Xe=ve*qe;iu(We,{width:pe.width,height:pe.height,isTransparent:we,gridColors:Q,matrixMask:be,diameter:k,calculatedPixelGap:Xe,isCircular:ae,padding:Me,isGlowEnabled:he,glowIntensity:ze}),We.restore()},[Q,ve,k,ae,be,we,o,he,ze]);const Se=g.useCallback(()=>new Promise(G=>{try{const J=document.createElement("canvas");J.width=na,J.height=na;const pe=J.getContext("2d");if(!pe)throw new Error("Failed to get canvas context for download.");iu(pe,{width:na,height:na,isTransparent:V.isTransparent,gridColors:Q,matrixMask:be,diameter:k,calculatedPixelGap:ve,isCircular:V.isCircular,padding:nu,isGlowEnabled:V.isGlowEnabled,glowIntensity:V.glowIntensity}),J.toBlob(We=>G(We),"image/png")}catch(J){console.error("Error creating PFP blob:",J),G(null)}}),[V,Q,be,k,ve]),Ce=()=>{const G={feature:"pfp",setting_resolution:V.resolution,setting_exposure:V.exposure,setting_contrast:V.contrast,setting_pixel_gap:V.pixelGap,setting_is_circular:V.isCircular,setting_is_transparent:V.isTransparent,setting_is_anti_aliased:V.isAntiAliased,setting_is_glow_enabled:V.isGlowEnabled,setting_glow_intensity:V.glowIntensity};re(Se,"matrices-glyphmirror",G)},oe=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),_e=g.useCallback(G=>{if(!me)return;G.preventDefault(),oe.current.isDragging=!0,oe.current.hasMoved=!1;const J="touches"in G?G.touches[0]:G;oe.current.startX=J.clientX,oe.current.startY=J.clientY,oe.current.initialOffsetX=V.cropOffsetX,oe.current.initialOffsetY=V.cropOffsetY,document.body.style.cursor="grabbing"},[me,V.cropOffsetX,V.cropOffsetY]),ue=g.useCallback(G=>{if(!oe.current.isDragging||!Ne)return;oe.current.hasMoved=!0;const J="touches"in G?G.touches[0]:G;let pe=J.clientX-oe.current.startX,We=J.clientY-oe.current.startY;const qe=P.current;if(!qe)return;const Me=qe.getBoundingClientRect();if(Me.width<=0||Me.height<=0)return;const Xe=Ne.width/Ne.height;let xt=oe.current.initialOffsetX,ut=oe.current.initialOffsetY;if(Xe>1){const nt=Ne.height,rt=Ne.width-nt;if(rt>0){const R=pe/Me.width;xt=oe.current.initialOffsetX-R*(nt/rt)}}else if(Xe<1){const nt=Ne.width,rt=Ne.height-nt;if(rt>0){const R=We/Me.height;ut=oe.current.initialOffsetY-R*(nt/rt)}}ye(nt=>({...nt,cropOffsetX:Math.max(0,Math.min(1,xt)),cropOffsetY:Math.max(0,Math.min(1,ut))}))},[Ne]),ie=g.useCallback(()=>{if(oe.current.isDragging){oe.current.isDragging=!1,oe.current.hasMoved&&L("pfp_crop");const{cropOffsetX:G,cropOffsetY:J}=V;H(pe=>({...pe,cropOffsetX:G,cropOffsetY:J})),document.body.style.cursor="default"}},[V,H]),Ae=g.useCallback(()=>{L("pfp_reset_defaults"),H(G=>({...If,cropOffsetX:G.cropOffsetX,cropOffsetY:G.cropOffsetY}))},[H]);g.useEffect(()=>{const G=pe=>ue(pe),J=()=>ie();return document.addEventListener("mousemove",G),document.addEventListener("mouseup",J),document.addEventListener("touchmove",G),document.addEventListener("touchend",J),document.addEventListener("touchcancel",J),()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",J),document.removeEventListener("touchmove",G),document.removeEventListener("touchend",J),document.removeEventListener("touchcancel",J)}},[ue,ie]);const Ye=g.useMemo(()=>{const G=be.flat().reduce((J,pe)=>J+pe,0);return q?G.toFixed(2):G},[be,q]),de=Be?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[s.jsx(Qa,{onUndo:()=>{ne(),L("pfp_undo")},onRedo:()=>{X(),L("pfp_redo")},canUndo:D,canRedo:F,theme:o}),s.jsxs("div",{className:"relative",ref:K,children:[s.jsx("button",{onClick:()=>{x(G=>!G),L("pfp_info_tooltip_toggle")},className:`flex items-center justify-center p-2.5 text-sm font-semibold transition-colors duration-200 rounded-md ${o==="dark"?"bg-gray-700 text-nothing-light hover:bg-gray-600":"bg-gray-200 text-day-text hover:bg-gray-300"}`,"aria-label":"Show info about recommended defaults",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),c&&s.jsxs("div",{role:"tooltip",className:`absolute z-10 w-max px-3 py-1.5 text-xs font-medium rounded-md shadow-lg pointer-events-none ${o==="dark"?"bg-nothing-light text-nothing-dark":"bg-day-text text-day-bg"} ${j?"bottom-full left-1/2 -translate-x-1/2 mb-2":"left-full top-1/2 -translate-y-1/2 ml-2"}`,children:[" = Recommended defaults",s.jsx("div",{className:`absolute w-0 h-0 ${j?`top-full left-1/2 -translate-x-1/2 border-x-4 border-x-transparent border-t-4 ${o==="dark"?"border-t-nothing-light":"border-t-day-text"}`:`top-1/2 -translate-y-1/2 right-full border-y-4 border-y-transparent border-r-4 ${o==="dark"?"border-r-nothing-light":"border-r-day-text"}`}`})]})]})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(vt,{theme:o,isMobile:j,label:"Exposure",value:w,onChange:G=>ye(J=>({...J,exposure:G})),onChangeCommitted:G=>{H(J=>({...J,exposure:G})),L("pfp_slider_change",{slider_name:"exposure",value:G})},onReset:()=>H(G=>({...G,exposure:Yl})),disabled:!Be||je}),s.jsx(vt,{theme:o,isMobile:j,label:"Contrast",value:xe,onChange:G=>ye(J=>({...J,contrast:G})),onChangeCommitted:G=>{H(J=>({...J,contrast:G})),L("pfp_slider_change",{slider_name:"contrast",value:G})},onReset:()=>H(G=>({...G,contrast:Yl})),disabled:!Be||je}),s.jsx(vt,{theme:o,isMobile:j,label:"Resolution",labelPrefix:s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mr-1",children:""})," "]}),value:ge,onChange:G=>ye(J=>({...J,resolution:G})),onChangeCommitted:G=>{H(J=>({...J,resolution:G})),L("pfp_slider_change",{slider_name:"resolution",value:G})},onReset:()=>H(G=>({...G,resolution:Yl})),disabled:je}),s.jsx(vt,{theme:o,isMobile:j,label:"Pixel Gap",labelPrefix:s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mr-1",children:""})," "]}),value:T,onChange:G=>ye(J=>({...J,pixelGap:G})),onChangeCommitted:G=>{H(J=>({...J,pixelGap:G})),L("pfp_slider_change",{slider_name:"pixel_gap",value:G})},onReset:()=>H(G=>({...G,pixelGap:Yl})),disabled:je})]}),s.jsxs("div",{className:`p-4 rounded-lg ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"glow-toggle",className:"text-sm",children:"Glow Effect"}),s.jsx("button",{id:"glow-toggle",role:"switch","aria-checked":he,onClick:()=>{H(G=>({...G,isGlowEnabled:!G.isGlowEnabled})),L("pfp_toggle_change",{setting:"glow_effect",enabled:!$.isGlowEnabled})},disabled:je,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${he?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${he?"translate-x-6":"translate-x-1"}`})})]}),s.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${he?"max-h-48 opacity-100 pt-4":"max-h-0 opacity-0"}`,children:s.jsx(vt,{theme:o,isMobile:j,label:"Glow Intensity",value:ze,onChange:G=>ye(J=>({...J,glowIntensity:G})),onChangeCommitted:G=>{H(J=>({...J,glowIntensity:G})),L("pfp_slider_change",{slider_name:"glow_intensity",value:G})},onReset:()=>H(G=>({...G,glowIntensity:Yl})),disabled:je||!he})})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"circular-toggle",className:"text-sm",children:"Circular Pixels"}),s.jsx("button",{id:"circular-toggle",role:"switch","aria-checked":ae,onClick:()=>{H(G=>({...G,isCircular:!G.isCircular})),L("pfp_toggle_change",{setting:"circular_pixels",enabled:!$.isCircular})},disabled:je,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${ae?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${ae?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"aa-toggle",className:"text-sm",children:"Anti-aliasing"}),s.jsx("button",{id:"aa-toggle",role:"switch","aria-checked":q,onClick:()=>{H(G=>({...G,isAntiAliased:!G.isAntiAliased})),L("pfp_toggle_change",{setting:"anti_aliasing",enabled:!$.isAntiAliased})},disabled:je,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} disabled:opacity-50 ${q?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${q?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"transparent-toggle",className:"text-sm",children:"Transparent Output"}),s.jsx("button",{id:"transparent-toggle",role:"switch","aria-checked":we,onClick:()=>{H(G=>({...G,isTransparent:!G.isTransparent})),L("pfp_toggle_change",{setting:"transparent_output",enabled:!$.isTransparent})},disabled:je,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${we?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${we?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:Le,disabled:je,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:Ae,disabled:je,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset all controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:v})})]}):null;return{previewPanel:Be?s.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("header",{className:"text-center mb-4",children:s.jsxs("p",{className:`${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} text-sm md:text-base`,children:["Diameter: ",s.jsxs("span",{className:`font-semibold ${o==="dark"?"text-nothing-light":"text-day-text"}`,children:[k,"px"]})," | Pixels: ",s.jsx("span",{className:`font-semibold ${o==="dark"?"text-nothing-light":"text-day-text"}`,children:Ye})]})}),s.jsx("div",{children:s.jsx("canvas",{ref:P,width:na,height:na,className:"w-full h-auto rounded-lg","aria-label":"Pixel Matrix Canvas",onMouseDown:_e,onTouchStart:_e,style:{cursor:me?"grab":"default",touchAction:me?"none":"auto"}})}),s.jsxs("div",{className:"flex flex-col items-center my-6",children:[s.jsx("p",{className:`text-sm ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} mb-2 text-center`,children:"Profile Picture Preview"}),s.jsx("canvas",{ref:Te,width:75,height:75,className:"rounded-full","aria-label":"Profile Picture Preview"})]})]}),s.jsx("button",{onClick:()=>A(),className:`absolute bottom-3 right-3 z-10 p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})})]}):s.jsx(Xl,{onFileSelect:B,isLoading:je,theme:o,context:"pfp",isMobile:j}),controlsPanel:de,imageSrc:Be,isLoading:je,handleFileSelect:B,handleDownload:Ce,downloadButton:s.jsx("button",{onClick:Ce,disabled:je||b,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${o==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current image",children:" Download "}),replaceButton:s.jsx(Xl,{onFileSelect:B,isLoading:je,compact:!0,theme:o,isMobile:j}),getCanvasBlob:Se,undo:ne,redo:X,canUndo:D,canRedo:F}};var Tn=mg();const pg={black:{color:"#000000",name:"Black BG"},white:{color:"#FFFFFF",name:"White BG"}},An=50,G0=1260,Y0=2800,X0=3840,q0=2160,V0=.0423936,$0=71.8848,eg={resolution:An,pixelGap:An,background:"black",cropOffsetX:.5,cropOffsetY:.5,isMonochrome:!1},tg={phone:{...eg},desktop:{...eg}},Q0=({theme:o,isMobile:j,footerLinks:v,triggerShareToast:d,handleShare:A,showSharePopup:$,setShowSharePopup:H,communityLink:ne,appUrl:X,shareVariant:_})=>{const{state:D,setState:F,undo:V,redo:ye,reset:P,canUndo:Te,canRedo:le}=Ti(tg),[Ge,ge]=g.useState(D),[w,xe]=g.useState(j?"phone":"desktop"),[T,ae]=g.useState(!1),[we,q]=g.useState(!1),he=g.useRef(null),ze=g.useRef(null),Oe=g.useRef(null),Ue=g.useRef(null),[Be,Ne]=g.useState(!1),{imageSrc:je,image:b,isLoading:B,isDownloading:re,handleFileSelect:Le,handleDownload:c,clearImage:x}=Mi({featureName:"wallpaper",onFileSelectCallback:P,triggerShareToast:d});g.useEffect(()=>{ge(D)},[D]);const K=Ge[w],{resolution:k,pixelGap:M,background:ee,cropOffsetX:me,cropOffsetY:Fe,isMonochrome:De}=K;g.useEffect(()=>{const R=()=>{document.fullscreenElement||(ae(!1),Ne(!1))};return document.addEventListener("fullscreenchange",R),()=>document.removeEventListener("fullscreenchange",R)},[]);const ve=()=>{L("wallpaper_fullscreen_enter"),Tn.flushSync(()=>{ae(!0)}),Oe.current&&Oe.current.requestFullscreen().catch(R=>{console.error(`Error attempting to enable full-screen mode: ${R.message} (${R.name})`),ae(!1)})},be=g.useCallback(()=>{L("wallpaper_fullscreen_exit"),document.fullscreenElement?document.exitFullscreen():ae(!1)},[]),W=g.useCallback(()=>{L("wallpaper_reset_defaults",{wallpaper_type:w}),F(R=>{const{cropOffsetX:ce,cropOffsetY:mt,background:Dt}=R[w];return{...R,[w]:{...tg[w],cropOffsetX:ce,cropOffsetY:mt,background:Dt}}})},[w,F]),[Q,Se]=g.useMemo(()=>w==="desktop"?[X0,q0]:[G0,Y0],[w]),Ce=g.useMemo(()=>Math.floor(10+(w==="desktop"?k*4:k*1.2)/100*$0),[k,w]),oe=g.useMemo(()=>Math.round(Ce*(Se/Q)),[Ce,Q,Se]),_e=g.useMemo(()=>M*V0,[M]),ue=g.useMemo(()=>b?Math.abs(b.width/b.height-Q/Se)>.01:!1,[b,Q,Se]);g.useEffect(()=>{var wt;const R=T?ze.current:he.current;if(!R)return;const ce=R.getContext("2d");if(!ce||(ce.fillStyle=((wt=pg[ee])==null?void 0:wt.color)||"#000000",ce.fillRect(0,0,Q,Se),!b))return;const mt=b.width/b.height,Dt=Q/Se;let Vt=0,z=0,Re=b.width,Ve=b.height;mt>Dt?(Re=b.height*Dt,Vt=(b.width-Re)*me):mt<Dt&&(Ve=b.width/Dt,z=(b.height-Ve)*Fe);const E=document.createElement("canvas");E.width=Ce,E.height=oe;const I=E.getContext("2d",{willReadFrequently:!0});if(!I)return;I.imageSmoothingEnabled=!1,I.drawImage(b,Vt,z,Re,Ve,0,0,Ce,oe);const ke=I.getImageData(0,0,Ce,oe).data,Ie=(Ce-1)*_e,et=(oe-1)*_e,$e=(Q-Ie)/Ce,ct=(Se-et)/oe;for(let pt=0;pt<oe;pt++)for(let zt=0;zt<Ce;zt++){const Kt=(pt*Ce+zt)*4,il=ke[Kt],Ut=ke[Kt+1],xl=ke[Kt+2];if(De){const Z=Math.round(.299*il+.587*Ut+.114*xl);ce.fillStyle=`rgb(${Z}, ${Z}, ${Z})`}else ce.fillStyle=`rgb(${il}, ${Ut}, ${xl})`;const el=zt*($e+_e),fl=pt*(ct+_e),p=Math.min($e,ct)/2;if(p>0){ce.beginPath();const Z=el+$e/2,te=fl+ct/2;ce.arc(Z,te,p,0,2*Math.PI),ce.fill()}}},[b,Ce,oe,_e,ee,Q,Se,me,Fe,T,De]);const ie=g.useCallback(()=>new Promise(R=>{const ce=T?ze.current:he.current;ce?ce.toBlob(mt=>R(mt),"image/png"):R(null)}),[T]),Ae=R=>{L("wallpaper_fullscreen_replace_image",{wallpaper_type:w}),Le(R,"click")},Ye=()=>{var R;L("wallpaper_fullscreen_replace_image_click",{wallpaper_type:w}),(R=Ue.current)==null||R.click()},de=R=>{R.target.files&&R.target.files[0]&&Ae(R.target.files[0]),R.target&&(R.target.value="")},se=()=>{const R={feature:"wallpaper",wallpaper_type:w,setting_resolution:K.resolution,setting_pixel_gap:K.pixelGap,setting_background:K.background,setting_crop_offset_x:K.cropOffsetX,setting_crop_offset_y:K.cropOffsetY,setting_is_monochrome:K.isMonochrome};c(ie,"matrices-wallpaper",R,()=>{T?d(()=>q(!0)):d()})},fe=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),gt=g.useCallback(R=>{if(!ue)return;R.preventDefault(),fe.current.isDragging=!0,fe.current.hasMoved=!1;const ce="touches"in R?R.touches[0]:R;fe.current.startX=ce.clientX,fe.current.startY=ce.clientY,fe.current.initialOffsetX=Ge[w].cropOffsetX,fe.current.initialOffsetY=Ge[w].cropOffsetY,document.body.style.cursor="grabbing"},[ue,Ge,w]),G=g.useCallback(R=>{if(!fe.current.isDragging||!b)return;fe.current.hasMoved=!0;const ce="touches"in R?R.touches[0]:R;let mt=ce.clientX-fe.current.startX,Dt=ce.clientY-fe.current.startY;const Vt=T?ze.current:he.current;if(Vt){const Ie=Vt.getBoundingClientRect();if(Ie.width>0&&Ie.height>0){const et=Q/Ie.width,$e=Se/Ie.height;mt*=et,Dt*=$e}}const z=b.width/b.height,Re=Q/Se;let Ve=0,E=0;z>Re?Ve=Se*z-Q:z<Re&&(E=Q/z-Se);let I=Ve>0?fe.current.initialOffsetX-mt/Ve:fe.current.initialOffsetX,ke=E>0?fe.current.initialOffsetY-Dt/E:fe.current.initialOffsetY;ge(Ie=>({...Ie,[w]:{...Ie[w],cropOffsetX:Math.max(0,Math.min(1,I)),cropOffsetY:Math.max(0,Math.min(1,ke))}}))},[b,Q,Se,w,T]),J=g.useCallback(()=>{if(fe.current.isDragging){fe.current.isDragging=!1,fe.current.hasMoved&&L("wallpaper_crop",{wallpaper_type:w});const{cropOffsetX:R,cropOffsetY:ce}=Ge[w];F(mt=>({...mt,[w]:{...mt[w],cropOffsetX:R,cropOffsetY:ce}})),document.body.style.cursor="default"}},[Ge,w,F]);g.useEffect(()=>{const R=mt=>G(mt),ce=()=>J();return document.addEventListener("mousemove",R),document.addEventListener("mouseup",ce),document.addEventListener("touchmove",R),document.addEventListener("touchend",ce),document.addEventListener("touchcancel",ce),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",ce),document.removeEventListener("touchmove",R),document.removeEventListener("touchend",ce),document.removeEventListener("touchcancel",ce)}},[G,J]);const pe=R=>{L("wallpaper_type_select",{type:R}),xe(R)},We=R=>{L("wallpaper_bg_change",{color:R,wallpaper_type:w}),F(ce=>({...ce,[w]:{...ce[w],background:R}}))},qe=()=>{L("wallpaper_toggle_change",{setting:"monochrome",enabled:!K.isMonochrome,wallpaper_type:w}),F(R=>({...R,[w]:{...R[w],isMonochrome:!R[w].isMonochrome}}))},Me=[{key:"phone",label:"Phone"},{key:"desktop",label:"Desktop"}],Xe=[{key:"white",label:"White BG"},{key:"black",label:"Black BG"}],xt=je?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-2 ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(dl,{options:Me,selected:w,onSelect:pe,theme:o}),s.jsx(dl,{options:Xe,selected:K.background,onSelect:R=>We(R),theme:o})]}),s.jsx(Qa,{onUndo:()=>{V(),L("wallpaper_undo")},onRedo:()=>{ye(),L("wallpaper_redo")},canUndo:Te,canRedo:le,theme:o}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(vt,{theme:o,isMobile:j,label:"Resolution",value:k,onChange:R=>ge(ce=>({...ce,[w]:{...ce[w],resolution:R}})),onChangeCommitted:R=>{F(ce=>({...ce,[w]:{...ce[w],resolution:R}})),L("wallpaper_slider_change",{slider_name:"resolution",value:R,wallpaper_type:w})},onReset:()=>F(R=>({...R,[w]:{...R[w],resolution:An}})),disabled:B}),s.jsx(vt,{theme:o,isMobile:j,label:"Pixel Gap",value:M,onChange:R=>ge(ce=>({...ce,[w]:{...ce[w],pixelGap:R}})),onChangeCommitted:R=>{F(ce=>({...ce,[w]:{...ce[w],pixelGap:R}})),L("wallpaper_slider_change",{slider_name:"pixel_gap",value:R,wallpaper_type:w})},onReset:()=>F(R=>({...R,[w]:{...R[w],pixelGap:An}})),disabled:B})]}),s.jsx("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"monochrome-toggle",className:"text-sm",children:"Monochrome"}),s.jsx("button",{id:"monochrome-toggle",role:"switch","aria-checked":De,onClick:qe,disabled:B,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${De?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${De?"translate-x-6":"translate-x-1"}`})})]})}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:x,disabled:B,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:W,disabled:B,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset wallpaper controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:v})})]}):null;return{previewPanel:je?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:Ue,onChange:de,className:"hidden",accept:"image/*"}),s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[s.jsx("canvas",{ref:he,width:Q,height:Se,className:`border-2 rounded-lg ${o==="dark"?"border-nothing-gray-dark":"border-gray-300"} ${w==="phone"?j?"w-4/5 h-auto":"max-h-full w-auto":"max-w-full max-h-full"}`,"aria-label":"Wallpaper Canvas",onMouseDown:gt,onTouchStart:gt,style:{cursor:ue?"grab":"default",touchAction:ue?"none":"auto"}}),s.jsxs("div",{className:"absolute bottom-3 right-3 z-10 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>A(),className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:ve,className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Enter full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]}),T&&Tn.createPortal(s.jsxs("div",{ref:Oe,className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onMouseDown:R=>{R.target===R.currentTarget&&(fe.current.hasMoved=!1)},onClick:R=>{R.target===R.currentTarget&&!fe.current.hasMoved&&(Be?Ne(!1):be())},children:[s.jsx("canvas",{ref:ze,width:Q,height:Se,className:"max-w-full max-h-full","aria-label":"Full-screen Wallpaper Canvas Preview",onMouseDown:gt,onTouchStart:gt,style:{cursor:ue?"grab":"default",touchAction:ue?"none":"auto"}}),ue&&s.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-2 py-1 rounded-md text-sm ${o==="dark"?"bg-nothing-dark/90 text-nothing-light":"bg-day-gray-light/90 text-day-text"} backdrop-blur-sm pointer-events-none`,children:" Drag to Crop"}),!j&&s.jsxs("div",{className:"fixed bottom-4 left-4 z-[51] w-80 flex flex-col items-start space-y-2",children:[s.jsx("div",{className:"w-full",children:Be?s.jsxs("div",{className:`w-full ${o==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-4 max-h-[calc(100vh-10rem)] flex flex-col space-y-4 shadow-2xl`,children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h3",{className:`font-bold text-lg ${o==="dark"?"text-white":"text-day-text"}`,children:"Controls"}),s.jsx("button",{onClick:()=>{Ne(!1),L("wallpaper_fullscreen_controls_toggle",{open:!1})},className:`p-2 ${o==="dark"?"text-white hover:bg-white/20":"text-day-text hover:bg-black/10"} rounded-full transition-colors`,"aria-label":"Collapse controls",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]}),s.jsxs("div",{className:"overflow-y-auto space-y-4 pr-2 -mr-2",children:[s.jsxs("div",{className:`p-3 rounded-lg ${o==="dark"?"bg-black/40":"bg-white/60"} space-y-2`,children:[s.jsx(dl,{options:Me,selected:w,onSelect:pe,theme:o}),s.jsx(dl,{options:Xe,selected:K.background,onSelect:R=>We(R),theme:o})]}),s.jsx(Qa,{onUndo:()=>{V(),L("wallpaper_undo")},onRedo:()=>{ye(),L("wallpaper_redo")},canUndo:Te,canRedo:le,theme:o}),s.jsxs("div",{className:`p-3 rounded-lg ${o==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:[s.jsx(vt,{theme:o,isMobile:j,label:"Resolution",value:k,onChange:R=>ge(ce=>({...ce,[w]:{...ce[w],resolution:R}})),onChangeCommitted:R=>{F(ce=>({...ce,[w]:{...ce[w],resolution:R}})),L("wallpaper_slider_change",{slider_name:"resolution",value:R,wallpaper_type:w})},onReset:()=>F(R=>({...R,[w]:{...R[w],resolution:An}})),disabled:B}),s.jsx(vt,{theme:o,isMobile:j,label:"Pixel Gap",value:M,onChange:R=>ge(ce=>({...ce,[w]:{...ce[w],pixelGap:R}})),onChangeCommitted:R=>{F(ce=>({...ce,[w]:{...ce[w],pixelGap:R}})),L("wallpaper_slider_change",{slider_name:"pixel_gap",value:R,wallpaper_type:w})},onReset:()=>F(R=>({...R,[w]:{...R[w],pixelGap:An}})),disabled:B})]}),s.jsx("div",{className:`p-3 rounded-lg ${o==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"monochrome-toggle-fs",className:"text-sm",children:"Monochrome"}),s.jsx("button",{id:"monochrome-toggle-fs",role:"switch","aria-checked":De,onClick:qe,disabled:B,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${De?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${De?"translate-x-6":"translate-x-1"}`})})]})}),s.jsx("div",{children:s.jsx("button",{onClick:W,disabled:B,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset wallpaper controls to their default values",children:" Reset Controls "})})]})]}):s.jsxs("button",{onClick:()=>{Ne(!0),L("wallpaper_fullscreen_controls_toggle",{open:!0})},className:`w-full ${o==="dark"?"bg-nothing-dark/80 text-white hover:bg-nothing-dark":"bg-day-bg/90 text-day-text hover:bg-day-gray-light border border-gray-300/50"} backdrop-blur-sm font-semibold py-3 px-4 rounded-lg flex items-center justify-between shadow-lg transition-colors`,"aria-label":"Expand controls",children:[s.jsx("span",{children:"Controls"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})})]})}),s.jsxs("div",{className:`w-full ${o==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-2 flex flex-col items-stretch space-y-2 shadow-lg`,children:[s.jsx("button",{onClick:Ye,disabled:B,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Replace the current image",children:"Replace Image"}),s.jsx("button",{onClick:se,disabled:B||re,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current wallpaper",children:"Download"})]})]}),s.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>A(),className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:be,className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Exit full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})})})]}),s.jsx($a,{show:we,onClose:()=>q(!1),onShare:()=>{},theme:o,isMobile:!1,imageRendered:!!je,className:"z-[60] !bottom-24"}),s.jsx(Qs,{show:$,onClose:()=>H(!1),theme:o,communityLink:ne,appUrl:X,variant:_})]}),document.body)]}):s.jsx(Xl,{onFileSelect:Le,isLoading:B,theme:o,context:"wallpaper",isMobile:j}),controlsPanel:xt,imageSrc:je,isLoading:B,handleFileSelect:Le,handleDownload:se,downloadButton:s.jsx("button",{onClick:se,disabled:B||re,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${o==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current wallpaper",children:" Download "}),replaceButton:s.jsx(Xl,{onFileSelect:Le,isLoading:B,compact:!0,theme:o,isMobile:j}),wallpaperType:w,getCanvasBlob:ie,undo:V,redo:ye,canUndo:Te,canRedo:le}},Ys=1176,Xs=50,Vs=50,lg={transparent:{resolution:Vs,pixelGap:0,isCircular:!1,isAntiAliased:!1},dark:{resolution:Vs,pixelGap:0,isCircular:!0,isAntiAliased:!1},light:{resolution:Vs,pixelGap:0,isCircular:!0,isAntiAliased:!1}},ag=(o,j)=>{const{width:v,height:d,outputMode:A,matrix:$,pixelGap:H,isCircular:ne,isAntiAliased:X}=j;switch(A){case"transparent":o.clearRect(0,0,v,d);break;case"dark":o.fillStyle="#1b1b1b",o.fillRect(0,0,v,d);break;case"light":o.fillStyle="#f1f0f1",o.fillRect(0,0,v,d);break}if(!$||$.length===0||$[0].length===0)return;const _=$.length,D=$[0].length,F=v-Xs*2,V=d-Xs*2,ye=D/_;let P,Te;F/ye<=V?(P=F,Te=F/ye):(Te=V,P=V*ye);const le=Xs+(F-P)/2,Ge=Xs+(V-Te)/2,ge=P/D,w=Te/_,T=.28*(H*.84*5)/100*.2765,ae=ge*(1-T),we=w*(1-T);for(let q=0;q<_;q++)for(let he=0;he<D;he++){const ze=$[q][he];if(ze){const Oe=ze.a/255;let Ue=ae,Be=we;if(X){const b=Math.sqrt(Oe);Ue*=b,Be*=b}o.fillStyle=`rgb(${ze.r}, ${ze.g}, ${ze.b})`;const Ne=le+he*ge,je=Ge+q*w;if(ne){const b=Math.min(Ue,Be)/2;b>.1&&(o.beginPath(),o.arc(Ne+ge/2,je+w/2,b,0,2*Math.PI),o.fill())}else if(Ue>.1&&Be>.1){const b=Ne+(ge-Ue)/2,B=je+(w-Be)/2;o.fillRect(b,B,Ue,Be)}}}},Z0=({theme:o,isMobile:j,footerLinks:v,triggerShareToast:d,handleShare:A})=>{const{state:$,setState:H,undo:ne,redo:X,reset:_,canUndo:D,canRedo:F}=Ti(lg),[V,ye]=g.useState($),[P,Te]=g.useState("transparent"),[le,Ge]=g.useState("dark"),[ge,w]=g.useState(null),xe=g.useRef(null),T=V[P],{resolution:ae,pixelGap:we,isCircular:q,isAntiAliased:he}=T,ze=g.useCallback(()=>{_(),Te("transparent"),Ge("dark")},[_]),{imageSrc:Oe,image:Ue,isLoading:Be,isDownloading:Ne,handleFileSelect:je,handleDownload:b,clearImage:B}=Mi({featureName:"photo_widget",onFileSelectCallback:ze,triggerShareToast:d}),re=g.useMemo(()=>Ys,[]),Le=g.useMemo(()=>Ys,[]);g.useEffect(()=>{ye($)},[$]),g.useEffect(()=>{if(!Ue){w(null);return}const W=20+Math.floor(ae*.6592/100*130),Q=document.createElement("canvas"),Se=Q.getContext("2d",{willReadFrequently:!0});if(!Se)return;const Ce=W,oe=Math.round(Ce*(Ue.height/Ue.width));Q.width=Ce,Q.height=oe,Se.imageSmoothingEnabled=!1,Se.drawImage(Ue,0,0,Ce,oe);const _e=Se.getImageData(0,0,Ce,oe).data,ue=Array.from({length:oe},(se,fe)=>Array.from({length:Ce},(gt,G)=>{const J=(fe*Ce+G)*4;if(_e[J+3]<=10)return null;const pe=_e[J],We=_e[J+1],qe=_e[J+2];return{r:Math.round(Math.max(0,Math.min(255,pe))),g:Math.round(Math.max(0,Math.min(255,We))),b:Math.round(Math.max(0,Math.min(255,qe))),a:_e[J+3]}}));let ie=Ce,Ae=oe,Ye=-1,de=-1;for(let se=0;se<oe;se++)for(let fe=0;fe<Ce;fe++)ue[se][fe]&&(fe<ie&&(ie=fe),fe>Ye&&(Ye=fe),se<Ae&&(Ae=se),se>de&&(de=se));if(Ye!==-1){const se=Ye-ie+1,fe=de-Ae+1,gt=Array.from({length:fe},(G,J)=>Array.from({length:se},(pe,We)=>ue[J+Ae][We+ie]));w(gt)}else w(null)},[Ue,ae]),g.useEffect(()=>{const W=xe.current;if(!W||!ge)return;const Q=W.getContext("2d");Q&&ag(Q,{width:re,height:Le,outputMode:P,matrix:ge,pixelGap:we,isCircular:q,isAntiAliased:he})},[ge,we,q,he,P,re,Le]);const c=g.useCallback(()=>ge?new Promise(W=>{try{const Q=Ys,Se=Ys,Ce=document.createElement("canvas");Ce.width=Q,Ce.height=Se;const oe=Ce.getContext("2d");if(!oe)throw new Error("Failed to get canvas context for download.");ag(oe,{...$[P],outputMode:P,width:Q,height:Se,matrix:ge}),Ce.toBlob(_e=>W(_e),"image/png")}catch(Q){console.error("Error creating Photo Widget blob:",Q),W(null)}}):Promise.resolve(null),[ge,P,$]),x=()=>{const W={feature:"photo_widget",setting_output_mode:P,setting_resolution:T.resolution,setting_pixel_gap:T.pixelGap,setting_is_circular:T.isCircular,setting_is_anti_aliased:T.isAntiAliased};b(c,"matrices-photowidget",W)},K=g.useCallback(()=>{L("photo_widget_reset_defaults",{output_mode:P}),H(W=>({...W,[P]:lg[P]}))},[P,H]),k=W=>{const Q=W==="transparent"?"transparent":le;L("photo_widget_output_mode_change",{mode:Q}),Te(Q)},M=W=>{L("photo_widget_fill_theme_change",{theme:W}),Te(W),Ge(W)},ee=[{key:"transparent",label:"Transparent"},{key:"fill",label:"Fill"}],me=[{key:"light",label:"Light Fill"},{key:"dark",label:"Dark Fill"}],Fe=Oe?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-2 ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(dl,{options:ee,selected:P==="transparent"?"transparent":"fill",onSelect:k,theme:o}),P!=="transparent"&&s.jsx(dl,{options:me,selected:le,onSelect:W=>M(W),theme:o})]}),s.jsx("div",{className:"flex justify-center items-center",children:s.jsx(Qa,{onUndo:()=>{ne(),L("photo_widget_undo")},onRedo:()=>{X(),L("photo_widget_redo")},canUndo:D,canRedo:F,theme:o})}),s.jsxs("div",{className:`p-4 rounded-lg ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(vt,{theme:o,isMobile:j,label:"Resolution",value:ae,onChange:W=>ye(Q=>({...Q,[P]:{...Q[P],resolution:W}})),onChangeCommitted:W=>{H(Q=>({...Q,[P]:{...Q[P],resolution:W}})),L("photo_widget_slider_change",{slider_name:"resolution",value:W,output_mode:P})},onReset:()=>H(W=>({...W,[P]:{...W[P],resolution:Vs}})),disabled:Be}),s.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${P!=="transparent"?"max-h-48 opacity-100 mt-4":"max-h-0 opacity-0"}`,children:s.jsx(vt,{theme:o,isMobile:j,label:"Pixel Gap",value:we,onChange:W=>ye(Q=>({...Q,[P]:{...Q[P],pixelGap:W}})),onChangeCommitted:W=>{H(Q=>({...Q,[P]:{...Q[P],pixelGap:W}})),L("photo_widget_slider_change",{slider_name:"pixel_gap",value:W,output_mode:P})},onReset:()=>H(W=>({...W,[P]:{...W[P],pixelGap:0}})),disabled:Be})})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pw-circular-toggle",className:"text-sm",children:"Circular Pixels"}),s.jsx("button",{id:"pw-circular-toggle",role:"switch","aria-checked":q,onClick:()=>{const W=!T.isCircular;H(Q=>({...Q,[P]:{...Q[P],isCircular:W}})),L("photo_widget_toggle_change",{setting:"circular_pixels",enabled:W,output_mode:P})},disabled:Be,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${q?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${q?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pw-aa-toggle",className:"text-sm",children:"Anti-aliasing"}),s.jsx("button",{id:"pw-aa-toggle",role:"switch","aria-checked":he,onClick:()=>{const W=!T.isAntiAliased;H(Q=>({...Q,[P]:{...Q[P],isAntiAliased:W}})),L("photo_widget_toggle_change",{setting:"anti_aliasing",enabled:W,output_mode:P})},disabled:Be,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} disabled:opacity-50 ${he?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${he?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:B,disabled:Be,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:K,disabled:Be,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset photo widget controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:v})})]}):null;return{previewPanel:Oe?s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsx("div",{className:"w-full max-w-2xl",children:s.jsx("canvas",{ref:xe,width:re,height:Le,className:"max-w-full max-h-full h-auto w-auto rounded-lg","aria-label":"Photo Widget Matrix Canvas",style:{aspectRatio:`${re} / ${Le}`}})}),s.jsx("button",{onClick:()=>A(),className:`absolute bottom-3 right-3 z-10 p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})})]}):s.jsx(Xl,{onFileSelect:je,isLoading:Be,theme:o,accept:"image/png",context:"photoWidget",isMobile:j}),controlsPanel:Fe,imageSrc:Oe,isLoading:Be,handleFileSelect:je,handleDownload:x,downloadButton:s.jsx("button",{onClick:x,disabled:Be||Ne||!ge,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${o==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current widget",children:" Download "}),replaceButton:s.jsx(Xl,{onFileSelect:je,isLoading:Be,compact:!0,theme:o,accept:"image/png",isMobile:j}),getCanvasBlob:c,undo:ne,redo:X,canUndo:D,canRedo:F}},Tl=50,K0=1260,J0=2800,ng=3840,ig=2160,W0=.0423936,F0=71.8848,su=300,Ei={us_8x10:{label:"8 x 10 in",w:8,h:10,group:"US Standard"},"us_8.5x11":{label:"8.5 x 11 in",w:8.5,h:11,group:"US Standard"},us_11x14:{label:"11 x 14 in",w:11,h:14,group:"US Standard"},us_11x17:{label:"11 x 17 in",w:11,h:17,group:"US Standard"},us_12x16:{label:"12 x 16 in",w:12,h:16,group:"US Standard"},us_12x18:{label:"12 x 18 in",w:12,h:18,group:"US Standard"},us_16x20:{label:"16 x 20 in",w:16,h:20,group:"US Standard"},us_18x24:{label:"18 x 24 in",w:18,h:24,group:"US Standard"},us_20x30:{label:"20 x 30 in",w:20,h:30,group:"US Standard"},us_24x36:{label:"24 x 36 in",w:24,h:36,group:"US Standard"},us_27x40:{label:"27 x 40 in",w:27,h:40,group:"US Standard"},us_36x48:{label:"36 x 48 in",w:36,h:48,group:"US Standard"},iso_a5:{label:"A5",w:5.83,h:8.27,group:"ISO"},iso_a4:{label:"A4",w:8.27,h:11.69,group:"ISO"},iso_a3:{label:"A3",w:11.69,h:16.54,group:"ISO"},iso_a2:{label:"A2",w:16.54,h:23.39,group:"ISO"},iso_a1:{label:"A1",w:23.39,h:33.11,group:"ISO"},iso_a0:{label:"A0",w:33.11,h:46.81,group:"ISO"},original:{label:"Original Ratio",w:1,h:1,group:"Ratio",isRatio:!0},"ratio_1:1":{label:"1:1",w:12,h:12,group:"Ratio",isRatio:!0},"ratio_5:4":{label:"5:4",w:15,h:12,group:"Ratio",isRatio:!0},"ratio_4:3":{label:"4:3",w:16,h:12,group:"Ratio",isRatio:!0},"ratio_3:2":{label:"3:2",w:18,h:12,group:"Ratio",isRatio:!0},"ratio_16:9":{label:"16:9",w:21.33,h:12,group:"Ratio",isRatio:!0},"ratio_1.85:1":{label:"1.85:1",w:22.2,h:12,group:"Ratio",isRatio:!0},"ratio_2:1":{label:"2:1",w:24,h:12,group:"Ratio",isRatio:!0},"ratio_2.35:1":{label:"2.35:1",w:28.2,h:12,group:"Ratio",isRatio:!0},"ratio_21:9":{label:"21:9",w:28,h:12,group:"Ratio",isRatio:!0},"ratio_3:1":{label:"3:1",w:36,h:12,group:"Ratio",isRatio:!0}},sg=["US Standard","ISO","Ratio"],ou={resolution:Tl,pixelGap:Tl,background:"black",cropOffsetX:.5,cropOffsetY:.5,isMonochrome:!0,exposure:Tl,contrast:Tl,isPureValue:!1,isTransparent:!1,lowerLimit:0},P0={...ou,size:"original",orientation:"portrait"},Ci={outputType:"wallpaper",wallpaper:{phone:{...ou},desktop:{...ou}},print:P0},qs={yellow:"#FCCA21",blue:"#1A5A8A",red:"#BD1721",grey:"#E0E0E0"},bg=[["yellow","blue","red"],["blue","yellow","red"],["red","yellow","blue"],["yellow","red","blue"],["blue","red","yellow"],["red","blue","yellow"]],I0=(o,j,v)=>{const d=o/255,A=j/255,$=v/255,H=1-Math.max(d,A,$);if(H===1)return[0,0,0,1];const ne=(1-d-H)/(1-H),X=(1-A-H)/(1-H),_=(1-$-H)/(1-H);return[ne,X,_,H]},em=(o,j,v,d)=>{const A=255*(1-o)*(1-d),$=255*(1-j)*(1-d),H=255*(1-v)*(1-d);return[Math.round(A),Math.round($),Math.round(H)]},$s=(o,j,v)=>{const[d,A,$,H]=I0(o,j,v);return em(d,A,$,H)},tm=(o,j,v,d,A)=>{const $=bg[d];if(!$)return;const H=V=>{if(!A)return V;const ye=parseInt(V.slice(1,3),16),P=parseInt(V.slice(3,5),16),Te=parseInt(V.slice(5,7),16),[le,Ge,ge]=$s(ye,P,Te);return`rgb(${le}, ${Ge}, ${ge})`},ne=H(qs[$[0]]),X=H(qs[$[1]]),_=H(qs[$[2]]),D=.809,F=.5;o.fillStyle=H(qs.grey),o.fillRect(0,0,j,v),o.fillStyle=ne,o.fillRect(0,0,D*j,D*v),o.fillStyle=X,o.fillRect(D*j,0,(1-D)*j,F*v),o.fillStyle=_,o.fillRect(0,D*v,F*j,(1-D)*v)},rg=(o,j)=>{var me;const{canvasWidth:v,canvasHeight:d,image:A,settings:$}=j,{outputType:H,valueAliasingType:ne,isEasterEggActive:X,activePermutationIndex:_,resolution:D,pixelGap:F,background:V,cropOffsetX:ye,cropOffsetY:P,isMonochrome:Te,exposure:le,contrast:Ge,isPureValue:ge,isTransparent:w,lowerLimit:xe}=$,T=H==="print";if(X&&_!==null)tm(o,v,d,_,T);else if(w)o.clearRect(0,0,v,d);else{const Fe=((me=pg[V])==null?void 0:me.color)||"#000000";if(T){const De=parseInt(Fe.slice(1,3),16),ve=parseInt(Fe.slice(3,5),16),be=parseInt(Fe.slice(5,7),16),[W,Q,Se]=$s(De,ve,be);o.fillStyle=`rgb(${W}, ${Q}, ${Se})`}else o.fillStyle=Fe;o.fillRect(0,0,v,d)}const ae=Math.floor(10+(H==="print"||ne==="desktop"?D*4:D*1.2)/100*F0),we=Math.round(ae*(d/v)),q=A.width/A.height,he=v/d;let ze=0,Oe=0,Ue=A.width,Be=A.height;q>he?(Ue=A.height*he,ze=(A.width-Ue)*ye):q<he&&(Be=A.width/he,Oe=(A.height-Be)*P);const Ne=document.createElement("canvas");Ne.width=ae,Ne.height=we;const je=Ne.getContext("2d",{willReadFrequently:!0});if(!je)return;je.imageSmoothingEnabled=!1,je.drawImage(A,ze,Oe,Ue,Be,0,0,ae,we);const b=je.getImageData(0,0,ae,we).data,B=F*W0,re=(ae-1)*B,Le=(we-1)*B,c=(v-re)/ae,x=(d-Le)/we,K=(le-50)*2,k=Ge<=50?Ge/50:1+(Ge-50)/50*2,M=xe/100,ee=X||ge;for(let Fe=0;Fe<we;Fe++)for(let De=0;De<ae;De++){const ve=(Fe*ae+De)*4,be=b[ve],W=b[ve+1],Q=b[ve+2];if(Te){let Ce=(((.299*be+.587*W+.114*Q)/255-.5)*k+.5)*255+K;const oe=Math.round(Math.max(0,Math.min(255,Ce)));if(X){const _e=(255-oe)/255;if(_e>M){const[ue,ie,Ae]=[0,0,0];if(T){const[se,fe,gt]=$s(ue,ie,Ae);o.fillStyle=`rgb(${se}, ${fe}, ${gt})`}else o.fillStyle=`rgb(${ue}, ${ie}, ${Ae})`;const de=Math.min(c,x)/2*_e;if(de>.1){const se=De*(c+B),fe=Fe*(x+B),gt=se+c/2,G=fe+x/2;o.beginPath(),o.arc(gt,G,de,0,2*Math.PI),o.fill()}}}else{const _e=V==="white",ue=_e?(255-oe)/255:oe/255;if(ue>M){let ie,Ae,Ye;if(ee?[ie,Ae,Ye]=_e?[0,0,0]:[255,255,255]:[ie,Ae,Ye]=[oe,oe,oe],T){const[fe,gt,G]=$s(ie,Ae,Ye);o.fillStyle=`rgb(${fe}, ${gt}, ${G})`}else o.fillStyle=`rgb(${ie}, ${Ae}, ${Ye})`;const se=Math.min(c,x)/2*ue;if(se>.1){const fe=De*(c+B),gt=Fe*(x+B),G=fe+c/2,J=gt+x/2;o.beginPath(),o.arc(G,J,se,0,2*Math.PI),o.fill()}}}}}},lm=({theme:o,isMobile:j,footerLinks:v,triggerShareToast:d,handleShare:A,easterEggPrimed:$,setEasterEggPrimed:H,isEasterEggPermanentlyUnlocked:ne,markEasterEggAsUnlocked:X,setJustUnlockedSpecialTheme:_,showSharePopup:D,setShowSharePopup:F,communityLink:V,appUrl:ye,shareVariant:P})=>{const{state:Te,setState:le,undo:Ge,redo:ge,resetHistory:w,canUndo:xe,canRedo:T}=Ti(Ci),[ae,we]=g.useState(Te),[q,he]=g.useState(j?"phone":"desktop"),[ze,Oe]=g.useState(!1),[Ue,Be]=g.useState(!1),Ne=g.useRef(null),je=g.useRef(null),b=g.useRef(null),B=g.useRef(null),[re,Le]=g.useState(!1),[c,x]=g.useState(!1),[K,k]=g.useState(null),{outputType:M}=ae,ee=g.useMemo(()=>{const{wallpaper:p,print:Z}=ae;return M==="wallpaper"?p[q]:Z},[ae,M,q]),me=g.useMemo(()=>c?{...ee,isPureValue:!0,isTransparent:!1}:ee,[c,ee]),{resolution:Fe,pixelGap:De,cropOffsetX:ve,cropOffsetY:be,isMonochrome:W,exposure:Q,contrast:Se,lowerLimit:Ce}=ee,{background:oe,isPureValue:_e,isTransparent:ue}=me,ie=g.useCallback(()=>{x(!1),k(null)},[]),Ae=g.useCallback(()=>{ie()},[ie]),{imageSrc:Ye,image:de,isLoading:se,isDownloading:fe,handleFileSelect:gt,handleDownload:G,clearImage:J}=Mi({featureName:"value_aliasing",onFileSelectCallback:Ae,triggerShareToast:d});g.useEffect(()=>{if(de){const p=de.width>=de.height?"landscape":"portrait",Z=JSON.parse(JSON.stringify(Ci));Z.print.size="original",Z.print.orientation=p,w(Z)}else w(Ci)},[de,w]),g.useEffect(()=>{we(Te)},[Te]);const pe=g.useCallback(p=>{p==="community"?c||(L("easter_egg_activated",{feature:"value_aliasing"}),x(!0),ne||(X(),_(!0))):(L("value_aliasing_style_select",{style:p,from_community_theme:c}),x(!1),le(Z=>{const Pe={background:p==="dark"?"black":"white"};if(Z.outputType==="wallpaper"){const dt={...Z.wallpaper[q],...Pe};return{...Z,wallpaper:{...Z.wallpaper,[q]:dt}}}const Ze={...Z.print,...Pe};return{...Z,print:Ze}}))},[c,ne,X,le,q,M,_]),We=g.useCallback(()=>{pe("community")},[pe]),qe=(p=null)=>{const Z=bg.length;if(p===null)return Math.floor(Math.random()*Z);let te;do te=Math.floor(Math.random()*Z);while(te===p);return te};g.useEffect(()=>{c&&K===null&&k(qe())},[c,K]);const Me=()=>{L("value_aliasing_easter_egg_refresh"),k(p=>qe(p))};g.useEffect(()=>{const p=()=>{document.fullscreenElement||(Oe(!1),Le(!1))};return document.addEventListener("fullscreenchange",p),()=>document.removeEventListener("fullscreenchange",p)},[]);const Xe=()=>{L("value_aliasing_fullscreen_enter"),Tn.flushSync(()=>{Oe(!0)}),b.current&&b.current.requestFullscreen().catch(p=>{console.error(`Error attempting to enable full-screen mode: ${p.message} (${p.name})`),Oe(!1)})},xt=g.useCallback(()=>{L("value_aliasing_fullscreen_exit"),document.fullscreenElement?document.exitFullscreen():Oe(!1)},[]),ut=g.useCallback(()=>{L("value_aliasing_reset_defaults",{value_aliasing_type:M==="wallpaper"?q:"print"}),le(p=>{const Z=(te,Pe)=>{const{cropOffsetX:Ze,cropOffsetY:dt}=te,Nt="size"in te?{size:te.size,orientation:te.orientation}:{};return{...Pe,cropOffsetX:Ze,cropOffsetY:dt,...Nt}};return p.outputType==="wallpaper"?{...p,wallpaper:{...p.wallpaper,[q]:Z(p.wallpaper[q],Ci.wallpaper[q])}}:{...p,print:Z(p.print,Ci.print)}})},[q,le,M]),[nt,rt]=g.useMemo(()=>{if(M==="print"){const p=ee,Z=Ei[p.size];if(!Z)return[ng,ig];let te,Pe;if(p.size==="original"){if(!de)return[3600,3600];const Ze=12*su,dt=de.width/de.height;dt>=1?(te=Ze,Pe=Math.round(Ze/dt)):(Pe=Ze,te=Math.round(Ze*dt))}else te=Z.w*su,Pe=Z.h*su;return p.orientation==="landscape"?[Math.max(te,Pe),Math.min(te,Pe)]:[Math.min(te,Pe),Math.max(te,Pe)]}return q==="desktop"?[ng,ig]:[K0,J0]},[M,q,ee,de]),[R,ce]=g.useMemo(()=>{if(M==="wallpaper")return[nt,rt];const p=nt/rt,Z=1500;return nt>=rt?[Z,Math.round(Z/p)]:[Math.round(Z*p),Z]},[M,nt,rt]),mt=g.useMemo(()=>de?Math.abs(de.width/de.height-nt/rt)>.01:!1,[de,nt,rt]);g.useEffect(()=>{if(!de)return;const p=ze?je.current:Ne.current;if(!p)return;const Z=p.getContext("2d");if(!Z)return;rg(Z,{canvasWidth:R,canvasHeight:ce,image:de,settings:{outputType:M,valueAliasingType:q,isEasterEggActive:c,activePermutationIndex:K,resolution:Fe,pixelGap:De,background:oe,cropOffsetX:ve,cropOffsetY:be,isMonochrome:W,exposure:Q,contrast:Se,isPureValue:_e,isTransparent:ue,lowerLimit:Ce}})},[de,ze,R,ce,M,q,c,K,Fe,De,oe,ve,be,W,Q,Se,_e,ue,Ce]);const Dt=g.useCallback(async(p={})=>{const{highQuality:Z=!1}=p,te=ae.outputType==="print";return!Z||!te?new Promise(Pe=>{const Ze=ze?je.current:Ne.current;Ze?Ze.toBlob(dt=>Pe(dt),"image/png"):Pe(null)}):new Promise(Pe=>{if(!de){Pe(null);return}const Ze=document.createElement("canvas");Ze.width=nt,Ze.height=rt;const dt=Ze.getContext("2d");if(!dt){console.error("Could not create offscreen canvas context for high-quality export."),Pe(null);return}const Nt=Te[M==="wallpaper"?"wallpaper":"print"],Tt=M==="wallpaper"?Nt[q]:Nt,Yt={canvasWidth:nt,canvasHeight:rt,image:de,settings:{...Tt,outputType:M,valueAliasingType:q,isEasterEggActive:c,activePermutationIndex:K}};rg(dt,Yt),Ze.toBlob(sl=>{Pe(sl)},"image/png")})},[ze,ae,Te,M,q,de,nt,rt,c,K]),Vt=p=>{L("value_aliasing_fullscreen_replace_image",{value_aliasing_type:q}),gt(p,"click")},z=()=>{var p;L("value_aliasing_fullscreen_replace_image_click",{value_aliasing_type:q}),(p=B.current)==null||p.click()},Re=p=>{p.target.files&&p.target.files[0]&&Vt(p.target.files[0]),p.target&&(p.target.value="")},Ve=()=>{const p={feature:"value_aliasing",output_type:M,is_special_theme:c,setting_resolution:ee.resolution,setting_pixel_gap:ee.pixelGap,setting_background:ee.background,setting_crop_offset_x:ee.cropOffsetX,setting_crop_offset_y:ee.cropOffsetY,setting_is_monochrome:ee.isMonochrome,setting_exposure:ee.exposure,setting_contrast:ee.contrast,setting_is_pure_value:ee.isPureValue,setting_is_transparent:ee.isTransparent,setting_lower_limit:ee.lowerLimit},Z=()=>{d(ze?()=>Be(!0):void 0,c)},te=ae.outputType==="print";let Pe;if(te){const{size:Ze,orientation:dt}=ae.print;Pe=`matrices-valuealiasing-print-${Ze}-${dt}`,p.print_size=Ze,p.print_orientation=dt}else Pe=`matrices-valuealiasing-${q}`,p.wallpaper_type=q;G(()=>Dt({highQuality:!0}),Pe,p,Z)},E=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),I=g.useCallback(p=>{if(!mt)return;p.preventDefault(),E.current.isDragging=!0,E.current.hasMoved=!1;const Z="touches"in p?p.touches[0]:p;E.current.startX=Z.clientX,E.current.startY=Z.clientY,E.current.initialOffsetX=ee.cropOffsetX,E.current.initialOffsetY=ee.cropOffsetY,document.body.style.cursor="grabbing"},[mt,ee]),ke=g.useCallback(p=>{if(!E.current.isDragging||!de)return;E.current.hasMoved=!0;const Z="touches"in p?p.touches[0]:p;let te=Z.clientX-E.current.startX,Pe=Z.clientY-E.current.startY;const Ze=ze?je.current:Ne.current;if(Ze){const Ct=Ze.getBoundingClientRect();if(Ct.width>0&&Ct.height>0){const Jt=R/Ct.width,Wt=ce/Ct.height;te*=Jt,Pe*=Wt}}const dt=de.width/de.height,Nt=nt/rt;let Tt=0,Yt=0;dt>Nt?Tt=rt*dt-nt:dt<Nt&&(Yt=nt/dt-rt);let sl=Tt>0?E.current.initialOffsetX-te/Tt:E.current.initialOffsetX,ia=Yt>0?E.current.initialOffsetY-Pe/Yt:E.current.initialOffsetY;const Ml={cropOffsetX:Math.max(0,Math.min(1,sl)),cropOffsetY:Math.max(0,Math.min(1,ia))};we(Ct=>Ct.outputType==="wallpaper"?{...Ct,wallpaper:{...Ct.wallpaper,[q]:{...Ct.wallpaper[q],...Ml}}}:{...Ct,print:{...Ct.print,...Ml}})},[de,nt,rt,R,ce,q,ze]),Ie=g.useCallback(()=>{if(E.current.isDragging){E.current.isDragging=!1,E.current.hasMoved&&L("value_aliasing_crop",{value_aliasing_type:M==="wallpaper"?q:"print"});const{cropOffsetX:p,cropOffsetY:Z}=ee;le(te=>te.outputType==="wallpaper"?{...te,wallpaper:{...te.wallpaper,[q]:{...te.wallpaper[q],cropOffsetX:p,cropOffsetY:Z}}}:{...te,print:{...te.print,cropOffsetX:p,cropOffsetY:Z}}),document.body.style.cursor="default"}},[ee,q,le,M]);g.useEffect(()=>{const p=te=>ke(te),Z=()=>Ie();return document.addEventListener("mousemove",p),document.addEventListener("mouseup",Z),document.addEventListener("touchmove",p),document.addEventListener("touchend",Z),document.addEventListener("touchcancel",Z),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",Z),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",Z),document.removeEventListener("touchcancel",Z)}},[ke,Ie]);const et=(p,Z)=>{we(te=>te.outputType==="wallpaper"?{...te,wallpaper:{...te.wallpaper,[q]:{...te.wallpaper[q],[p]:Z}}}:{...te,print:{...te.print,[p]:Z}})},$e=(p,Z)=>{le(te=>te.outputType==="wallpaper"?{...te,wallpaper:{...te.wallpaper,[q]:{...te.wallpaper[q],[p]:Z}}}:{...te,print:{...te.print,[p]:Z}}),L("value_aliasing_slider_change",{slider_name:p,value:Z,output_mode:M==="wallpaper"?q:"print"})},ct=p=>{L("value_aliasing_output_type_select",{type:p}),le(Z=>({...Z,outputType:p}))},wt=[{key:"phone",label:"Phone"},{key:"desktop",label:"Desktop"}],pt=[{key:"wallpaper",label:"Wallpaper"},{key:"print",label:"Print"}],zt=[{key:"landscape",label:"Landscape"},{key:"portrait",label:"Portrait"}],Kt=()=>{const p="py-2 text-sm font-semibold transition-colors duration-200 focus:outline-none rounded-md flex items-center justify-center",Z=o==="dark"?"bg-nothing-light text-nothing-dark font-bold":"bg-day-text text-day-bg font-bold",te=o==="dark"?"bg-nothing-gray-dark hover:bg-gray-700 text-nothing-light":"bg-day-gray-light hover:bg-gray-300 text-day-text";return s.jsxs("div",{className:`flex space-x-1 p-1 rounded-lg ${o==="dark"?"bg-nothing-darker":"bg-gray-200"}`,children:[s.jsx("button",{onClick:()=>pe("dark"),className:`${p} flex-grow ${!c&&ee.background==="black"?Z:te}`,"aria-pressed":!c&&ee.background==="black"?"true":"false",children:"Dark"}),s.jsx("button",{onClick:()=>pe("light"),className:`${p} flex-grow ${!c&&ee.background==="white"?Z:te}`,"aria-pressed":!c&&ee.background==="white"?"true":"false",children:"Light"}),ne&&s.jsx("button",{onClick:()=>pe("community"),className:`${p} flex-shrink-0 w-10 ${c?Z:te}`,"aria-label":"Activate Community Theme","aria-pressed":c?"true":"false",children:s.jsxs("svg",{viewBox:"0 0 22 22",className:"h-5 w-5","aria-hidden":"true",children:[s.jsx("rect",{x:"0",y:"0",width:"10",height:"10",fill:"#BD1721"}),s.jsx("rect",{x:"12",y:"0",width:"10",height:"10",fill:"#FCCA21"}),s.jsx("rect",{x:"0",y:"12",width:"10",height:"10",fill:"#0D4E81"}),s.jsx("rect",{x:"12",y:"12",width:"10",height:"10",fill:"#E0E0E0"})]})})]})},il=()=>s.jsx("button",{onClick:Me,className:`p-2 transition-colors duration-200 rounded-md ${o==="dark"?"bg-gray-700 text-nothing-gray-light hover:text-white":"bg-gray-200 text-day-gray-dark hover:text-black"}`,"aria-label":"Randomize Background Colors",children:j?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"16 3 21 3 21 8"}),s.jsx("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),s.jsx("polyline",{points:"21 16 21 21 16 21"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"4",y1:"4",x2:"9",y2:"9"})]}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("defs",{children:s.jsxs("pattern",{id:"shuffleIconPattern",patternUnits:"userSpaceOnUse",width:"24",height:"24",children:[s.jsx("rect",{x:"0",y:"0",width:"12",height:"12",fill:"#BD1721"}),s.jsx("rect",{x:"12",y:"0",width:"12",height:"12",fill:"#FCCA21"}),s.jsx("rect",{x:"0",y:"12",width:"12",height:"12",fill:"#1A5A8A"}),s.jsx("rect",{x:"12",y:"12",width:"12",height:"12",fill:"#E0E0E0"})]})}),s.jsx("polyline",{points:"16 3 21 3 21 8",stroke:"url(#shuffleIconPattern)"}),s.jsx("line",{x1:"4",y1:"20",x2:"21",y2:"3",stroke:"url(#shuffleIconPattern)"}),s.jsx("polyline",{points:"21 16 21 21 16 21",stroke:"url(#shuffleIconPattern)"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21",stroke:"url(#shuffleIconPattern)"}),s.jsx("line",{x1:"4",y1:"4",x2:"9",y2:"9",stroke:"url(#shuffleIconPattern)"})]})}),Ut=Ye?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(dl,{options:pt,selected:M,onSelect:p=>ct(p),theme:o}),M==="wallpaper"?s.jsx(dl,{options:wt,selected:q,onSelect:p=>he(p),theme:o}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"print-size-select",className:`block text-sm mb-2 ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:"Print Size"}),s.jsxs("select",{id:"print-size-select",value:ee.size,onChange:p=>{const Z=p.target.value;le(te=>({...te,print:{...te.print,size:Z}})),L("value_aliasing_print_size_change",{size:Z})},className:`w-full p-2 rounded-md border text-sm ${o==="dark"?"bg-nothing-gray-dark border-nothing-gray-dark text-nothing-light":"bg-day-gray-light border-gray-300 text-day-text"}`,children:[s.jsx("option",{value:"original",children:Ei.original.label}),sg.map(p=>s.jsx("optgroup",{label:p,children:Object.entries(Ei).filter(([Z,te])=>te.group===p&&Z!=="original").map(([Z,te])=>s.jsx("option",{value:Z,children:te.label},Z))},p))]})]}),s.jsx(dl,{options:zt,selected:ee.orientation,onSelect:p=>{const Z=p;le(te=>({...te,print:{...te.print,orientation:Z}})),L("value_aliasing_orientation_change",{orientation:Z})},theme:o})]}),s.jsx(Kt,{})]}),s.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[s.jsx(Qa,{onUndo:()=>{Ge(),L("value_aliasing_undo")},onRedo:()=>{ge(),L("value_aliasing_redo")},canUndo:xe,canRedo:T,theme:o}),c&&s.jsx(il,{})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(vt,{theme:o,isMobile:j,label:"Exposure",value:Q,onChange:p=>et("exposure",p),onChangeCommitted:p=>$e("exposure",p),onReset:()=>$e("exposure",Tl),disabled:se}),s.jsx(vt,{theme:o,isMobile:j,label:"Contrast",value:Se,onChange:p=>et("contrast",p),onChangeCommitted:p=>$e("contrast",p),onReset:()=>$e("contrast",Tl),disabled:se}),s.jsx(vt,{theme:o,isMobile:j,label:"Resolution",value:Fe,onChange:p=>et("resolution",p),onChangeCommitted:p=>$e("resolution",p),onReset:()=>$e("resolution",Tl),disabled:se}),s.jsx(vt,{theme:o,isMobile:j,label:"Pixel Gap",value:De,onChange:p=>et("pixelGap",p),onChangeCommitted:p=>$e("pixelGap",p),onReset:()=>$e("pixelGap",Tl),disabled:se}),s.jsx(vt,{theme:o,isMobile:j,label:"Lower Limit",value:Ce,onChange:p=>et("lowerLimit",p),onChangeCommitted:p=>$e("lowerLimit",p),onReset:()=>$e("lowerLimit",0),disabled:se})]}),!c&&s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pure-values-toggle",className:"text-sm",children:"Pure Values"}),s.jsx("button",{id:"pure-values-toggle",role:"switch","aria-checked":_e,onClick:()=>$e("isPureValue",!_e),disabled:se,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${_e?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${_e?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"transparent-output-toggle",className:"text-sm",children:"Transparent Output"}),s.jsx("button",{id:"transparent-output-toggle",role:"switch","aria-checked":ue,onClick:()=>$e("isTransparent",!ue),disabled:se,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${ue?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${ue?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:J,disabled:se,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:ut,disabled:se,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset value aliasing controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:v})})]}):null;return{previewPanel:Ye?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:B,onChange:Re,className:"hidden",accept:"image/*"}),s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[s.jsx("canvas",{ref:Ne,width:R,height:ce,className:`border-2 rounded-lg ${o==="dark"?"border-nothing-gray-dark":"border-gray-300"} ${M==="wallpaper"&&q==="phone"?j?"w-4/5 h-auto":"max-h-full w-auto":"max-w-full max-h-full"}`,"aria-label":"Value Aliasing Canvas",onMouseDown:I,onTouchStart:I,style:{cursor:mt?"grab":"default",touchAction:mt?"none":"auto",backgroundColor:ue&&!c&&o==="dark"?"#14151f":ue&&!c&&o==="light"?"#efefef":"transparent"}}),s.jsxs("div",{className:"absolute bottom-3 right-3 z-10 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>A(c?"special":"default"),className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:Xe,className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Enter full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]}),ze&&Tn.createPortal(s.jsxs("div",{ref:b,className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onMouseDown:p=>{p.target===p.currentTarget&&(E.current.hasMoved=!1)},onClick:p=>{p.target===p.currentTarget&&!E.current.hasMoved&&(re?Le(!1):xt())},children:[s.jsx("canvas",{ref:je,width:R,height:ce,className:"max-w-full max-h-full","aria-label":"Full-screen Value Aliasing Canvas Preview",onMouseDown:I,onTouchStart:I,style:{cursor:mt?"grab":"default",touchAction:mt?"none":"auto"}}),mt&&s.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-2 py-1 rounded-md text-sm ${o==="dark"?"bg-nothing-dark/90 text-nothing-light":"bg-day-gray-light/90 text-day-text"} backdrop-blur-sm pointer-events-none`,children:" Drag to Crop"}),$&&s.jsx("button",{onClick:()=>{We(),H(!1)},className:"fixed top-4 right-4 z-[52] flex items-center p-2 px-3 transition-colors duration-300 rounded-md text-sm font-semibold easter-egg-glow","aria-label":"Click to Unlock",children:"Click to Unlock"}),!j&&s.jsxs("div",{className:"fixed bottom-4 left-4 z-[51] w-80 flex flex-col items-start space-y-2",children:[s.jsx("div",{className:"w-full",children:re?s.jsxs("div",{className:`w-full ${o==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-4 max-h-[calc(100vh-10rem)] flex flex-col space-y-4 shadow-2xl`,children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h3",{className:`font-bold text-lg ${o==="dark"?"text-white":"text-day-text"}`,children:"Controls"}),s.jsx("button",{onClick:()=>{Le(!1),L("value_aliasing_fullscreen_controls_toggle",{open:!1})},className:`p-2 ${o==="dark"?"text-white hover:bg-white/20":"text-day-text hover:bg-black/10"} rounded-full transition-colors`,"aria-label":"Collapse controls",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]}),s.jsxs("div",{className:"overflow-y-auto space-y-4 pr-2 -mr-2",children:[s.jsxs("div",{className:`p-3 rounded-lg space-y-4 ${o==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(dl,{options:pt,selected:M,onSelect:p=>ct(p),theme:o}),M==="wallpaper"?s.jsx(dl,{options:wt,selected:q,onSelect:p=>he(p),theme:o}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"print-size-select-fs",className:`block text-sm mb-2 ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:"Print Size"}),s.jsxs("select",{id:"print-size-select-fs",value:ee.size,onChange:p=>{const Z=p.target.value;le(te=>({...te,print:{...te.print,size:Z}})),L("value_aliasing_print_size_change",{size:Z})},className:`w-full p-2 rounded-md border text-sm ${o==="dark"?"bg-nothing-gray-dark border-nothing-gray-dark text-nothing-light":"bg-day-gray-light border-gray-300 text-day-text"}`,children:[s.jsx("option",{value:"original",children:Ei.original.label}),sg.map(p=>s.jsx("optgroup",{label:p,children:Object.entries(Ei).filter(([Z,te])=>te.group===p&&Z!=="original").map(([Z,te])=>s.jsx("option",{value:Z,children:te.label},Z))},p))]})]}),s.jsx(dl,{options:zt,selected:ee.orientation,onSelect:p=>{const Z=p;le(te=>({...te,print:{...te.print,orientation:Z}})),L("value_aliasing_orientation_change",{orientation:Z})},theme:o})]}),s.jsx(Kt,{})]}),s.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[s.jsx(Qa,{onUndo:()=>{Ge(),L("value_aliasing_undo")},onRedo:()=>{ge(),L("value_aliasing_redo")},canUndo:xe,canRedo:T,theme:o}),c&&s.jsx(il,{})]}),s.jsxs("div",{className:`p-3 rounded-lg ${o==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:[s.jsx(vt,{theme:o,isMobile:j,label:"Exposure",value:Q,onChange:p=>et("exposure",p),onChangeCommitted:p=>$e("exposure",p),onReset:()=>$e("exposure",Tl),disabled:se}),s.jsx(vt,{theme:o,isMobile:j,label:"Contrast",value:Se,onChange:p=>et("contrast",p),onChangeCommitted:p=>$e("contrast",p),onReset:()=>$e("contrast",Tl),disabled:se}),s.jsx(vt,{theme:o,isMobile:j,label:"Resolution",value:Fe,onChange:p=>et("resolution",p),onChangeCommitted:p=>$e("resolution",p),onReset:()=>$e("resolution",Tl),disabled:se}),s.jsx(vt,{theme:o,isMobile:j,label:"Pixel Gap",value:De,onChange:p=>et("pixelGap",p),onChangeCommitted:p=>$e("pixelGap",p),onReset:()=>$e("pixelGap",Tl),disabled:se}),s.jsx(vt,{theme:o,isMobile:j,label:"Lower Limit",value:Ce,onChange:p=>et("lowerLimit",p),onChangeCommitted:p=>$e("lowerLimit",p),onReset:()=>$e("lowerLimit",0),disabled:se})]}),!c&&s.jsxs("div",{className:`p-3 rounded-lg ${o==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:[s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pure-values-toggle-fs",className:"text-sm",children:"Pure Values"}),s.jsx("button",{id:"pure-values-toggle-fs",role:"switch","aria-checked":_e,onClick:()=>$e("isPureValue",!_e),disabled:se,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${_e?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${_e?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"transparent-output-toggle-fs",className:"text-sm",children:"Transparent Output"}),s.jsx("button",{id:"transparent-output-toggle-fs",role:"switch","aria-checked":ue,onClick:()=>$e("isTransparent",!ue),disabled:se,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${ue?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${ue?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsx("div",{children:s.jsx("button",{onClick:ut,disabled:se,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset value aliasing controls to their default values",children:" Reset Controls "})})]})]}):s.jsxs("button",{onClick:()=>{Le(!0),L("value_aliasing_fullscreen_controls_toggle",{open:!0})},className:`w-full ${o==="dark"?"bg-nothing-dark/80 text-white hover:bg-nothing-dark":"bg-day-bg/90 text-day-text hover:bg-day-gray-light border border-gray-300/50"} backdrop-blur-sm font-semibold py-3 px-4 rounded-lg flex items-center justify-between shadow-lg transition-colors`,"aria-label":"Expand controls",children:[s.jsx("span",{children:"Controls"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})})]})}),s.jsxs("div",{className:`w-full ${o==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-2 flex flex-col items-stretch space-y-2 shadow-lg`,children:[s.jsx("button",{onClick:z,disabled:se,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Replace the current image",children:"Replace Image"}),s.jsx("button",{onClick:Ve,disabled:se||fe,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current image",children:fe?"Generating...":"Download"})]})]}),s.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>A(c?"special":"default"),className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:xt,className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Exit full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})})})]}),s.jsx($a,{show:Ue,onClose:()=>Be(!1),onShare:()=>{},theme:o,isMobile:!1,imageRendered:!!Ye,className:"z-[60] !bottom-24"}),s.jsx(Qs,{show:D,onClose:()=>F(!1),theme:o,communityLink:V,appUrl:ye,variant:P})]}),document.body)]}):s.jsx(Xl,{onFileSelect:gt,isLoading:se,theme:o,context:"valueAliasing",isMobile:j}),controlsPanel:Ut,imageSrc:Ye,isLoading:se,handleFileSelect:gt,handleDownload:Ve,downloadButton:s.jsxs("button",{onClick:Ve,disabled:se||fe,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${o==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current image",children:[" ",fe?"Generating...":"Download"," "]}),replaceButton:s.jsx(Xl,{onFileSelect:gt,isLoading:se,compact:!0,theme:o,isMobile:j}),valueAliasingType:q,activateEasterEgg:We,isEasterEggActive:c,getCanvasBlob:Dt,undo:Ge,redo:ge,canUndo:xe,canRedo:T}},Nn=50,am=1260,nm=2800,im=3840,sm=2160,og={resolution:Nn,pixelGap:Nn,blurAmount:50,isMonochrome:!1,cropOffsetX:.5,cropOffsetY:.5,isGrainEnabled:!0,grainAmount:Nn,grainSize:0,ior:50,similaritySensitivity:50,isBackgroundBlurEnabled:!1,lowerLimit:0,isMarkerEnabled:!1},Ai={phone:{...og},desktop:{...og}},ug=[{id:1,code:"UNI",label:"UNIFORM",desktop:{resolution:96,pixelGap:50,lowerLimit:0,similaritySensitivity:0,blurAmount:24,ior:12,grainSize:0,grainAmount:42,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:36,pixelGap:36,lowerLimit:0,similaritySensitivity:0,blurAmount:20,ior:12,grainSize:0,grainAmount:28,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1}},{id:2,code:"UBL",label:"UNIFORM BLURRED",desktop:{resolution:96,pixelGap:64,lowerLimit:0,similaritySensitivity:0,blurAmount:6,ior:100,grainSize:0,grainAmount:36,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1},phone:{resolution:52,pixelGap:64,lowerLimit:0,similaritySensitivity:0,blurAmount:6,ior:100,grainSize:0,grainAmount:20,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1}},{id:3,code:"BAR",label:"BARE",desktop:{resolution:0,pixelGap:67,lowerLimit:36,similaritySensitivity:100,blurAmount:16,ior:32,grainSize:0,grainAmount:50,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:0,pixelGap:56,lowerLimit:21,similaritySensitivity:100,blurAmount:25,ior:36,grainSize:0,grainAmount:36,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1}},{id:4,code:"BDS",label:"3D BEADS",desktop:{resolution:32,pixelGap:32,lowerLimit:0,similaritySensitivity:87,blurAmount:32,ior:64,grainSize:0,grainAmount:64,isMarkerEnabled:!0,isBackgroundBlurEnabled:!0,isMonochrome:!1},phone:{resolution:4,pixelGap:36,lowerLimit:0,similaritySensitivity:87,blurAmount:28,ior:64,grainSize:0,grainAmount:40,isMarkerEnabled:!0,isBackgroundBlurEnabled:!0,isMonochrome:!1}},{id:5,code:"PAL",label:"PALETTE",desktop:{resolution:52,pixelGap:32,lowerLimit:0,similaritySensitivity:100,blurAmount:84,ior:100,grainSize:8,grainAmount:60,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1},phone:{resolution:6,pixelGap:32,lowerLimit:0,similaritySensitivity:100,blurAmount:84,ior:100,grainSize:0,grainAmount:48,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1}},{id:6,code:"ORG",label:"ORGANIC",desktop:{resolution:82,pixelGap:64,lowerLimit:0,similaritySensitivity:78,blurAmount:12,ior:80,grainSize:0,grainAmount:40,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:32,pixelGap:36,lowerLimit:0,similaritySensitivity:90,blurAmount:24,ior:56,grainSize:0,grainAmount:50,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1}},{id:7,code:"MGR",label:"LOW DEPTH GRAIN MONO",desktop:{resolution:20,pixelGap:36,lowerLimit:0,similaritySensitivity:96,blurAmount:12,ior:28,grainSize:21,grainAmount:72,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!0},phone:{resolution:3,pixelGap:64,lowerLimit:20,similaritySensitivity:96,blurAmount:16,ior:24,grainSize:10,grainAmount:60,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!0}},{id:8,code:"MOD",label:"MODERATE LOW GRAIN LOW BLUR",desktop:{resolution:40,pixelGap:60,lowerLimit:0,similaritySensitivity:92,blurAmount:18,ior:75,grainSize:0,grainAmount:20,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:8,pixelGap:0,lowerLimit:14,similaritySensitivity:67,blurAmount:17,ior:84,grainSize:0,grainAmount:20,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1}}],cg=(o,j)=>{if(!o||!j)return 1/0;const v=o.r-j.r,d=o.g-j.g,A=o.b-j.b;return Math.sqrt(v*v+d*d+A*A)},dg=(o,j)=>{const{canvasWidth:v,canvasHeight:d,sourceBleedCanvas:A,blurBleedCanvas:$,finalBgCanvas:H,bleedX:ne,bleedY:X,settings:_}=j,{resolution:D,pixelGap:F,ior:V,similaritySensitivity:ye,isGrainEnabled:P,grainAmount:Te,grainSize:le,lowerLimit:Ge,isMarkerEnabled:ge,isBackgroundBlurEnabled:w}=_,xe=Math.floor(10+D/100*100),T=Math.round(xe*(d/v));if(xe<=0||T<=0){o.drawImage(H,0,0);return}const ae=document.createElement("canvas");ae.width=xe,ae.height=T;const we=ae.getContext("2d",{willReadFrequently:!0});if(!we)return;we.drawImage(A,0,0,A.width,A.height,0,0,xe,T);const q=we.getImageData(0,0,xe,T).data,he=Array.from({length:T},(ve,be)=>Array.from({length:xe},(W,Q)=>{const Se=(be*xe+Q)*4;return{r:q[Se],g:q[Se+1],b:q[Se+2]}})),ze=Array.from({length:T},()=>Array(xe).fill(!1)),Oe=[],Ue=ye/100*160,Be=(ve,be,W,Q,Se)=>{const Ce=he[be][ve];let oe=1;for(;;){const _e=oe+1;if(be+_e>Q||ve+_e>W)break;let ue=!0;for(let ie=0;ie<_e;ie++){const Ae=ve+oe,Ye=be+ie;if(ze[Ye][Ae]){ue=!1;break}if(cg(Ce,he[Ye][Ae])>Ue){ue=!1;break}}if(!ue)break;for(let ie=0;ie<oe;ie++){const Ae=ve+ie,Ye=be+oe;if(ze[Ye][Ae]){ue=!1;break}if(cg(Ce,he[Ye][Ae])>Ue){ue=!1;break}}if(!ue)break;oe=_e}return oe};for(let ve=0;ve<T;ve++)for(let be=0;be<xe;be++){if(ze[ve][be])continue;const W=Be(be,ve,xe,T);Oe.push({x:be,y:ve,size:W});for(let Q=0;Q<W;Q++)for(let Se=0;Se<W;Se++)ze[ve+Q][be+Se]=!0;if(W>1){const Se=F*16/100/100,Ce=(W-Se)/2,oe=W/2,_e=W/2,ue=Array.from({length:W},()=>Array(W).fill(!1));for(let ie=0;ie<W;ie++)for(let Ae=0;Ae<W;Ae++){const Ye=Math.max(Ae,Math.min(oe,Ae+1)),de=Math.max(ie,Math.min(_e,ie+1)),se=oe-Ye,fe=_e-de;se*se+fe*fe<Ce*Ce-.001&&(ue[ie][Ae]=!0)}for(let ie=0;ie<W;ie++)for(let Ae=0;Ae<W;Ae++){if(ue[ie][Ae])continue;let Ye=1;for(;;){const de=Ye+1;if(ie+de>W||Ae+de>W)break;let se=!0;for(let fe=0;fe<de;fe++)if(ue[ie+fe][Ae+Ye]){se=!1;break}if(!se)break;for(let fe=0;fe<Ye;fe++)if(ue[ie+Ye][Ae+fe]){se=!1;break}if(!se)break;Ye=de}Oe.push({x:be+Ae,y:ve+ie,size:Ye});for(let de=0;de<Ye;de++)for(let se=0;se<Ye;se++)ue[ie+de][Ae+se]=!0}}}const Ne=[...Oe].sort((ve,be)=>be.size-ve.size),je=Math.ceil(Ne.length*.04),b=new Set(Ne.slice(0,je));o.clearRect(0,0,v,d),o.drawImage(H,0,0);const B=1+V*.93/100*.4,re=v/xe,Le=d/T,x=F*16/100/100,K=re*x,k=Le*x,M=[],ee=Oe.reduce((ve,be)=>Math.max(ve,be.size),1),me=Ge/100*ee,De=Oe.filter(ve=>ve.size>=me).map(ve=>{const{x:be,y:W,size:Q}=ve,Se=re*Q,Ce=Le*Q,oe=be*re+Se/2,_e=W*Le+Ce/2,ue=Se-K,ie=Ce-k,Ae=Math.min(ue,ie)/2;return{centerX:oe,centerY:_e,radius:Ae,size:Q,originalBlob:ve}}).filter(ve=>ve.radius>.1);for(const ve of De){const{centerX:be,centerY:W,radius:Q}=ve;M.push({centerX:be,centerY:W,radius:Q}),o.save(),o.beginPath(),o.arc(be,W,Q,0,2*Math.PI),o.clip();const Se=Q*2*B,Ce=Q*2*B,oe=be+ne-Se/2,_e=W+X-Ce/2;o.drawImage($,oe,_e,Se,Ce,be-Q,W-Q,Q*2,Q*2),o.restore()}if(ge&&b.size>0){const ve=A.getContext("2d",{willReadFrequently:!0});if(ve){o.save(),o.globalCompositeOperation="overlay";for(const be of De)if(b.has(be.originalBlob)){const{centerX:W,centerY:Q,radius:Se}=be,Ce=Math.round(W+ne),oe=Math.round(Q+X),_e=ve.getImageData(Ce,oe,1,1).data,ue=.299*_e[0]+.587*_e[1]+.114*_e[2];o.strokeStyle=ue>128?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)";const ie=50,Ye=36/100*(Se*.05)+1;o.lineWidth=Math.max(1,Ye);const de=ie/100*Se*.5;o.beginPath(),o.moveTo(W-de,Q),o.lineTo(W+de,Q),o.moveTo(W,Q-de),o.lineTo(W,Q+de),o.stroke()}o.restore()}}if(P&&Te>0&&(M.length>0||w)){const ve=document.createElement("canvas");ve.width=v,ve.height=d;const be=ve.getContext("2d");if(be){const Q=1+le*18/100/100*7,Se=Math.ceil(v/Q),Ce=Math.ceil(d/Q),oe=document.createElement("canvas");oe.width=Se,oe.height=Ce;const _e=oe.getContext("2d");if(_e){const ue=_e.createImageData(Se,Ce),ie=ue.data,Ae=128+Nn/100*127;for(let de=0;de<ie.length;de+=4){const se=128+(Math.random()-.5)*Ae;ie[de]=ie[de+1]=ie[de+2]=se,ie[de+3]=255}if(_e.putImageData(ue,0,0),be.imageSmoothingEnabled=!1,be.drawImage(oe,0,0,Se,Ce,0,0,v,d),!w){const de=document.createElement("canvas");de.width=v,de.height=d;const se=de.getContext("2d");if(se){se.fillStyle="white",se.beginPath();for(const fe of M)se.moveTo(fe.centerX+fe.radius,fe.centerY),se.arc(fe.centerX,fe.centerY,fe.radius,0,2*Math.PI);se.fill(),be.globalCompositeOperation="destination-in",be.drawImage(de,0,0)}}o.save();const Ye=Te*35/100;o.globalAlpha=Ye/100,o.globalCompositeOperation="overlay",o.drawImage(ve,0,0),o.restore()}}}},rm=({theme:o,isMobile:j,footerLinks:v,triggerShareToast:d,handleShare:A,showSharePopup:$,setShowSharePopup:H,communityLink:ne,appUrl:X,shareVariant:_})=>{const{state:D,setState:F,undo:V,redo:ye,resetHistory:P,canUndo:Te,canRedo:le}=Ti(Ai),[Ge,ge]=g.useState(D),[w,xe]=g.useState(j?"phone":"desktop"),[T,ae]=g.useState(!1),[we,q]=g.useState(!1),[he,ze]=g.useState("presets"),[Oe,Ue]=g.useState(null),Be=g.useRef(null),Ne=g.useRef(null),je=g.useRef(null),b=g.useRef(null),[B,re]=g.useState(!1),[Le,c]=g.useState(!1),x=g.useMemo(()=>Ge[w],[Ge,w]),{imageSrc:K,image:k,isLoading:M,isDownloading:ee,handleFileSelect:me,handleDownload:Fe,clearImage:De}=Mi({featureName:"glass_dots",onFileSelectCallback:()=>{},triggerShareToast:d});g.useEffect(()=>{P(Ai),Ue(null)},[k,P]),g.useEffect(()=>{ge(D)},[D]);const ve=g.useCallback(()=>{L("glass_dots_reset_defaults",{wallpaper_type:w}),F(z=>{const Re={cropOffsetX:z[w].cropOffsetX,cropOffsetY:z[w].cropOffsetY};return{...z,[w]:{...Ai[w],...Re}}}),Ue(null)},[w,F]),be=g.useCallback((z,Re=w)=>{F(Ve=>{const E={cropOffsetX:Ve[Re].cropOffsetX,cropOffsetY:Ve[Re].cropOffsetY},I=Re==="phone"?z.phone:z.desktop,ke={...Ai[Re],...E,...I,isGrainEnabled:!0};return{...Ve,[Re]:ke}})},[w,F]),W=z=>{L("glass_dots_preset_apply",{preset:z.code,wallpaper_type:w}),Ue(z.id),be(z,w)},Q=z=>{ze(z),z==="controls"&&Ue(null)},Se=z=>{if(xe(z),Oe&&he==="presets"){const Re=ug.find(Ve=>Ve.id===Oe);Re&&be(Re,z)}};g.useEffect(()=>{const z=()=>{document.fullscreenElement||(ae(!1),re(!1))};return document.addEventListener("fullscreenchange",z),()=>document.removeEventListener("fullscreenchange",z)},[]);const Ce=()=>{var z;L("glass_dots_fullscreen_enter"),Tn.flushSync(()=>ae(!0)),(z=je.current)==null||z.requestFullscreen().catch(()=>ae(!1))},oe=g.useCallback(()=>{L("glass_dots_fullscreen_exit"),document.fullscreenElement?document.exitFullscreen():ae(!1)},[]),[_e,ue]=g.useMemo(()=>w==="desktop"?[im,sm]:[am,nm],[w]),[ie,Ae]=g.useMemo(()=>[_e,ue],[_e,ue]),Ye=g.useMemo(()=>k?Math.abs(k.width/k.height-_e/ue)>.01:!1,[k,_e,ue]);g.useEffect(()=>{if(!k)return;const z=T?Ne.current:Be.current;if(!z)return;const Re=z.getContext("2d");if(!Re)return;const{resolution:Ve,ior:E,cropOffsetX:I,cropOffsetY:ke,isMonochrome:Ie,blurAmount:et,isBackgroundBlurEnabled:$e}=x,ct=Math.floor(10+Ve/100*100),pt=ie/ct*(ct*1),Kt=1+E*.93/100*.4-1,il=pt/2*Kt,Ut=il,xl=il*(Ae/ie),el=ie+2*Ut,fl=Ae+2*xl,p=document.createElement("canvas");p.width=el,p.height=fl;const Z=p.getContext("2d",{willReadFrequently:!0});if(!Z)return;const te=k.width/k.height,Pe=el/fl;let Ze=0,dt=0,Nt=k.width,Tt=k.height;te>Pe?(Tt=k.height,Nt=Tt*Pe,Ze=(k.width-Nt)*I):(Nt=k.width,Tt=Nt/Pe,dt=(k.height-Tt)*ke),Z.drawImage(k,Ze,dt,Nt,Tt,0,0,el,fl);const Yt=document.createElement("canvas");Yt.width=el,Yt.height=fl;const sl=Yt.getContext("2d");if(!sl)return;const Ml=(12+et*.88)/100*Math.max(el,fl)*.02,Ct=[];Ml>0&&Ct.push(`blur(${Ml}px)`),Ie&&Ct.push("grayscale(100%)"),Ct.length>0&&(sl.filter=Ct.join(" ")),sl.drawImage(p,0,0);const Jt=document.createElement("canvas");Jt.width=ie,Jt.height=Ae;const Wt=Jt.getContext("2d");if(Wt){if($e){const tl=sl;Wt.drawImage(tl.canvas,Ut,xl,ie,Ae,0,0,ie,Ae)}else Ie&&(Wt.filter="grayscale(100%)"),Wt.drawImage(p,Ut,xl,ie,Ae,0,0,ie,Ae),Wt.filter="none";dg(Re,{canvasWidth:ie,canvasHeight:Ae,sourceBleedCanvas:p,blurBleedCanvas:Yt,finalBgCanvas:Jt,bleedX:Ut,bleedY:xl,settings:x})}},[k,T,ie,Ae,x]);const de=g.useCallback(async(z={})=>{const{highQuality:Re=!1}=z;if(!k)return null;const Ve=Re?_e:ie,E=Re?ue:Ae;return new Promise(I=>{const ke=document.createElement("canvas");ke.width=Ve,ke.height=E;const Ie=ke.getContext("2d");if(!Ie)return I(null);const et=D[w],{resolution:$e,ior:ct,cropOffsetX:wt,cropOffsetY:pt,isMonochrome:zt,blurAmount:Kt,isBackgroundBlurEnabled:il}=et,Ut=Math.floor(10+$e/100*100),el=Ve/Ut*(Ut*1),p=1+ct*.93/100*.4-1,Z=el/2*p,te=Z,Pe=Z*(E/Ve),Ze=Ve+2*te,dt=E+2*Pe,Nt=document.createElement("canvas");Nt.width=Ze,Nt.height=dt;const Tt=Nt.getContext("2d",{willReadFrequently:!0});if(!Tt)return I(null);const Yt=k.width/k.height,sl=Ze/dt;let ia=0,Ml=0,Ct=k.width,Jt=k.height;Yt>sl?(Jt=k.height,Ct=Jt*sl,ia=(k.width-Ct)*wt):(Ct=k.width,Jt=Ct/sl,Ml=(k.height-Jt)*pt),Tt.drawImage(k,ia,Ml,Ct,Jt,0,0,Ze,dt);const Wt=document.createElement("canvas");Wt.width=Ze,Wt.height=dt;const tl=Wt.getContext("2d");if(!tl)return I(null);const Mn=(12+Kt*.88)/100*Math.max(Ze,dt)*.02,Rl=[];Mn>0&&Rl.push(`blur(${Mn}px)`),zt&&Rl.push("grayscale(100%)"),Rl.length>0&&(tl.filter=Rl.join(" ")),tl.drawImage(Nt,0,0);const sa=document.createElement("canvas");sa.width=Ve,sa.height=E;const ql=sa.getContext("2d");if(!ql)return I(null);il?ql.drawImage(tl.canvas,te,Pe,Ve,E,0,0,Ve,E):(zt&&(ql.filter="grayscale(100%)"),ql.drawImage(Nt,te,Pe,Ve,E,0,0,Ve,E),ql.filter="none"),dg(Ie,{canvasWidth:Ve,canvasHeight:E,sourceBleedCanvas:Nt,blurBleedCanvas:Wt,finalBgCanvas:sa,bleedX:te,bleedY:Pe,settings:et}),ke.toBlob(Zs=>I(Zs),"image/png")})},[k,_e,ue,ie,Ae,D,w]),se=()=>{const z={feature:"glass_dots",wallpaper_type:w,...x},Re=()=>d(T?()=>q(!0):void 0),Ve=`matrices-glassdots-${w}`;Fe(()=>de({highQuality:!0}),Ve,z,Re)},fe=z=>me(z,"click"),gt=()=>{var z;return(z=b.current)==null?void 0:z.click()},G=z=>{var Re;(Re=z.target.files)!=null&&Re[0]&&fe(z.target.files[0]),z.target&&(z.target.value="")},J=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),pe=g.useCallback(z=>{if(!Ye)return;z.preventDefault(),Object.assign(J.current,{isDragging:!0,hasMoved:!1,initialOffsetX:x.cropOffsetX,initialOffsetY:x.cropOffsetY});const Re="touches"in z?z.touches[0]:z;J.current.startX=Re.clientX,J.current.startY=Re.clientY,document.body.style.cursor="grabbing"},[Ye,x]),We=g.useCallback(z=>{if(!J.current.isDragging||!k)return;J.current.hasMoved=!0;const Re="touches"in z?z.touches[0]:z,Ve=Re.clientX-J.current.startX,E=Re.clientY-J.current.startY,I=T?Ne.current:Be.current;if(!I)return;const ke=I.getBoundingClientRect();if(ke.width<=0||ke.height<=0)return;const Ie=k.width/k.height,et=_e/ue;let $e,ct;Ie>et?(ct=k.height,$e=ct*et):($e=k.width,ct=$e/et);const wt=k.width-$e,pt=k.height-ct;let zt=J.current.initialOffsetX;if(wt>0){const Ut=Ve/ke.width;zt-=Ut*$e/wt}let Kt=J.current.initialOffsetY;if(pt>0){const Ut=E/ke.height;Kt-=Ut*ct/pt}const il={cropOffsetX:Math.max(0,Math.min(1,zt)),cropOffsetY:Math.max(0,Math.min(1,Kt))};ge(Ut=>({...Ut,[w]:{...Ut[w],...il}}))},[k,_e,ue,w,T]),qe=g.useCallback(()=>{if(J.current.isDragging){J.current.isDragging=!1,J.current.hasMoved&&L("glass_dots_crop",{wallpaper_type:w});const{cropOffsetX:z,cropOffsetY:Re}=x;F(Ve=>({...Ve,[w]:{...Ve[w],cropOffsetX:z,cropOffsetY:Re}})),document.body.style.cursor="default"}},[x,w,F]);g.useEffect(()=>{const z=Ve=>We(Ve),Re=()=>qe();return document.addEventListener("mousemove",z),document.addEventListener("mouseup",Re),document.addEventListener("touchmove",z),document.addEventListener("touchend",Re),document.addEventListener("touchcancel",Re),()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",Re),document.removeEventListener("touchmove",z),document.removeEventListener("touchend",Re)}},[We,qe]);const Me=(z,Re)=>{ge(Ve=>({...Ve,[w]:{...Ve[w],[z]:Re}}))},Xe=g.useCallback((z,Re)=>{F(Ve=>({...Ve,[w]:{...Ve[w],[z]:Re}})),L("glass_dots_slider_change",{slider_name:z,value:Re,wallpaper_type:w})},[F,w]),xt=[{key:"phone",label:"Phone"},{key:"desktop",label:"Desktop"}],ut=[{key:"presets",label:"Presets"},{key:"controls",label:"Full Control"}],nt=()=>s.jsx("div",{className:`p-4 rounded-lg ${o==="dark"?"bg-black/40":"bg-white/60"}`,children:s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[ug.map(z=>s.jsxs("button",{onClick:()=>W(z),className:`aspect-[4/3] flex flex-col items-center justify-center rounded-md border transition-colors duration-200 ${Oe===z.id?o==="dark"?"bg-white border-white text-nothing-dark":"bg-black border-black text-white":o==="dark"?"bg-gray-800 border-gray-700 hover:bg-gray-700 text-nothing-light":"bg-gray-100 border-gray-300 hover:bg-gray-200 text-day-text"}`,children:[s.jsx("span",{className:"text-2xl sm:text-3xl font-ndot mb-1",children:z.id}),s.jsx("span",{className:"text-xs font-bold tracking-wider",children:z.code})]},z.id)),s.jsx("div",{className:`aspect-[4/3] flex flex-col items-center justify-center rounded-md border opacity-50 cursor-not-allowed ${o==="dark"?"bg-gray-900 border-gray-800 text-nothing-light":"bg-gray-50 border-gray-200 text-day-text"}`,children:s.jsx("span",{className:"text-2xl sm:text-3xl font-ndot mb-1",children:"9"})}),s.jsx("div",{}),s.jsx("div",{className:`aspect-[4/3] flex flex-col items-center justify-center rounded-md border opacity-50 cursor-not-allowed ${o==="dark"?"bg-gray-900 border-gray-800 text-nothing-light":"bg-gray-50 border-gray-200 text-day-text"}`,children:s.jsx("span",{className:"text-2xl sm:text-3xl font-ndot mb-1",children:"0"})}),s.jsx("div",{})]})}),rt=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(vt,{theme:o,isMobile:j,label:"Resolution",value:x.resolution,onChange:z=>Me("resolution",z),onChangeCommitted:z=>Xe("resolution",z),onReset:()=>Xe("resolution",Nn),disabled:M}),s.jsx(vt,{theme:o,isMobile:j,label:"Pixel Gap",value:x.pixelGap,onChange:z=>Me("pixelGap",z),onChangeCommitted:z=>Xe("pixelGap",z),onReset:()=>Xe("pixelGap",50),disabled:M}),s.jsx(vt,{theme:o,isMobile:j,label:"Lower Limit",value:x.lowerLimit,onChange:z=>Me("lowerLimit",z),onChangeCommitted:z=>Xe("lowerLimit",z),onReset:()=>Xe("lowerLimit",0),disabled:M}),s.jsx(vt,{theme:o,isMobile:j,label:"Size Variance",value:x.similaritySensitivity,onChange:z=>Me("similaritySensitivity",z),onChangeCommitted:z=>Xe("similaritySensitivity",z),onReset:()=>Xe("similaritySensitivity",50),disabled:M})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(vt,{theme:o,isMobile:j,label:"Glass Blur Amount",value:x.blurAmount,onChange:z=>Me("blurAmount",z),onChangeCommitted:z=>Xe("blurAmount",z),onReset:()=>Xe("blurAmount",50),disabled:M}),s.jsx(vt,{theme:o,isMobile:j,label:"Index of Refraction",value:x.ior,onChange:z=>Me("ior",z),onChangeCommitted:z=>Xe("ior",z),onReset:()=>Xe("ior",50),disabled:M})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`grain-toggle-${T}`,className:"text-sm",children:"Grain"}),s.jsx("button",{id:`grain-toggle-${T}`,role:"switch","aria-checked":x.isGrainEnabled,onClick:()=>Xe("isGrainEnabled",!x.isGrainEnabled),disabled:M,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${x.isGrainEnabled?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${x.isGrainEnabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${x.isGrainEnabled?"max-h-96 opacity-100 pt-4 space-y-4":"max-h-0 opacity-0"}`,children:[s.jsx(vt,{theme:o,isMobile:j,label:"Grain Size",value:x.grainSize,onChange:z=>Me("grainSize",z),onChangeCommitted:z=>Xe("grainSize",z),onReset:()=>Xe("grainSize",0),disabled:M}),s.jsx(vt,{theme:o,isMobile:j,label:"Grain Amount",value:x.grainAmount,onChange:z=>Me("grainAmount",z),onChangeCommitted:z=>Xe("grainAmount",z),onReset:()=>Xe("grainAmount",Nn),disabled:M})]})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`marker-toggle-${T}`,className:"text-sm",children:"Markers"}),s.jsx("button",{id:`marker-toggle-${T}`,role:"switch","aria-checked":x.isMarkerEnabled,onClick:()=>Xe("isMarkerEnabled",!x.isMarkerEnabled),disabled:M,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${x.isMarkerEnabled?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${x.isMarkerEnabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`bg-blur-toggle-${T}`,className:"text-sm",children:"Background Blur"}),s.jsx("button",{id:`bg-blur-toggle-${T}`,role:"switch","aria-checked":x.isBackgroundBlurEnabled,onClick:()=>Xe("isBackgroundBlurEnabled",!x.isBackgroundBlurEnabled),disabled:M,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${x.isBackgroundBlurEnabled?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${x.isBackgroundBlurEnabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${o==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`mono-toggle-${T}`,className:"text-sm",children:"Monochrome"}),s.jsx("button",{id:`mono-toggle-${T}`,role:"switch","aria-checked":x.isMonochrome,onClick:()=>Xe("isMonochrome",!x.isMonochrome),disabled:M,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${o==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${x.isMonochrome?"bg-nothing-red":o==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${x.isMonochrome?"translate-x-6":"translate-x-1"}`})})]})]})]}),R=({isFullScreen:z=!1})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${o==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(dl,{options:xt,selected:w,onSelect:Re=>Se(Re),theme:o}),s.jsx(dl,{options:ut,selected:he,onSelect:Re=>Q(Re),theme:o})]}),s.jsx(Qa,{onUndo:()=>{V(),L("glass_dots_undo")},onRedo:()=>{ye(),L("glass_dots_redo")},canUndo:Te,canRedo:le,theme:o}),he==="controls"&&s.jsxs("div",{className:`rounded-lg text-sm overflow-hidden transition-all duration-300 ${o==="dark"?"bg-black/40 text-nothing-gray-light":"bg-white/60 text-day-gray-dark"}`,children:[s.jsxs("button",{onClick:()=>c(!Le),className:"w-full p-4 flex items-center justify-between focus:outline-none",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:`w-4 h-4 transition-transform duration-300 ${Le?"rotate-180":""}`,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]}),s.jsx("div",{className:`px-4 pb-4 transition-all duration-300 ${Le?"max-h-40 opacity-100":"max-h-0 opacity-0 pb-0"}`,children:"Due to the feature's performance-intensive nature, there can be some unexpected hiccups in the Full Control mode. The sliders won't slide, so tap on the sliders instead of sliding."})]}),he==="presets"?s.jsx(nt,{}):s.jsx(rt,{})]}),ce=K?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsx(R,{}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:De,disabled:M,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:ve,disabled:M,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:v})})]}):null;return{previewPanel:K?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:b,onChange:G,className:"hidden",accept:"image/*"}),s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[s.jsx("canvas",{ref:Be,width:ie,height:Ae,className:`border-2 rounded-lg ${o==="dark"?"border-nothing-gray-dark":"border-gray-300"} ${w==="phone"?j?"w-4/5 h-auto":"max-h-full w-auto":"max-w-full max-h-full"}`,"aria-label":"Glass Dots Canvas",onMouseDown:pe,onTouchStart:pe,style:{cursor:Ye?"grab":"default",touchAction:Ye?"none":"auto"}}),s.jsxs("div",{className:"absolute bottom-3 right-3 z-10 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>A(),className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:Ce,className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Enter full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]}),T&&Tn.createPortal(s.jsxs("div",{ref:je,className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onClick:z=>{z.target===z.currentTarget&&!J.current.hasMoved&&(B?re(!1):oe())},children:[s.jsx("canvas",{ref:Ne,width:ie,height:Ae,className:"max-w-full max-h-full","aria-label":"Full-screen Canvas Preview",onMouseDown:pe,onTouchStart:pe,style:{cursor:Ye?"grab":"default",touchAction:Ye?"none":"auto"}}),Ye&&s.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-2 py-1 rounded-md text-sm ${o==="dark"?"bg-nothing-dark/90 text-nothing-light":"bg-day-gray-light/90 text-day-text"} backdrop-blur-sm pointer-events-none`,children:" Drag to Crop"}),!j&&s.jsxs("div",{className:"fixed bottom-4 left-4 z-[51] w-80 flex flex-col items-start space-y-2",children:[B?s.jsxs("div",{className:`w-full ${o==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-4 max-h-[calc(100vh-10rem)] flex flex-col space-y-4 shadow-2xl`,children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h3",{className:`font-bold text-lg ${o==="dark"?"text-white":"text-day-text"}`,children:"Controls"}),s.jsx("button",{onClick:()=>re(!1),className:`p-2 ${o==="dark"?"text-white hover:bg-white/20":"text-day-text hover:bg-black/10"} rounded-full transition-colors`,"aria-label":"Collapse controls",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]}),s.jsxs("div",{className:"overflow-y-auto space-y-4 pr-2 -mr-2",children:[s.jsx(R,{isFullScreen:!0}),s.jsx("div",{children:s.jsx("button",{onClick:ve,disabled:M,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset controls to their default values",children:"Reset Controls"})})]})]}):s.jsxs("button",{onClick:()=>re(!0),className:`w-full ${o==="dark"?"bg-nothing-dark/80 text-white hover:bg-nothing-dark":"bg-day-bg/90 text-day-text hover:bg-day-gray-light border border-gray-300/50"} backdrop-blur-sm font-semibold py-3 px-4 rounded-lg flex items-center justify-between shadow-lg transition-colors`,"aria-label":"Expand controls",children:[s.jsx("span",{children:"Controls"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})})]}),s.jsxs("div",{className:`w-full ${o==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-2 flex flex-col items-stretch space-y-2 shadow-lg`,children:[s.jsx("button",{onClick:gt,disabled:M,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Replace image",children:"Replace Image"}),s.jsx("button",{onClick:se,disabled:M||ee,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${o==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download image",children:ee?"Generating...":"Download"})]})]}),s.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>A(),className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:oe,className:`p-2 rounded-md transition-colors duration-300 ${o==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Exit full-screen",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})})})]}),s.jsx($a,{show:we,onClose:()=>q(!1),onShare:()=>{},theme:o,isMobile:!1,imageRendered:!!K,className:"z-[60] !bottom-24"}),s.jsx(Qs,{show:$,onClose:()=>H(!1),theme:o,communityLink:ne,appUrl:X,variant:_})]}),document.body)]}):s.jsx(Xl,{onFileSelect:me,isLoading:M,theme:o,context:"glassDots",isMobile:j}),controlsPanel:ce,imageSrc:K,isLoading:M,handleFileSelect:me,downloadButton:s.jsx("button",{onClick:se,disabled:M||ee,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${o==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download image",children:ee?"Generating...":"Download"}),replaceButton:s.jsx(Xl,{onFileSelect:me,isLoading:M,compact:!0,theme:o,isMobile:j}),glassDotsWallpaperType:w,getCanvasBlob:de,undo:V,redo:ye,canUndo:Te,canRedo:le}},Ni=["valueAliasing","pfp","glassDots","wallpaper","photoWidget"],fg={wallpaper:"Matrix Wallpaper",pfp:"Glyph Mirror",photoWidget:"Photo Widget",valueAliasing:"Value Aliasing",glassDots:"Glass Dots"},gg={wallpaper:"MW",pfp:"GM",photoWidget:"PW",valueAliasing:"VA",glassDots:"GD"},ru="https://nothing.community/d/38047-introducing-matrices-a-handy-utility-to-create-matrix-styled-imagery",Cn="https://udaign.github.io/matrices/",om=()=>{const[o,j]=g.useState(window.innerWidth<768),[v,d]=g.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),[A,$]=g.useState("valueAliasing"),[H,ne]=g.useState(0),[X,_]=g.useState(!1),[D,F]=g.useState(!1),[V,ye]=g.useState(""),[P,Te]=g.useState(!1),[le,Ge]=g.useState(!1),[ge,w]=g.useState(!1),[xe,T]=g.useState(!1),[ae,we]=g.useState("default"),[q,he]=g.useState(null),ze=Ni.indexOf(A),Oe=g.useRef(null),Ue=g.useRef(!1),Be=g.useRef(!1),[Ne,je]=g.useState(!1),[b,B]=g.useState(null),[re,Le]=g.useState(!1),[c,x]=g.useState(!1),[K,k]=g.useState(!1),[M,ee]=g.useState(!1),me=g.useRef(null),Fe=g.useRef(null),De=g.useRef(null),ve=g.useRef(null),be=g.useRef(null),W=v==="dark"?"font-medium text-nothing-light hover:text-white underline":"font-medium text-day-text hover:text-black underline",Q=Ni.length,Se=2/Q*100,Ce=(Q-2)/Q/(Q-1)*100,oe=g.useMemo(()=>ze*Ce,[ze,Ce]);g.useEffect(()=>{const E=I=>{I.preventDefault(),he(I),L("pwa_install_available")};return window.addEventListener("beforeinstallprompt",E),()=>{window.removeEventListener("beforeinstallprompt",E)}},[]),g.useEffect(()=>{const E=I=>{const ke=Be.current?"app_button":"browser_ui";L("pwa_install_success",{source:ke}),he(null),Be.current=!1};return window.addEventListener("appinstalled",E),()=>{window.removeEventListener("appinstalled",E)}},[]);const _e=()=>{q&&(L("pwa_install_prompt_click"),Be.current=!0,q.prompt(),q.userChoice.then(E=>{E.outcome==="accepted"?L("pwa_install_accepted"):(L("pwa_install_dismissed"),Be.current=!1),he(null)}))},ue=E=>{E.preventDefault(),$("valueAliasing"),qe.activateEasterEgg(),Te(!1),L("easter_egg_unlocked")},ie=async(E="default")=>{L("share_initiated",{variant:E,source:ut?"with_image":"no_image"});const I=ut&&xt.getCanvasBlob?await xt.getCanvasBlob():null;if(navigator.share&&I)try{const ke=new File([I],"matrices-creation.png",{type:"image/png"}),Ie=E==="special"?"Have you unlocked the secret theme in Matrices Value Aliasing yet?  On desktop, type 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/":`Created with Matrices. Link: ${Cn}`,et={files:[ke],title:"Matrices for Nothing Community",text:Ie,url:Cn};if(navigator.canShare&&navigator.canShare(et)){await navigator.share(et),L("share_success_webshare_api",{method:"image",variant:E});return}}catch(ke){console.warn("Web Share API with image failed, falling back.",ke),L("share_error_webshare_api",{method:"image",error:ke.message,variant:E})}if(navigator.share)try{const ke=E==="special"?"Have you unlocked the secret theme in Matrices Value Aliasing yet?  On desktop, type 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/":`Create your own Nothing style dot-matrix imagery with Matrices: ${Cn}`;await navigator.share({title:"Matrices for Nothing Community",text:ke,url:Cn}),L("share_success_webshare_api",{method:"text",variant:E});return}catch(ke){console.warn("Web Share API text-only failed, falling back to popup.",ke),L("share_error_webshare_api",{method:"text",error:ke.message,variant:E})}we(E),T(!0),L("share_popup_opened",{variant:E})},Ae=g.useCallback((E,I=!1)=>{if(I&&M&&!c){k(!0),x(!0),H+1===2&&!D&&F(!0);return}if(D)return;const ke=H+1;ne(ke),ke===2&&(E?E():_(!0),F(!0))},[H,D,M,c]),Ye=g.useCallback(()=>{try{localStorage.setItem("easterEggUnlocked","true"),Ge(!0)}catch(E){console.error("Failed to save easter egg state to localStorage:",E)}},[]);g.useEffect(()=>{try{localStorage.getItem("easterEggUnlocked")==="true"&&Ge(!0)}catch(E){console.error("Failed to read easter egg state from localStorage:",E)}},[]);const de=g.useCallback(E=>{Ue.current=!1,o&&!le&&!P&&A==="valueAliasing"&&E&&(Oe.current=window.setTimeout(()=>{Te(!0),L("easter_egg_primed",{method:"long_press"}),Ue.current=!0},4800))},[o,le,P,A]),se=g.useCallback(()=>{Oe.current&&(clearTimeout(Oe.current),Oe.current=null)},[]),fe=s.jsxs("div",{className:`text-sm ${v==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} opacity-80 space-y-1`,children:[s.jsxs("p",{children:[s.jsx("a",{href:"https://nothing.community/d/38047-introducing-matrices-a-handy-utility-to-create-matrix-styled-imagery",target:"_blank",rel:"noopener noreferrer",className:W,onClick:()=>L("discussion_visit"),children:ge&&!o?"Feeling Nothing":"Feedback"}),s.jsx("span",{className:"mx-2",children:"|"}),s.jsx("a",{href:"mailto:udaybhaskar2283@gmail.com",className:W,onClick:()=>L("email_click"),children:"Email"}),s.jsx("span",{className:"mx-2",children:"|"}),s.jsx("button",{onClick:()=>{L("support_modal_opened"),je(!0)},className:W,children:"Support "}),s.jsx("span",{className:"mx-2",children:"|"}),s.jsx("a",{href:"https://nothing.community/u/Udaign",target:"_blank",rel:"noopener noreferrer",className:W,onClick:()=>L("community_profile_visit"),children:" Uday"})]}),s.jsxs("p",{children:["Made with love for ",s.jsx("span",{className:"font-ndot",children:"NOTHING COMMUNITY"}),"."]})]}),gt={theme:v,isMobile:o,footerLinks:fe,triggerShareToast:Ae,handleShare:ie,showSharePopup:xe,setShowSharePopup:T,communityLink:ru,appUrl:Cn,shareVariant:ae},G=H0(gt),J=Q0(gt),pe=Z0(gt),We=rm(gt),qe=lm({...gt,easterEggPrimed:P,setEasterEggPrimed:Te,isEasterEggPermanentlyUnlocked:le,markEasterEggAsUnlocked:Ye,setJustUnlockedSpecialTheme:ee}),Me={pfp:G,wallpaper:J,photoWidget:pe,valueAliasing:qe,glassDots:We},Xe=E=>{if(!b)return;const I=b;$(E),setTimeout(()=>{const ke=Me[E];ke&&ke.handleFileSelect&&ke.handleFileSelect(I,"share_target")},100),Le(!1),B(null)},xt=Me[A],ut=xt.imageSrc;g.useEffect(()=>{const E=I=>{const ke=I.target;if(["INPUT","TEXTAREA","SELECT"].includes(ke.tagName)||ke.isContentEditable)return;const Ie=I.ctrlKey&&!I.shiftKey&&I.key.toLowerCase()==="z",et=I.ctrlKey&&I.key.toLowerCase()==="y"||I.ctrlKey&&I.shiftKey&&I.key.toLowerCase()==="z";if(Ie||et){const $e=Me[A];if(!$e.imageSrc)return;I.preventDefault(),Ie&&$e.canUndo?($e.undo(),L(`${A}_undo`,{method:"keyboard_shortcut"})):et&&$e.canRedo&&($e.redo(),L(`${A}_redo`,{method:"keyboard_shortcut"}))}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[A,Me]),g.useEffect(()=>{const E=I=>{var et;const ke=(et=I.clipboardData)==null?void 0:et.items;if(!ke)return;const Ie=I.target;if(!(["INPUT","TEXTAREA","SELECT"].includes(Ie.tagName)||Ie.isContentEditable)){for(const $e of Array.from(ke))if($e.type.startsWith("image/")){const ct=$e.getAsFile();if(ct){switch(I.preventDefault(),L("paste_image",{feature:A}),A){case"pfp":Me.pfp.handleFileSelect(ct,"paste");break;case"wallpaper":Me.wallpaper.handleFileSelect(ct,"paste");break;case"photoWidget":Me.photoWidget.handleFileSelect(ct,"paste");break;case"valueAliasing":Me.valueAliasing.handleFileSelect(ct,"paste");break;case"glassDots":Me.glassDots.handleFileSelect(ct,"paste");break}break}}}};return window.addEventListener("paste",E),()=>{window.removeEventListener("paste",E)}},[A,Me]),g.useEffect(()=>{const E=I=>{if(I.data&&I.data.type==="shared-image"&&I.data.file){const ke=I.data.file;L("share_target_received"),B(ke),Le(!0)}};return"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",E),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",E)}},[]),g.useEffect(()=>{const E=!P&&!qe.isEasterEggActive&&!le&&A==="valueAliasing"&&!!qe.imageSrc;E!==ge&&w(E)},[P,qe.isEasterEggActive,le,A,qe.imageSrc,ge]),g.useEffect(()=>{if(P||qe.isEasterEggActive||le)return;const E="feelingnothing",I=ke=>{if(A!=="valueAliasing"||!qe.imageSrc){V&&ye("");return}if(ke.key.length>1||ke.metaKey||ke.ctrlKey||ke.altKey){V&&ye("");return}const Ie=V+ke.key.toLowerCase();if(E.startsWith(Ie))ye(Ie),Ie===E&&(Te(!0),L("easter_egg_primed",{method:"keyboard"}),ye(""));else{const et=ke.key.toLowerCase();ye(E.startsWith(et)?et:"")}};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[V,P,A,qe.isEasterEggActive,qe.imageSrc,le]);const nt=E=>{G.handleFileSelect(E,"click"),me.current&&(me.current.value="")},rt=E=>{J.handleFileSelect(E,"click"),Fe.current&&(Fe.current.value="")},R=E=>{pe.handleFileSelect(E,"click"),De.current&&(De.current.value="")},ce=E=>{qe.handleFileSelect(E,"click"),ve.current&&(ve.current.value="")},mt=E=>{We.handleFileSelect(E,"click"),be.current&&(be.current.value="")};g.useEffect(()=>{const E=()=>{j(window.innerWidth<768)};return window.addEventListener("resize",E),E(),()=>window.removeEventListener("resize",E)},[]),g.useEffect(()=>{const E=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";L("initial_theme_detected",{theme:E});const I=window.matchMedia("(prefers-color-scheme: dark)"),ke=Ie=>d(Ie.matches?"dark":"light");return I.addEventListener("change",ke),()=>I.removeEventListener("change",ke)},[]),g.useEffect(()=>{document.body.className=v==="light"?"bg-day-bg":"bg-nothing-dark"},[v]);const Dt=()=>{if(Ue.current){Ue.current=!1;return}const E=v==="dark"?"light":"dark";L("theme_change",{theme:E}),d(E)},Vt=E=>{L("select_tab",{tab_name:E}),$(E)},z={valueAliasing:s.jsxs(s.Fragment,{children:["Create value-aliased imagery. ",s.jsx("strong",{className:`font-bold ${v==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),pfp:s.jsxs(s.Fragment,{children:["Create glyph mirror styled profile pictures. ",s.jsx("strong",{className:`font-bold ${v==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),glassDots:s.jsxs(s.Fragment,{children:["Create imagery with a glossy, glass-like dot effect. ",s.jsx("strong",{className:`font-bold ${v==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),wallpaper:s.jsxs(s.Fragment,{children:["Create matrix styled wallpapers. ",s.jsx("strong",{className:`font-bold ${v==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),photoWidget:"Create matrix styled photo widgets."},Re=g.useMemo(()=>A==="wallpaper"&&Me.wallpaper.imageSrc&&Me.wallpaper.wallpaperType==="phone"||A==="valueAliasing"&&Me.valueAliasing.imageSrc&&Me.valueAliasing.valueAliasingType==="phone"?o?"py-8 px-6":"p-6":"p-4 sm:p-6",[A,Me.wallpaper,Me.valueAliasing,o]),Ve=`flex items-center p-2 md:px-3 transition-colors duration-300 rounded-md text-sm font-semibold ${v==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`;return s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:me,onChange:E=>{var I;return((I=E.target.files)==null?void 0:I[0])&&nt(E.target.files[0])},className:"hidden",accept:"image/*",title:"Upload profile picture"}),s.jsx("input",{type:"file",ref:Fe,onChange:E=>{var I;return((I=E.target.files)==null?void 0:I[0])&&rt(E.target.files[0])},className:"hidden",accept:"image/*",title:"Upload wallpaper image"}),s.jsx("input",{type:"file",ref:De,onChange:E=>{var I;return((I=E.target.files)==null?void 0:I[0])&&R(E.target.files[0])},className:"hidden",accept:"image/png",title:"Upload photo widget image"}),s.jsx("input",{type:"file",ref:ve,onChange:E=>{var I;return((I=E.target.files)==null?void 0:I[0])&&ce(E.target.files[0])},className:"hidden",accept:"image/*",title:"Upload value aliasing image"}),s.jsx("input",{type:"file",ref:be,onChange:E=>{var I;return((I=E.target.files)==null?void 0:I[0])&&mt(E.target.files[0])},className:"hidden",accept:"image/*",title:"Upload glass dots image"}),s.jsxs("div",{className:`min-h-[100dvh] md:h-screen w-full flex flex-col font-sans ${v==="dark"?"text-nothing-light bg-nothing-dark":"text-day-text bg-day-bg"} select-none`,children:[s.jsxs("header",{className:`flex-shrink-0 sticky top-0 z-30 flex justify-between items-center p-4 border-b ${v==="dark"?"bg-nothing-dark border-nothing-gray-dark":"bg-day-bg border-gray-300"}`,children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-normal page-title",children:"MATRICES"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[o&&q&&s.jsxs("button",{onClick:_e,className:Ve,"aria-label":"Install app",children:[s.jsx("span",{children:"App"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 ml-2",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"7 10 12 15 17 10"}),s.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})]}),P?s.jsxs("button",{onClick:ue,className:`${Ve} easter-egg-glow`,"aria-label":"Unlock Secret Theme",children:[s.jsx("span",{className:"hidden md:inline",children:"Unlock Secret"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 md:ml-2",children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})]}):s.jsxs("button",{onClick:()=>{L("community_thread_header_click"),window.open(ru,"_blank","noopener,noreferrer")},className:Ve,"aria-label":"Visit Community Thread",children:[s.jsx("span",{className:"hidden md:inline",children:"Join Discussion"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 md:ml-2",children:[s.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),s.jsx("polyline",{points:"15 3 21 3 21 9"}),s.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}),s.jsx("button",{onClick:Dt,onMouseDown:()=>de(Me.valueAliasing.imageSrc),onMouseUp:se,onMouseLeave:se,onTouchStart:()=>de(Me.valueAliasing.imageSrc),onTouchEnd:se,className:`p-2 transition-colors duration-300 rounded-md ${v==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":`Switch to ${v==="dark"?"light":"dark"} mode`,children:v==="dark"?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-sun h-6 w-6",children:[s.jsx("circle",{cx:"12",cy:"12",r:"5"}),s.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),s.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),s.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),s.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),s.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),s.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),s.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),s.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-moon h-6 w-6",children:s.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]})]}),s.jsx("div",{className:"block md:hidden pt-4 sm:pt-6",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:`relative flex w-full border-b ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,style:{"--active-tab-width":`${Se}%`,"--inactive-tab-width":`${Ce}%`,"--underline-left":`${oe}%`},children:[Ni.map(E=>{const I=A===E;return s.jsx("button",{onClick:()=>Vt(E),className:`
                      text-center py-3 text-base transition-[width,color,font-weight] duration-500 ease-in-out focus:outline-none focus:ring-0
                      tab
                      ${I?`active ${v==="dark"?"text-nothing-light font-bold":"text-day-text font-bold"}`:v==="dark"?"text-nothing-gray-light hover:text-nothing-light font-normal":"text-day-gray-dark hover:text-day-text font-normal"}
                    `,"aria-pressed":I?"true":"false",children:s.jsx("span",{className:`truncate px-2 ${I?"":"page-title text-xl"}`,children:I?fg[E]:gg[E]})},E)}),s.jsx("div",{className:`absolute bottom-[-1px] h-1 ${v==="dark"?"bg-white":"bg-black"} underline-bar`,"aria-hidden":"true"})]}),s.jsx("p",{className:`text-center w-full text-sm leading-normal transition-opacity duration-300 px-4 sm:px-6 ${v==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:z[A]}),s.jsx("hr",{className:`mt-4 ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`})]})}),s.jsxs("main",{className:"flex-grow w-full flex flex-col md:flex-row min-h-0 md:pt-0 md:overflow-hidden",children:[s.jsx("div",{className:`md:w-2/3 w-full flex flex-col ${ut?"":"flex-grow md:flex-grow-0"} border-b md:border-b-0 md:border-r ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"} md:overflow-y-auto`,children:s.jsx("div",{className:`flex-grow ${Re} ${ut?"min-h-0":"min-h-[50vh] md:min-h-0"} flex flex-col items-center justify-center`,children:Object.entries(Me).map(([E,I])=>s.jsx("div",{className:`w-full h-full flex-grow flex flex-col items-center justify-center ${A===E?"flex":"hidden"}`,children:I.previewPanel},E))})}),s.jsxs("div",{className:"md:w-1/3 w-full flex flex-col",children:[s.jsx("div",{className:"hidden md:block flex-shrink-0 py-4 sm:py-6 md:py-8 md:pb-4",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"relative flex border-b dark:border-nothing-gray-dark border-gray-300",style:{"--active-tab-width":`${Se}%`,"--inactive-tab-width":`${Ce}%`,"--underline-left":`${oe}%`},children:[Ni.map(E=>{const I=A===E;return s.jsx("button",{onClick:()=>Vt(E),className:`
                          text-center py-3 text-base transition-[width,color,font-weight] duration-500 ease-in-out focus:outline-none focus:ring-0
                          tab
                          ${I?`active ${v==="dark"?"text-nothing-light font-bold":"text-day-text font-bold"}`:v==="dark"?"text-nothing-gray-light hover:text-nothing-light font-normal":"text-day-gray-dark hover:text-day-text font-normal"}
                        `,"aria-pressed":I?"true":"false",children:s.jsx("span",{className:`truncate px-2 ${I?"":"page-title text-xl"}`,children:I?fg[E]:gg[E]})},E)}),s.jsx("div",{className:`absolute bottom-[-1px] h-1 ${v==="dark"?"bg-white":"bg-black"} underline-bar`,"aria-hidden":"true"})]}),s.jsx("p",{className:`text-center w-full text-sm leading-normal transition-opacity duration-300 ${v==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:z[A]}),s.jsx("hr",{className:`mt-2 ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`})]})}),s.jsxs("div",{className:"flex-grow md:overflow-y-auto md:relative md:overflow-hidden",children:[s.jsx("div",{className:"hidden md:flex md:absolute md:top-0 md:left-0 md:w-full md:h-full transition-transform duration-300 ease-in-out controls-panel-container",style:{"--panel-translate-x":`-${ze*100}%`},children:Ni.map(E=>s.jsx("div",{className:"w-full flex-shrink-0 h-full overflow-y-auto",children:Me[E].controlsPanel},E))}),s.jsx("div",{className:"block md:hidden",children:xt.controlsPanel}),!o&&s.jsxs(s.Fragment,{children:[s.jsx($a,{show:X,onClose:()=>_(!1),onShare:ie,theme:v,isMobile:o,imageRendered:!!ut}),s.jsx($a,{show:K,onClose:()=>k(!1),onShare:()=>ie("special"),theme:v,isMobile:o,imageRendered:!!ut,variant:"special"})]})]})]})]}),ut&&s.jsxs("div",{className:`flex-shrink-0 hidden md:flex flex-col md:flex-row border-t ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:[s.jsx("div",{className:`md:w-2/3 w-full p-4 border-b md:border-b-0 md:border-r ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:xt.replaceButton}),s.jsx("div",{className:"md:w-1/3 w-full flex",children:xt.downloadButton})]}),s.jsx("footer",{className:`hidden md:block flex-shrink-0 text-center p-4 border-t ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"} tracking-wide`,children:fe}),s.jsx("div",{className:`block md:hidden ${ut?"sticky bottom-0":""} z-20 w-full ${v==="dark"?"bg-nothing-dark":"bg-day-bg"}`,children:ut?s.jsxs("div",{className:`flex border-t ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:[s.jsx("div",{className:`w-1/2 border-r ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:s.jsx("button",{onClick:()=>{var E,I,ke,Ie,et;A==="pfp"&&((E=me.current)==null||E.click()),A==="wallpaper"&&((I=Fe.current)==null||I.click()),A==="photoWidget"&&((ke=De.current)==null||ke.click()),A==="valueAliasing"&&((Ie=ve.current)==null||Ie.click()),A==="glassDots"&&((et=be.current)==null||et.click())},disabled:xt.isLoading,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${v==="dark"?"bg-nothing-dark text-nothing-light hover:bg-nothing-gray-dark":"bg-day-bg text-day-text hover:bg-day-gray-light"}`,children:"Replace Image"})}),s.jsx("div",{className:"w-1/2",children:xt.downloadButton})]}):s.jsx("footer",{className:`text-center tracking-wide p-4 border-t ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:fe})}),o&&s.jsxs(s.Fragment,{children:[s.jsx($a,{show:X,onClose:()=>_(!1),onShare:ie,theme:v,isMobile:o,imageRendered:!!ut}),s.jsx($a,{show:K,onClose:()=>k(!1),onShare:()=>ie("special"),theme:v,isMobile:o,imageRendered:!!ut,variant:"special"})]}),s.jsx(Qs,{show:xe,onClose:()=>T(!1),theme:v,communityLink:ru,appUrl:Cn,variant:ae}),s.jsx(U0,{show:Ne,onClose:()=>je(!1),theme:v}),s.jsx(B0,{show:re,onClose:()=>{Le(!1),B(null),L("share_target_dismissed")},onSelect:Xe,theme:v})]})]})},yg=document.getElementById("root");if(!yg)throw new Error("Could not find root element to mount to");const um=D0.createRoot(yg);um.render(s.jsx(C0.StrictMode,{children:s.jsx(om,{})}));
