(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))d(E);new MutationObserver(E=>{for(const Q of E)if(Q.type==="childList")for(const H of Q.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&d(H)}).observe(document,{childList:!0,subtree:!0});function y(E){const Q={};return E.integrity&&(Q.integrity=E.integrity),E.referrerPolicy&&(Q.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?Q.credentials="include":E.crossOrigin==="anonymous"?Q.credentials="omit":Q.credentials="same-origin",Q}function d(E){if(E.ep)return;E.ep=!0;const Q=y(E);fetch(E.href,Q)}})();function mg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var au={exports:{}},Oi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function k0(){if($f)return Oi;$f=1;var r=Symbol.for("react.transitional.element"),_=Symbol.for("react.fragment");function y(d,E,Q){var H=null;if(Q!==void 0&&(H=""+Q),E.key!==void 0&&(H=""+E.key),"key"in E){Q={};for(var oe in E)oe!=="key"&&(Q[oe]=E[oe])}else Q=E;return E=Q.ref,{$$typeof:r,type:d,key:H,ref:E!==void 0?E:null,props:Q}}return Oi.Fragment=_,Oi.jsx=y,Oi.jsxs=y,Oi}var Qf;function j0(){return Qf||(Qf=1,au.exports=k0()),au.exports}var s=j0(),nu={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf;function E0(){if(Zf)return Ie;Zf=1;var r=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),P=Symbol.iterator;function $(c){return c===null||typeof c!="object"?null:(c=P&&c[P]||c["@@iterator"],typeof c=="function"?c:null)}var me={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,Te={};function ne(c,M,W){this.props=c,this.context=M,this.refs=Te,this.updater=W||me}ne.prototype.isReactComponent={},ne.prototype.setState=function(c,M){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,M,"setState")},ne.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function Ye(){}Ye.prototype=ne.prototype;function he(c,M,W){this.props=c,this.context=M,this.refs=Te,this.updater=W||me}var v=he.prototype=new Ye;v.constructor=he,I(v,ne.prototype),v.isPureReactComponent=!0;var xe=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function we(c,M,W,R,T,le){return W=le.ref,{$$typeof:r,type:c,key:M,ref:W!==void 0?W:null,props:le}}function q(c,M){return we(c.type,M,void 0,void 0,void 0,c.props)}function ce(c){return typeof c=="object"&&c!==null&&c.$$typeof===r}function De(c){var M={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(W){return M[W]})}var je=/\/+/g;function Me(c,M){return typeof c=="object"&&c!==null&&c.key!=null?De(""+c.key):M.toString(36)}function Be(){}function Ae(c){switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:switch(typeof c.status=="string"?c.then(Be,Be):(c.status="pending",c.then(function(M){c.status==="pending"&&(c.status="fulfilled",c.value=M)},function(M){c.status==="pending"&&(c.status="rejected",c.reason=M)})),c.status){case"fulfilled":return c.value;case"rejected":throw c.reason}}throw c}function Ee(c,M,W,R,T){var le=typeof c;(le==="undefined"||le==="boolean")&&(c=null);var J=!1;if(c===null)J=!0;else switch(le){case"bigint":case"string":case"number":J=!0;break;case"object":switch(c.$$typeof){case r:case _:J=!0;break;case z:return J=c._init,Ee(J(c._payload),M,W,R,T)}}if(J)return T=T(c),J=R===""?"."+Me(c,0):R,xe(T)?(W="",J!=null&&(W=J.replace(je,"$&/")+"/"),Ee(T,M,W,"",function(lt){return lt})):T!=null&&(ce(T)&&(T=q(T,W+(T.key==null||c&&c.key===T.key?"":(""+T.key).replace(je,"$&/")+"/")+J)),M.push(T)),1;J=0;var _e=R===""?".":R+":";if(xe(c))for(var Re=0;Re<c.length;Re++)R=c[Re],le=_e+Me(R,Re),J+=Ee(R,M,W,le,T);else if(Re=$(c),typeof Re=="function")for(c=Re.call(c),Re=0;!(R=c.next()).done;)R=R.value,le=_e+Me(R,Re++),J+=Ee(R,M,W,le,T);else if(le==="object"){if(typeof c.then=="function")return Ee(Ae(c),M,W,R,T);throw M=String(c),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return J}function b(c,M,W){if(c==null)return c;var R=[],T=0;return Ee(c,R,"","",function(le){return M.call(W,le,T++)}),R}function L(c){if(c._status===-1){var M=c._result;M=M(),M.then(function(W){(c._status===0||c._status===-1)&&(c._status=1,c._result=W)},function(W){(c._status===0||c._status===-1)&&(c._status=2,c._result=W)}),c._status===-1&&(c._status=0,c._result=M)}if(c._status===1)return c._result.default;throw c._result}var fe=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function Le(){}return Ie.Children={map:b,forEach:function(c,M,W){b(c,function(){M.apply(this,arguments)},W)},count:function(c){var M=0;return b(c,function(){M++}),M},toArray:function(c){return b(c,function(M){return M})||[]},only:function(c){if(!ce(c))throw Error("React.Children.only expected to receive a single React element child.");return c}},Ie.Component=ne,Ie.Fragment=y,Ie.Profiler=E,Ie.PureComponent=he,Ie.StrictMode=d,Ie.Suspense=X,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(c){return N.H.useMemoCache(c)}},Ie.cache=function(c){return function(){return c.apply(null,arguments)}},Ie.cloneElement=function(c,M,W){if(c==null)throw Error("The argument must be a React element, but you passed "+c+".");var R=I({},c.props),T=c.key,le=void 0;if(M!=null)for(J in M.ref!==void 0&&(le=void 0),M.key!==void 0&&(T=""+M.key),M)!se.call(M,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&M.ref===void 0||(R[J]=M[J]);var J=arguments.length-2;if(J===1)R.children=W;else if(1<J){for(var _e=Array(J),Re=0;Re<J;Re++)_e[Re]=arguments[Re+2];R.children=_e}return we(c.type,T,void 0,void 0,le,R)},Ie.createContext=function(c){return c={$$typeof:H,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null},c.Provider=c,c.Consumer={$$typeof:Q,_context:c},c},Ie.createElement=function(c,M,W){var R,T={},le=null;if(M!=null)for(R in M.key!==void 0&&(le=""+M.key),M)se.call(M,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(T[R]=M[R]);var J=arguments.length-2;if(J===1)T.children=W;else if(1<J){for(var _e=Array(J),Re=0;Re<J;Re++)_e[Re]=arguments[Re+2];T.children=_e}if(c&&c.defaultProps)for(R in J=c.defaultProps,J)T[R]===void 0&&(T[R]=J[R]);return we(c,le,void 0,void 0,null,T)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(c){return{$$typeof:oe,render:c}},Ie.isValidElement=ce,Ie.lazy=function(c){return{$$typeof:z,_payload:{_status:-1,_result:c},_init:L}},Ie.memo=function(c,M){return{$$typeof:S,type:c,compare:M===void 0?null:M}},Ie.startTransition=function(c){var M=N.T,W={};N.T=W;try{var R=c(),T=N.S;T!==null&&T(W,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(Le,fe)}catch(le){fe(le)}finally{N.T=M}},Ie.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ie.use=function(c){return N.H.use(c)},Ie.useActionState=function(c,M,W){return N.H.useActionState(c,M,W)},Ie.useCallback=function(c,M){return N.H.useCallback(c,M)},Ie.useContext=function(c){return N.H.useContext(c)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(c,M){return N.H.useDeferredValue(c,M)},Ie.useEffect=function(c,M,W){var R=N.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return R.useEffect(c,M)},Ie.useId=function(){return N.H.useId()},Ie.useImperativeHandle=function(c,M,W){return N.H.useImperativeHandle(c,M,W)},Ie.useInsertionEffect=function(c,M){return N.H.useInsertionEffect(c,M)},Ie.useLayoutEffect=function(c,M){return N.H.useLayoutEffect(c,M)},Ie.useMemo=function(c,M){return N.H.useMemo(c,M)},Ie.useOptimistic=function(c,M){return N.H.useOptimistic(c,M)},Ie.useReducer=function(c,M,W){return N.H.useReducer(c,M,W)},Ie.useRef=function(c){return N.H.useRef(c)},Ie.useState=function(c){return N.H.useState(c)},Ie.useSyncExternalStore=function(c,M,W){return N.H.useSyncExternalStore(c,M,W)},Ie.useTransition=function(){return N.H.useTransition()},Ie.version="19.1.1",Ie}var Kf;function hu(){return Kf||(Kf=1,nu.exports=E0()),nu.exports}var g=hu();const C0=mg(g);var iu={exports:{}},Di={},su={exports:{}},ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf;function A0(){return Jf||(Jf=1,(function(r){function _(b,L){var fe=b.length;b.push(L);e:for(;0<fe;){var Le=fe-1>>>1,c=b[Le];if(0<E(c,L))b[Le]=L,b[fe]=c,fe=Le;else break e}}function y(b){return b.length===0?null:b[0]}function d(b){if(b.length===0)return null;var L=b[0],fe=b.pop();if(fe!==L){b[0]=fe;e:for(var Le=0,c=b.length,M=c>>>1;Le<M;){var W=2*(Le+1)-1,R=b[W],T=W+1,le=b[T];if(0>E(R,fe))T<c&&0>E(le,R)?(b[Le]=le,b[T]=fe,Le=T):(b[Le]=R,b[W]=fe,Le=W);else if(T<c&&0>E(le,fe))b[Le]=le,b[T]=fe,Le=T;else break e}}return L}function E(b,L){var fe=b.sortIndex-L.sortIndex;return fe!==0?fe:b.id-L.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var Q=performance;r.unstable_now=function(){return Q.now()}}else{var H=Date,oe=H.now();r.unstable_now=function(){return H.now()-oe}}var X=[],S=[],z=1,P=null,$=3,me=!1,I=!1,Te=!1,ne=!1,Ye=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function xe(b){for(var L=y(S);L!==null;){if(L.callback===null)d(S);else if(L.startTime<=b)d(S),L.sortIndex=L.expirationTime,_(X,L);else break;L=y(S)}}function N(b){if(Te=!1,xe(b),!I)if(y(X)!==null)I=!0,se||(se=!0,Me());else{var L=y(S);L!==null&&Ee(N,L.startTime-b)}}var se=!1,we=-1,q=5,ce=-1;function De(){return ne?!0:!(r.unstable_now()-ce<q)}function je(){if(ne=!1,se){var b=r.unstable_now();ce=b;var L=!0;try{e:{I=!1,Te&&(Te=!1,he(we),we=-1),me=!0;var fe=$;try{t:{for(xe(b),P=y(X);P!==null&&!(P.expirationTime>b&&De());){var Le=P.callback;if(typeof Le=="function"){P.callback=null,$=P.priorityLevel;var c=Le(P.expirationTime<=b);if(b=r.unstable_now(),typeof c=="function"){P.callback=c,xe(b),L=!0;break t}P===y(X)&&d(X),xe(b)}else d(X);P=y(X)}if(P!==null)L=!0;else{var M=y(S);M!==null&&Ee(N,M.startTime-b),L=!1}}break e}finally{P=null,$=fe,me=!1}L=void 0}}finally{L?Me():se=!1}}}var Me;if(typeof v=="function")Me=function(){v(je)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Ae=Be.port2;Be.port1.onmessage=je,Me=function(){Ae.postMessage(null)}}else Me=function(){Ye(je,0)};function Ee(b,L){we=Ye(function(){b(r.unstable_now())},L)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(b){b.callback=null},r.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<b?Math.floor(1e3/b):5},r.unstable_getCurrentPriorityLevel=function(){return $},r.unstable_next=function(b){switch($){case 1:case 2:case 3:var L=3;break;default:L=$}var fe=$;$=L;try{return b()}finally{$=fe}},r.unstable_requestPaint=function(){ne=!0},r.unstable_runWithPriority=function(b,L){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var fe=$;$=b;try{return L()}finally{$=fe}},r.unstable_scheduleCallback=function(b,L,fe){var Le=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Le+fe:Le):fe=Le,b){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return c=fe+c,b={id:z++,callback:L,priorityLevel:b,startTime:fe,expirationTime:c,sortIndex:-1},fe>Le?(b.sortIndex=fe,_(S,b),y(X)===null&&b===y(S)&&(Te?(he(we),we=-1):Te=!0,Ee(N,fe-Le))):(b.sortIndex=c,_(X,b),I||me||(I=!0,se||(se=!0,Me()))),b},r.unstable_shouldYield=De,r.unstable_wrapCallback=function(b){var L=$;return function(){var fe=$;$=L;try{return b.apply(this,arguments)}finally{$=fe}}}})(ru)),ru}var Wf;function N0(){return Wf||(Wf=1,su.exports=A0()),su.exports}var ou={exports:{}},nl={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function T0(){if(Ff)return nl;Ff=1;var r=hu();function _(X){var S="https://react.dev/errors/"+X;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var z=2;z<arguments.length;z++)S+="&args[]="+encodeURIComponent(arguments[z])}return"Minified React error #"+X+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(){}var d={d:{f:y,r:function(){throw Error(_(522))},D:y,C:y,L:y,m:y,X:y,S:y,M:y},p:0,findDOMNode:null},E=Symbol.for("react.portal");function Q(X,S,z){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:P==null?null:""+P,children:X,containerInfo:S,implementation:z}}var H=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function oe(X,S){if(X==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return nl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,nl.createPortal=function(X,S){var z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(_(299));return Q(X,S,null,z)},nl.flushSync=function(X){var S=H.T,z=d.p;try{if(H.T=null,d.p=2,X)return X()}finally{H.T=S,d.p=z,d.d.f()}},nl.preconnect=function(X,S){typeof X=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,d.d.C(X,S))},nl.prefetchDNS=function(X){typeof X=="string"&&d.d.D(X)},nl.preinit=function(X,S){if(typeof X=="string"&&S&&typeof S.as=="string"){var z=S.as,P=oe(z,S.crossOrigin),$=typeof S.integrity=="string"?S.integrity:void 0,me=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;z==="style"?d.d.S(X,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:P,integrity:$,fetchPriority:me}):z==="script"&&d.d.X(X,{crossOrigin:P,integrity:$,fetchPriority:me,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},nl.preinitModule=function(X,S){if(typeof X=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var z=oe(S.as,S.crossOrigin);d.d.M(X,{crossOrigin:z,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&d.d.M(X)},nl.preload=function(X,S){if(typeof X=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var z=S.as,P=oe(z,S.crossOrigin);d.d.L(X,z,{crossOrigin:P,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},nl.preloadModule=function(X,S){if(typeof X=="string")if(S){var z=oe(S.as,S.crossOrigin);d.d.m(X,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:z,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else d.d.m(X)},nl.requestFormReset=function(X){d.d.r(X)},nl.unstable_batchedUpdates=function(X,S){return X(S)},nl.useFormState=function(X,S,z){return H.H.useFormState(X,S,z)},nl.useFormStatus=function(){return H.H.useHostTransitionStatus()},nl.version="19.1.1",nl}var Pf;function pg(){if(Pf)return ou.exports;Pf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(_){console.error(_)}}return r(),ou.exports=T0(),ou.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function M0(){if(If)return Di;If=1;var r=N0(),_=hu(),y=pg();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function E(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Q(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function H(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oe(e){if(Q(e)!==e)throw Error(d(188))}function X(e){var t=e.alternate;if(!t){if(t=Q(e),t===null)throw Error(d(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return oe(n),e;if(i===a)return oe(n),t;i=i.sibling}throw Error(d(188))}if(l.return!==a.return)l=n,a=i;else{for(var o=!1,u=n.child;u;){if(u===l){o=!0,l=n,a=i;break}if(u===a){o=!0,a=n,l=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===l){o=!0,l=i,a=n;break}if(u===a){o=!0,a=i,l=n;break}u=u.sibling}if(!o)throw Error(d(189))}}if(l.alternate!==a)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var z=Object.assign,P=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),me=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),Te=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),Ye=Symbol.for("react.provider"),he=Symbol.for("react.consumer"),v=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function Me(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case ne:return"Profiler";case Te:return"StrictMode";case N:return"Suspense";case se:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case me:return"Portal";case v:return(e.displayName||"Context")+".Provider";case he:return(e._context.displayName||"Context")+".Consumer";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case we:return t=e.displayName||null,t!==null?t:Ae(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return Ae(e(t))}catch{}}return null}var Ee=Array.isArray,b=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=y.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Le=[],c=-1;function M(e){return{current:e}}function W(e){0>c||(e.current=Le[c],Le[c]=null,c--)}function R(e,t){c++,Le[c]=e.current,e.current=t}var T=M(null),le=M(null),J=M(null),_e=M(null);function Re(e,t){switch(R(J,t),R(le,e),R(T,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vf(t),e=xf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(T),R(T,e)}function lt(){W(T),W(le),W(J)}function be(e){e.memoizedState!==null&&R(_e,e);var t=T.current,l=xf(t,e.type);t!==l&&(R(le,e),R(T,l))}function F(e){le.current===e&&(W(T),W(le)),_e.current===e&&(W(_e),Ai._currentValue=fe)}var V=Object.prototype.hasOwnProperty,de=r.unstable_scheduleCallback,ye=r.unstable_cancelCallback,pe=r.unstable_shouldYield,Oe=r.unstable_requestPaint,Se=r.unstable_now,Ve=r.unstable_getCurrentPriorityLevel,ke=r.unstable_ImmediatePriority,ze=r.unstable_UserBlockingPriority,ue=r.unstable_NormalPriority,ee=r.unstable_LowPriority,re=r.unstable_IdlePriority,Qe=r.log,G=r.unstable_setDisableYieldValue,te=null,ve=null;function Fe(e){if(typeof Qe=="function"&&G(e),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(te,e)}catch{}}var Ne=Math.clz32?Math.clz32:pt,He=Math.log,ot=Math.LN2;function pt(e){return e>>>=0,e===0?32:31-(He(e)/ot|0)|0}var et=256,Xe=4194304;function at(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function D(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~i,a!==0?n=at(a):(o&=u,o!==0?n=at(o):l||(l=u&~e,l!==0&&(n=at(l))))):(u=a&~i,u!==0?n=at(u):o!==0?n=at(o):l||(l=a&~e,l!==0&&(n=at(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function ge(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function dt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(){var e=et;return et<<=1,(et&4194048)===0&&(et=256),e}function Ht(){var e=Xe;return Xe<<=1,(Xe&62914560)===0&&(Xe=4194304),e}function Vt(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function $t(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zt(e,t,l,a,n,i){var o=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,f=e.expirationTimes,w=e.hiddenUpdates;for(l=o&~l;0<l;){var O=31-Ne(l),Y=1<<O;u[O]=0,f[O]=-1;var j=w[O];if(j!==null)for(w[O]=null,O=0;O<j.length;O++){var C=j[O];C!==null&&(C.lane&=-536870913)}l&=~Y}a!==0&&A(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function A(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ne(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&4194090}function ie(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-Ne(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function qe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ut(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function k(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:Hf(e.type))}function Z(e,t){var l=L.p;try{return L.p=e,t()}finally{L.p=l}}var Ue=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ue,tt="__reactProps$"+Ue,mt="__reactContainer$"+Ue,Ut="__reactEvents$"+Ue,Gt="__reactListeners$"+Ue,Qt="__reactHandles$"+Ue,jt="__reactResources$"+Ue,tl="__reactMarker$"+Ue;function ml(e){delete e[Pe],delete e[tt],delete e[Ut],delete e[Gt],delete e[Qt]}function p(e){var t=e[Pe];if(t)return t;for(var l=e.parentNode;l;){if(t=l[mt]||l[Pe]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=kf(e);e!==null;){if(l=e[Pe])return l;e=kf(e)}return t}e=l,l=e.parentNode}return null}function K(e){if(e=e[Pe]||e[mt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ae(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Ke(e){var t=e[jt];return t||(t=e[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[tl]=!0}var gt=new Set,Ft={};function At(e,t){Zt(e,t),Zt(e+"Capture",t)}function Zt(e,t){for(Ft[e]=t,e=0;e<t.length;e++)gt.add(t[e])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},rl={};function Tt(e){return V.call(rl,e)?!0:V.call(pl,e)?!1:jl.test(e)?rl[e]=!0:(pl[e]=!0,!1)}function Yt(e,t,l){if(Tt(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function il(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function ll(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}var El,Ia;function Cl(e){if(El===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);El=t&&t[1]||"",Ia=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+El+e+Ia}var ol=!1;function ul(e,t){if(!e||ol)return"";ol=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(C){var j=C}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(C){j=C}e.call(Y.prototype)}}else{try{throw Error()}catch(C){j=C}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(C){if(C&&j&&typeof C.stack=="string")return[C.stack,j.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),o=i[0],u=i[1];if(o&&u){var f=o.split(`
`),w=u.split(`
`);for(n=a=0;a<f.length&&!f[a].includes("DetermineComponentFrameRoot");)a++;for(;n<w.length&&!w[n].includes("DetermineComponentFrameRoot");)n++;if(a===f.length||n===w.length)for(a=f.length-1,n=w.length-1;1<=a&&0<=n&&f[a]!==w[n];)n--;for(;1<=a&&0<=n;a--,n--)if(f[a]!==w[n]){if(a!==1||n!==1)do if(a--,n--,0>n||f[a]!==w[n]){var O=`
`+f[a].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=a&&0<=n);break}}}finally{ol=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Cl(l):""}function Al(e){switch(e.tag){case 26:case 27:case 5:return Cl(e.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 15:return ul(e.type,!1);case 11:return ul(e.type.render,!1);case 1:return ul(e.type,!0);case 31:return Cl("Activity");default:return""}}function Kl(e){try{var t="";do t+=Al(e),e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function bl(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gn(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function en(e){var t=Gn(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jl(e){e._valueTracker||(e._valueTracker=en(e))}function da(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Gn(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function tn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xg=/[\n"\\]/g;function Nl(e){return e.replace(xg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Is(e,t,l,a,n,i,o,u){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bl(t)):e.value!==""+bl(t)&&(e.value=""+bl(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?er(e,o,bl(t)):l!=null?er(e,o,bl(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+bl(u):e.removeAttribute("name")}function mu(e,t,l,a,n,i,o,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;l=l!=null?""+bl(l):"",t=t!=null?""+bl(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function er(e,t,l){t==="number"&&tn(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ln(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+bl(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function pu(e,t,l){if(t!=null&&(t=""+bl(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+bl(l):""}function bu(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(d(92));if(Ee(a)){if(1<a.length)throw Error(d(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=bl(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a)}function an(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var wg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||wg.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function vu(e,t,l){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&yu(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&yu(e,i,t[i])}function tr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_g=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gi(e){return _g.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var lr=null;function ar(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nn=null,sn=null;function xu(e){var t=K(e);if(t&&(e=t.stateNode)){var l=e[tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Is(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nl(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[tt]||null;if(!n)throw Error(d(90));Is(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&da(a)}break e;case"textarea":pu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ln(e,!!l.multiple,t,!1)}}}var nr=!1;function wu(e,t,l){if(nr)return e(t,l);nr=!0;try{var a=e(t);return a}finally{if(nr=!1,(nn!==null||sn!==null)&&(js(),nn&&(t=nn,e=sn,sn=nn=null,xu(t),e)))for(t=0;t<e.length;t++)xu(e[t])}}function Yn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[tt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(d(231,t,typeof l));return l}var Wl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ir=!1;if(Wl)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){ir=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{ir=!1}var fa=null,sr=null,Yi=null;function Su(){if(Yi)return Yi;var e,t=sr,l=t.length,a,n="value"in fa?fa.value:fa.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var o=l-e;for(a=1;a<=o&&t[l-a]===n[i-a];a++);return Yi=n.slice(e,1<a?1-a:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function _u(){return!1}function cl(e){function t(l,a,n,i,o){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qi:_u,this.isPropagationStopped=_u,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),t}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=cl(Da),qn=z({},Da,{view:0,detail:0}),kg=cl(qn),rr,or,Vn,$i=z({},qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(rr=e.screenX-Vn.screenX,or=e.screenY-Vn.screenY):or=rr=0,Vn=e),rr)},movementY:function(e){return"movementY"in e?e.movementY:or}}),ku=cl($i),jg=z({},$i,{dataTransfer:0}),Eg=cl(jg),Cg=z({},qn,{relatedTarget:0}),ur=cl(Cg),Ag=z({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),Ng=cl(Ag),Tg=z({},Da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mg=cl(Tg),Rg=z({},Da,{data:0}),ju=cl(Rg),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zg[e])?!!t[e]:!1}function cr(){return Ug}var Bg=z({},qn,{key:function(e){if(e.key){var t=Og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lg=cl(Bg),Hg=z({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=cl(Hg),Gg=z({},qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),Yg=cl(Gg),Xg=z({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),qg=cl(Xg),Vg=z({},$i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$g=cl(Vg),Qg=z({},Da,{newState:0,oldState:0}),Zg=cl(Qg),Kg=[9,13,27,32],dr=Wl&&"CompositionEvent"in window,$n=null;Wl&&"documentMode"in document&&($n=document.documentMode);var Jg=Wl&&"TextEvent"in window&&!$n,Cu=Wl&&(!dr||$n&&8<$n&&11>=$n),Au=" ",Nu=!1;function Tu(e,t){switch(e){case"keyup":return Kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rn=!1;function Wg(e,t){switch(e){case"compositionend":return Mu(t);case"keypress":return t.which!==32?null:(Nu=!0,Au);case"textInput":return e=t.data,e===Au&&Nu?null:e;default:return null}}function Fg(e,t){if(rn)return e==="compositionend"||!dr&&Tu(e,t)?(e=Su(),Yi=sr=fa=null,rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cu&&t.locale!=="ko"?null:t.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pg[e.type]:t==="textarea"}function Ou(e,t,l,a){nn?sn?sn.push(a):sn=[a]:nn=a,t=Ms(t,"onChange"),0<t.length&&(l=new Vi("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Qn=null,Zn=null;function Ig(e){hf(e,0)}function Qi(e){var t=ae(e);if(da(t))return e}function Du(e,t){if(e==="change")return t}var zu=!1;if(Wl){var fr;if(Wl){var gr="oninput"in document;if(!gr){var Uu=document.createElement("div");Uu.setAttribute("oninput","return;"),gr=typeof Uu.oninput=="function"}fr=gr}else fr=!1;zu=fr&&(!document.documentMode||9<document.documentMode)}function Bu(){Qn&&(Qn.detachEvent("onpropertychange",Lu),Zn=Qn=null)}function Lu(e){if(e.propertyName==="value"&&Qi(Zn)){var t=[];Ou(t,Zn,e,ar(e)),wu(Ig,t)}}function eh(e,t,l){e==="focusin"?(Bu(),Qn=t,Zn=l,Qn.attachEvent("onpropertychange",Lu)):e==="focusout"&&Bu()}function th(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qi(Zn)}function lh(e,t){if(e==="click")return Qi(t)}function ah(e,t){if(e==="input"||e==="change")return Qi(t)}function nh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yl=typeof Object.is=="function"?Object.is:nh;function Kn(e,t){if(yl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!V.call(t,n)||!yl(e[n],t[n]))return!1}return!0}function Hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gu(e,t){var l=Hu(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hu(l)}}function Yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=tn(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=tn(e.document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ih=Wl&&"documentMode"in document&&11>=document.documentMode,on=null,mr=null,Jn=null,pr=!1;function qu(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;pr||on==null||on!==tn(a)||(a=on,"selectionStart"in a&&hr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Jn&&Kn(Jn,a)||(Jn=a,a=Ms(mr,"onSelect"),0<a.length&&(t=new Vi("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=on)))}function za(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var un={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},br={},Vu={};Wl&&(Vu=document.createElement("div").style,"AnimationEvent"in window||(delete un.animationend.animation,delete un.animationiteration.animation,delete un.animationstart.animation),"TransitionEvent"in window||delete un.transitionend.transition);function Ua(e){if(br[e])return br[e];if(!un[e])return e;var t=un[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Vu)return br[e]=t[l];return e}var $u=Ua("animationend"),Qu=Ua("animationiteration"),Zu=Ua("animationstart"),sh=Ua("transitionrun"),rh=Ua("transitionstart"),oh=Ua("transitioncancel"),Ku=Ua("transitionend"),Ju=new Map,yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yr.push("scrollEnd");function Ll(e,t){Ju.set(e,t),At(t,[e])}var Wu=new WeakMap;function Tl(e,t){if(typeof e=="object"&&e!==null){var l=Wu.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Kl(t)},Wu.set(e,t),t)}return{value:e,source:t,stack:Kl(t)}}var Ml=[],cn=0,vr=0;function Zi(){for(var e=cn,t=vr=cn=0;t<e;){var l=Ml[t];Ml[t++]=null;var a=Ml[t];Ml[t++]=null;var n=Ml[t];Ml[t++]=null;var i=Ml[t];if(Ml[t++]=null,a!==null&&n!==null){var o=a.pending;o===null?n.next=n:(n.next=o.next,o.next=n),a.pending=n}i!==0&&Fu(l,n,i)}}function Ki(e,t,l,a){Ml[cn++]=e,Ml[cn++]=t,Ml[cn++]=l,Ml[cn++]=a,vr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function xr(e,t,l,a){return Ki(e,t,l,a),Ji(e)}function dn(e,t){return Ki(e,null,null,t),Ji(e)}function Fu(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Ne(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function Ji(e){if(50<xi)throw xi=0,Co=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fn={};function uh(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vl(e,t,l,a){return new uh(e,t,l,a)}function wr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fl(e,t){var l=e.alternate;return l===null?(l=vl(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Pu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wi(e,t,l,a,n,i){var o=0;if(a=e,typeof e=="function")wr(e)&&(o=1);else if(typeof e=="string")o=d0(e,l,T.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=vl(31,l,t,n),e.elementType=ce,e.lanes=i,e;case I:return Ba(l.children,n,i,t);case Te:o=8,n|=24;break;case ne:return e=vl(12,l,t,n|2),e.elementType=ne,e.lanes=i,e;case N:return e=vl(13,l,t,n),e.elementType=N,e.lanes=i,e;case se:return e=vl(19,l,t,n),e.elementType=se,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ye:case v:o=10;break e;case he:o=9;break e;case xe:o=11;break e;case we:o=14;break e;case q:o=16,a=null;break e}o=29,l=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=vl(o,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Ba(e,t,l,a){return e=vl(7,e,a,t),e.lanes=l,e}function Sr(e,t,l){return e=vl(6,e,null,t),e.lanes=l,e}function _r(e,t,l){return t=vl(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var gn=[],hn=0,Fi=null,Pi=0,Rl=[],Ol=0,La=null,Pl=1,Il="";function Ha(e,t){gn[hn++]=Pi,gn[hn++]=Fi,Fi=e,Pi=t}function Iu(e,t,l){Rl[Ol++]=Pl,Rl[Ol++]=Il,Rl[Ol++]=La,La=e;var a=Pl;e=Il;var n=32-Ne(a)-1;a&=~(1<<n),l+=1;var i=32-Ne(t)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,Pl=1<<32-Ne(t)+n|l<<n|a,Il=i+e}else Pl=1<<i|l<<n|a,Il=e}function kr(e){e.return!==null&&(Ha(e,1),Iu(e,1,0))}function jr(e){for(;e===Fi;)Fi=gn[--hn],gn[hn]=null,Pi=gn[--hn],gn[hn]=null;for(;e===La;)La=Rl[--Ol],Rl[Ol]=null,Il=Rl[--Ol],Rl[Ol]=null,Pl=Rl[--Ol],Rl[Ol]=null}var sl=null,Mt=null,ht=!1,Ga=null,Yl=!1,Er=Error(d(519));function Ya(e){var t=Error(d(418,""));throw Pn(Tl(t,e)),Er}function ec(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Pe]=e,t[tt]=a,l){case"dialog":rt("cancel",t),rt("close",t);break;case"iframe":case"object":case"embed":rt("load",t);break;case"video":case"audio":for(l=0;l<Si.length;l++)rt(Si[l],t);break;case"source":rt("error",t);break;case"img":case"image":case"link":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"input":rt("invalid",t),mu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Jl(t);break;case"select":rt("invalid",t);break;case"textarea":rt("invalid",t),bu(t,a.value,a.defaultValue,a.children),Jl(t)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||yf(t.textContent,l)?(a.popover!=null&&(rt("beforetoggle",t),rt("toggle",t)),a.onScroll!=null&&rt("scroll",t),a.onScrollEnd!=null&&rt("scrollend",t),a.onClick!=null&&(t.onclick=Rs),t=!0):t=!1,t||Ya(e)}function tc(e){for(sl=e.return;sl;)switch(sl.tag){case 5:case 13:Yl=!1;return;case 27:case 3:Yl=!0;return;default:sl=sl.return}}function Wn(e){if(e!==sl)return!1;if(!ht)return tc(e),ht=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||qo(e.type,e.memoizedProps)),l=!l),l&&Mt&&Ya(e),tc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(t===0){Mt=Gl(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++;e=e.nextSibling}Mt=null}}else t===27?(t=Mt,Aa(e.type)?(e=Zo,Zo=null,Mt=e):Mt=t):Mt=sl?Gl(e.stateNode.nextSibling):null;return!0}function Fn(){Mt=sl=null,ht=!1}function lc(){var e=Ga;return e!==null&&(gl===null?gl=e:gl.push.apply(gl,e),Ga=null),e}function Pn(e){Ga===null?Ga=[e]:Ga.push(e)}var Cr=M(null),Xa=null,ea=null;function ga(e,t,l){R(Cr,t._currentValue),t._currentValue=l}function ta(e){e._currentValue=Cr.current,W(Cr)}function Ar(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Nr(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var o=n.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=n;for(var f=0;f<t.length;f++)if(u.context===t[f]){i.lanes|=l,u=i.alternate,u!==null&&(u.lanes|=l),Ar(i.return,l,e),a||(o=null);break e}i=u.next}}else if(n.tag===18){if(o=n.return,o===null)throw Error(d(341));o.lanes|=l,i=o.alternate,i!==null&&(i.lanes|=l),Ar(o,l,e),o=null}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}}function In(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var o=n.alternate;if(o===null)throw Error(d(387));if(o=o.memoizedProps,o!==null){var u=n.type;yl(n.pendingProps.value,o.value)||(e!==null?e.push(u):e=[u])}}else if(n===_e.current){if(o=n.alternate,o===null)throw Error(d(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Ai):e=[Ai])}n=n.return}e!==null&&Nr(t,e,l,a),t.flags|=262144}function Ii(e){for(e=e.firstContext;e!==null;){if(!yl(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qa(e){Xa=e,ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function al(e){return ac(Xa,e)}function es(e,t){return Xa===null&&qa(e),ac(e,t)}function ac(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},ea===null){if(e===null)throw Error(d(308));ea=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ea=ea.next=t;return l}var ch=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},dh=r.unstable_scheduleCallback,fh=r.unstable_NormalPriority,Xt={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tr(){return{controller:new ch,data:new Map,refCount:0}}function ei(e){e.refCount--,e.refCount===0&&dh(fh,function(){e.controller.abort()})}var ti=null,Mr=0,mn=0,pn=null;function gh(e,t){if(ti===null){var l=ti=[];Mr=0,mn=Do(),pn={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Mr++,t.then(nc,nc),t}function nc(){if(--Mr===0&&ti!==null){pn!==null&&(pn.status="fulfilled");var e=ti;ti=null,mn=0,pn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hh(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var ic=b.S;b.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&gh(e,t),ic!==null&&ic(e,t)};var Va=M(null);function Rr(){var e=Va.current;return e!==null?e:kt.pooledCache}function ts(e,t){t===null?R(Va,Va.current):R(Va,t.pool)}function sc(){var e=Rr();return e===null?null:{parent:Xt._currentValue,pool:e}}var li=Error(d(460)),rc=Error(d(474)),ls=Error(d(542)),Or={then:function(){}};function oc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function as(){}function uc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(as,as),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dc(e),e;default:if(typeof t.status=="string")t.then(as,as);else{if(e=kt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dc(e),e}throw ai=t,li}}var ai=null;function cc(){if(ai===null)throw Error(d(459));var e=ai;return ai=null,e}function dc(e){if(e===li||e===ls)throw Error(d(483))}var ha=!1;function Dr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pa(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(bt&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Ji(e),Fu(e,null,l),t}return Ki(e,a,t,l),Ji(e)}function ni(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,ie(e,l)}}function Ur(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var o={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=o:i=i.next=o,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Br=!1;function ii(){if(Br){var e=pn;if(e!==null)throw e}}function si(e,t,l,a){Br=!1;var n=e.updateQueue;ha=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var f=u,w=f.next;f.next=null,o===null?i=w:o.next=w,o=f;var O=e.alternate;O!==null&&(O=O.updateQueue,u=O.lastBaseUpdate,u!==o&&(u===null?O.firstBaseUpdate=w:u.next=w,O.lastBaseUpdate=f))}if(i!==null){var Y=n.baseState;o=0,O=w=f=null,u=i;do{var j=u.lane&-536870913,C=j!==u.lane;if(C?(ct&j)===j:(a&j)===j){j!==0&&j===mn&&(Br=!0),O!==null&&(O=O.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var Je=e,$e=u;j=t;var St=l;switch($e.tag){case 1:if(Je=$e.payload,typeof Je=="function"){Y=Je.call(St,Y,j);break e}Y=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=$e.payload,j=typeof Je=="function"?Je.call(St,Y,j):Je,j==null)break e;Y=z({},Y,j);break e;case 2:ha=!0}}j=u.callback,j!==null&&(e.flags|=64,C&&(e.flags|=8192),C=n.callbacks,C===null?n.callbacks=[j]:C.push(j))}else C={lane:j,tag:u.tag,payload:u.payload,callback:u.callback,next:null},O===null?(w=O=C,f=Y):O=O.next=C,o|=j;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;C=u,u=C.next,C.next=null,n.lastBaseUpdate=C,n.shared.pending=null}}while(!0);O===null&&(f=Y),n.baseState=f,n.firstBaseUpdate=w,n.lastBaseUpdate=O,i===null&&(n.shared.lanes=0),ka|=o,e.lanes=o,e.memoizedState=Y}}function fc(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function gc(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)fc(l[e],t)}var bn=M(null),ns=M(0);function hc(e,t){e=oa,R(ns,e),R(bn,t),oa=e|t.baseLanes}function Lr(){R(ns,oa),R(bn,bn.current)}function Hr(){oa=ns.current,W(bn),W(ns)}var ba=0,nt=null,xt=null,Bt=null,is=!1,yn=!1,$a=!1,ss=0,ri=0,vn=null,mh=0;function Ot(){throw Error(d(321))}function Gr(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!yl(e[l],t[l]))return!1;return!0}function Yr(e,t,l,a,n,i){return ba=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,b.H=e===null||e.memoizedState===null?Fc:Pc,$a=!1,i=l(a,n),$a=!1,yn&&(i=pc(t,l,a,n)),mc(e),i}function mc(e){b.H=fs;var t=xt!==null&&xt.next!==null;if(ba=0,Bt=xt=nt=null,is=!1,ri=0,vn=null,t)throw Error(d(300));e===null||Kt||(e=e.dependencies,e!==null&&Ii(e)&&(Kt=!0))}function pc(e,t,l,a){nt=e;var n=0;do{if(yn&&(vn=null),ri=0,yn=!1,25<=n)throw Error(d(301));if(n+=1,Bt=xt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}b.H=Sh,i=t(l,a)}while(yn);return i}function ph(){var e=b.H,t=e.useState()[0];return t=typeof t.then=="function"?oi(t):t,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(nt.flags|=1024),t}function Xr(){var e=ss!==0;return ss=0,e}function qr(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Vr(e){if(is){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}is=!1}ba=0,Bt=xt=nt=null,yn=!1,ri=ss=0,vn=null}function dl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?nt.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Lt(){if(xt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Bt===null?nt.memoizedState:Bt.next;if(t!==null)Bt=t,xt=e;else{if(e===null)throw nt.alternate===null?Error(d(467)):Error(d(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Bt===null?nt.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function $r(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oi(e){var t=ri;return ri+=1,vn===null&&(vn=[]),e=uc(vn,e,t),t=nt,(Bt===null?t.memoizedState:Bt.next)===null&&(t=t.alternate,b.H=t===null||t.memoizedState===null?Fc:Pc),e}function rs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return oi(e);if(e.$$typeof===v)return al(e)}throw Error(d(438,String(e)))}function Qr(e){var t=null,l=nt.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=nt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=$r(),nt.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=De;return t.index++,l}function la(e,t){return typeof t=="function"?t(e):t}function os(e){var t=Lt();return Zr(t,xt,e)}function Zr(e,t,l){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var u=o=null,f=null,w=t,O=!1;do{var Y=w.lane&-536870913;if(Y!==w.lane?(ct&Y)===Y:(ba&Y)===Y){var j=w.revertLane;if(j===0)f!==null&&(f=f.next={lane:0,revertLane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),Y===mn&&(O=!0);else if((ba&j)===j){w=w.next,j===mn&&(O=!0);continue}else Y={lane:0,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},f===null?(u=f=Y,o=i):f=f.next=Y,nt.lanes|=j,ka|=j;Y=w.action,$a&&l(i,Y),i=w.hasEagerState?w.eagerState:l(i,Y)}else j={lane:Y,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},f===null?(u=f=j,o=i):f=f.next=j,nt.lanes|=Y,ka|=Y;w=w.next}while(w!==null&&w!==t);if(f===null?o=i:f.next=u,!yl(i,e.memoizedState)&&(Kt=!0,O&&(l=pn,l!==null)))throw l;e.memoizedState=i,e.baseState=o,e.baseQueue=f,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Kr(e){var t=Lt(),l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);yl(i,t.memoizedState)||(Kt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function bc(e,t,l){var a=nt,n=Lt(),i=ht;if(i){if(l===void 0)throw Error(d(407));l=l()}else l=t();var o=!yl((xt||n).memoizedState,l);o&&(n.memoizedState=l,Kt=!0),n=n.queue;var u=xc.bind(null,a,n,e);if(ui(2048,8,u,[e]),n.getSnapshot!==t||o||Bt!==null&&Bt.memoizedState.tag&1){if(a.flags|=2048,xn(9,us(),vc.bind(null,a,n,l,t),null),kt===null)throw Error(d(349));i||(ba&124)!==0||yc(a,t,l)}return l}function yc(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=nt.updateQueue,t===null?(t=$r(),nt.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function vc(e,t,l,a){t.value=l,t.getSnapshot=a,wc(t)&&Sc(e)}function xc(e,t,l){return l(function(){wc(t)&&Sc(e)})}function wc(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!yl(e,l)}catch{return!0}}function Sc(e){var t=dn(e,2);t!==null&&kl(t,e,2)}function Jr(e){var t=dl();if(typeof e=="function"){var l=e;if(e=l(),$a){Fe(!0);try{l()}finally{Fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function _c(e,t,l,a){return e.baseState=l,Zr(e,xt,typeof a=="function"?a:la)}function bh(e,t,l,a,n){if(ds(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};b.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,kc(t,i)):(i.next=l.next,t.pending=l.next=i)}}function kc(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=b.T,o={};b.T=o;try{var u=l(n,a),f=b.S;f!==null&&f(o,u),jc(e,t,u)}catch(w){Wr(e,t,w)}finally{b.T=i}}else try{i=l(n,a),jc(e,t,i)}catch(w){Wr(e,t,w)}}function jc(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Ec(e,t,a)},function(a){return Wr(e,t,a)}):Ec(e,t,l)}function Ec(e,t,l){t.status="fulfilled",t.value=l,Cc(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,kc(e,l)))}function Wr(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Cc(t),t=t.next;while(t!==a)}e.action=null}function Cc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ac(e,t){return t}function Nc(e,t){if(ht){var l=kt.formState;if(l!==null){e:{var a=nt;if(ht){if(Mt){t:{for(var n=Mt,i=Yl;n.nodeType!==8;){if(!i){n=null;break t}if(n=Gl(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Mt=Gl(n.nextSibling),a=n.data==="F!";break e}}Ya(a)}a=!1}a&&(t=l[0])}}return l=dl(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:t},l.queue=a,l=Kc.bind(null,nt,a),a.dispatch=l,a=Jr(!1),i=to.bind(null,nt,!1,a.queue),a=dl(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=bh.bind(null,nt,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Tc(e){var t=Lt();return Mc(t,xt,e)}function Mc(e,t,l){if(t=Zr(e,t,Ac)[0],e=os(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=oi(t)}catch(o){throw o===li?ls:o}else a=t;t=Lt();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(nt.flags|=2048,xn(9,us(),yh.bind(null,n,l),null)),[a,i,e]}function yh(e,t){e.action=t}function Rc(e){var t=Lt(),l=xt;if(l!==null)return Mc(t,l,e);Lt(),t=t.memoizedState,l=Lt();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function xn(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=nt.updateQueue,t===null&&(t=$r(),nt.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function us(){return{destroy:void 0,resource:void 0}}function Oc(){return Lt().memoizedState}function cs(e,t,l,a){var n=dl();a=a===void 0?null:a,nt.flags|=e,n.memoizedState=xn(1|t,us(),l,a)}function ui(e,t,l,a){var n=Lt();a=a===void 0?null:a;var i=n.memoizedState.inst;xt!==null&&a!==null&&Gr(a,xt.memoizedState.deps)?n.memoizedState=xn(t,i,l,a):(nt.flags|=e,n.memoizedState=xn(1|t,i,l,a))}function Dc(e,t){cs(8390656,8,e,t)}function zc(e,t){ui(2048,8,e,t)}function Uc(e,t){return ui(4,2,e,t)}function Bc(e,t){return ui(4,4,e,t)}function Lc(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hc(e,t,l){l=l!=null?l.concat([e]):null,ui(4,4,Lc.bind(null,t,e),l)}function Fr(){}function Gc(e,t){var l=Lt();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Gr(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Yc(e,t){var l=Lt();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Gr(t,a[1]))return a[0];if(a=e(),$a){Fe(!0);try{e()}finally{Fe(!1)}}return l.memoizedState=[a,t],a}function Pr(e,t,l){return l===void 0||(ba&1073741824)!==0?e.memoizedState=t:(e.memoizedState=l,e=Vd(),nt.lanes|=e,ka|=e,l)}function Xc(e,t,l,a){return yl(l,t)?l:bn.current!==null?(e=Pr(e,l,a),yl(e,t)||(Kt=!0),e):(ba&42)===0?(Kt=!0,e.memoizedState=l):(e=Vd(),nt.lanes|=e,ka|=e,t)}function qc(e,t,l,a,n){var i=L.p;L.p=i!==0&&8>i?i:8;var o=b.T,u={};b.T=u,to(e,!1,t,l);try{var f=n(),w=b.S;if(w!==null&&w(u,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var O=hh(f,a);ci(e,t,O,_l(e))}else ci(e,t,a,_l(e))}catch(Y){ci(e,t,{then:function(){},status:"rejected",reason:Y},_l())}finally{L.p=i,b.T=o}}function vh(){}function Ir(e,t,l,a){if(e.tag!==5)throw Error(d(476));var n=Vc(e).queue;qc(e,n,t,fe,l===null?vh:function(){return $c(e),l(a)})}function Vc(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:fe},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $c(e){var t=Vc(e).next.queue;ci(e,t,{},_l())}function eo(){return al(Ai)}function Qc(){return Lt().memoizedState}function Zc(){return Lt().memoizedState}function xh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=_l();e=ma(l);var a=pa(t,e,l);a!==null&&(kl(a,t,l),ni(a,t,l)),t={cache:Tr()},e.payload=t;return}t=t.return}}function wh(e,t,l){var a=_l();l={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ds(e)?Jc(t,l):(l=xr(e,t,l,a),l!==null&&(kl(l,e,a),Wc(l,t,a)))}function Kc(e,t,l){var a=_l();ci(e,t,l,a)}function ci(e,t,l,a){var n={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ds(e))Jc(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,u=i(o,l);if(n.hasEagerState=!0,n.eagerState=u,yl(u,o))return Ki(e,t,n,0),kt===null&&Zi(),!1}catch{}finally{}if(l=xr(e,t,n,a),l!==null)return kl(l,e,a),Wc(l,t,a),!0}return!1}function to(e,t,l,a){if(a={lane:2,revertLane:Do(),action:a,hasEagerState:!1,eagerState:null,next:null},ds(e)){if(t)throw Error(d(479))}else t=xr(e,l,a,2),t!==null&&kl(t,e,2)}function ds(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function Jc(e,t){yn=is=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Wc(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,ie(e,l)}}var fs={readContext:al,use:rs,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},Fc={readContext:al,use:rs,useCallback:function(e,t){return dl().memoizedState=[e,t===void 0?null:t],e},useContext:al,useEffect:Dc,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,cs(4194308,4,Lc.bind(null,t,e),l)},useLayoutEffect:function(e,t){return cs(4194308,4,e,t)},useInsertionEffect:function(e,t){cs(4,2,e,t)},useMemo:function(e,t){var l=dl();t=t===void 0?null:t;var a=e();if($a){Fe(!0);try{e()}finally{Fe(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=dl();if(l!==void 0){var n=l(t);if($a){Fe(!0);try{l(t)}finally{Fe(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=wh.bind(null,nt,e),[a.memoizedState,e]},useRef:function(e){var t=dl();return e={current:e},t.memoizedState=e},useState:function(e){e=Jr(e);var t=e.queue,l=Kc.bind(null,nt,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Fr,useDeferredValue:function(e,t){var l=dl();return Pr(l,e,t)},useTransition:function(){var e=Jr(!1);return e=qc.bind(null,nt,e.queue,!0,!1),dl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=nt,n=dl();if(ht){if(l===void 0)throw Error(d(407));l=l()}else{if(l=t(),kt===null)throw Error(d(349));(ct&124)!==0||yc(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,Dc(xc.bind(null,a,i,e),[e]),a.flags|=2048,xn(9,us(),vc.bind(null,a,i,l,t),null),l},useId:function(){var e=dl(),t=kt.identifierPrefix;if(ht){var l=Il,a=Pl;l=(a&~(1<<32-Ne(a)-1)).toString(32)+l,t=""+t+"R"+l,l=ss++,0<l&&(t+="H"+l.toString(32)),t+=""}else l=mh++,t=""+t+"r"+l.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:eo,useFormState:Nc,useActionState:Nc,useOptimistic:function(e){var t=dl();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=to.bind(null,nt,!0,l),l.dispatch=t,[e,t]},useMemoCache:Qr,useCacheRefresh:function(){return dl().memoizedState=xh.bind(null,nt)}},Pc={readContext:al,use:rs,useCallback:Gc,useContext:al,useEffect:zc,useImperativeHandle:Hc,useInsertionEffect:Uc,useLayoutEffect:Bc,useMemo:Yc,useReducer:os,useRef:Oc,useState:function(){return os(la)},useDebugValue:Fr,useDeferredValue:function(e,t){var l=Lt();return Xc(l,xt.memoizedState,e,t)},useTransition:function(){var e=os(la)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:oi(e),t]},useSyncExternalStore:bc,useId:Qc,useHostTransitionStatus:eo,useFormState:Tc,useActionState:Tc,useOptimistic:function(e,t){var l=Lt();return _c(l,xt,e,t)},useMemoCache:Qr,useCacheRefresh:Zc},Sh={readContext:al,use:rs,useCallback:Gc,useContext:al,useEffect:zc,useImperativeHandle:Hc,useInsertionEffect:Uc,useLayoutEffect:Bc,useMemo:Yc,useReducer:Kr,useRef:Oc,useState:function(){return Kr(la)},useDebugValue:Fr,useDeferredValue:function(e,t){var l=Lt();return xt===null?Pr(l,e,t):Xc(l,xt.memoizedState,e,t)},useTransition:function(){var e=Kr(la)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:oi(e),t]},useSyncExternalStore:bc,useId:Qc,useHostTransitionStatus:eo,useFormState:Rc,useActionState:Rc,useOptimistic:function(e,t){var l=Lt();return xt!==null?_c(l,xt,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Qr,useCacheRefresh:Zc},wn=null,di=0;function gs(e){var t=di;return di+=1,wn===null&&(wn=[]),uc(wn,e,t)}function fi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hs(e,t){throw t.$$typeof===P?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ic(e){var t=e._init;return t(e._payload)}function ed(e){function t(m,h){if(e){var x=m.deletions;x===null?(m.deletions=[h],m.flags|=16):x.push(h)}}function l(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function a(m){for(var h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function n(m,h){return m=Fl(m,h),m.index=0,m.sibling=null,m}function i(m,h,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<h?(m.flags|=67108866,h):x):(m.flags|=67108866,h)):(m.flags|=1048576,h)}function o(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function u(m,h,x,B){return h===null||h.tag!==6?(h=Sr(x,m.mode,B),h.return=m,h):(h=n(h,x),h.return=m,h)}function f(m,h,x,B){var Ce=x.type;return Ce===I?O(m,h,x.props.children,B,x.key):h!==null&&(h.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===q&&Ic(Ce)===h.type)?(h=n(h,x.props),fi(h,x),h.return=m,h):(h=Wi(x.type,x.key,x.props,null,m.mode,B),fi(h,x),h.return=m,h)}function w(m,h,x,B){return h===null||h.tag!==4||h.stateNode.containerInfo!==x.containerInfo||h.stateNode.implementation!==x.implementation?(h=_r(x,m.mode,B),h.return=m,h):(h=n(h,x.children||[]),h.return=m,h)}function O(m,h,x,B,Ce){return h===null||h.tag!==7?(h=Ba(x,m.mode,B,Ce),h.return=m,h):(h=n(h,x),h.return=m,h)}function Y(m,h,x){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=Sr(""+h,m.mode,x),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case $:return x=Wi(h.type,h.key,h.props,null,m.mode,x),fi(x,h),x.return=m,x;case me:return h=_r(h,m.mode,x),h.return=m,h;case q:var B=h._init;return h=B(h._payload),Y(m,h,x)}if(Ee(h)||Me(h))return h=Ba(h,m.mode,x,null),h.return=m,h;if(typeof h.then=="function")return Y(m,gs(h),x);if(h.$$typeof===v)return Y(m,es(m,h),x);hs(m,h)}return null}function j(m,h,x,B){var Ce=h!==null?h.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return Ce!==null?null:u(m,h,""+x,B);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $:return x.key===Ce?f(m,h,x,B):null;case me:return x.key===Ce?w(m,h,x,B):null;case q:return Ce=x._init,x=Ce(x._payload),j(m,h,x,B)}if(Ee(x)||Me(x))return Ce!==null?null:O(m,h,x,B,null);if(typeof x.then=="function")return j(m,h,gs(x),B);if(x.$$typeof===v)return j(m,h,es(m,x),B);hs(m,x)}return null}function C(m,h,x,B,Ce){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return m=m.get(x)||null,u(h,m,""+B,Ce);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case $:return m=m.get(B.key===null?x:B.key)||null,f(h,m,B,Ce);case me:return m=m.get(B.key===null?x:B.key)||null,w(h,m,B,Ce);case q:var it=B._init;return B=it(B._payload),C(m,h,x,B,Ce)}if(Ee(B)||Me(B))return m=m.get(x)||null,O(h,m,B,Ce,null);if(typeof B.then=="function")return C(m,h,x,gs(B),Ce);if(B.$$typeof===v)return C(m,h,x,es(h,B),Ce);hs(h,B)}return null}function Je(m,h,x,B){for(var Ce=null,it=null,Ge=h,Ze=h=0,Wt=null;Ge!==null&&Ze<x.length;Ze++){Ge.index>Ze?(Wt=Ge,Ge=null):Wt=Ge.sibling;var ft=j(m,Ge,x[Ze],B);if(ft===null){Ge===null&&(Ge=Wt);break}e&&Ge&&ft.alternate===null&&t(m,Ge),h=i(ft,h,Ze),it===null?Ce=ft:it.sibling=ft,it=ft,Ge=Wt}if(Ze===x.length)return l(m,Ge),ht&&Ha(m,Ze),Ce;if(Ge===null){for(;Ze<x.length;Ze++)Ge=Y(m,x[Ze],B),Ge!==null&&(h=i(Ge,h,Ze),it===null?Ce=Ge:it.sibling=Ge,it=Ge);return ht&&Ha(m,Ze),Ce}for(Ge=a(Ge);Ze<x.length;Ze++)Wt=C(Ge,m,Ze,x[Ze],B),Wt!==null&&(e&&Wt.alternate!==null&&Ge.delete(Wt.key===null?Ze:Wt.key),h=i(Wt,h,Ze),it===null?Ce=Wt:it.sibling=Wt,it=Wt);return e&&Ge.forEach(function(Oa){return t(m,Oa)}),ht&&Ha(m,Ze),Ce}function $e(m,h,x,B){if(x==null)throw Error(d(151));for(var Ce=null,it=null,Ge=h,Ze=h=0,Wt=null,ft=x.next();Ge!==null&&!ft.done;Ze++,ft=x.next()){Ge.index>Ze?(Wt=Ge,Ge=null):Wt=Ge.sibling;var Oa=j(m,Ge,ft.value,B);if(Oa===null){Ge===null&&(Ge=Wt);break}e&&Ge&&Oa.alternate===null&&t(m,Ge),h=i(Oa,h,Ze),it===null?Ce=Oa:it.sibling=Oa,it=Oa,Ge=Wt}if(ft.done)return l(m,Ge),ht&&Ha(m,Ze),Ce;if(Ge===null){for(;!ft.done;Ze++,ft=x.next())ft=Y(m,ft.value,B),ft!==null&&(h=i(ft,h,Ze),it===null?Ce=ft:it.sibling=ft,it=ft);return ht&&Ha(m,Ze),Ce}for(Ge=a(Ge);!ft.done;Ze++,ft=x.next())ft=C(Ge,m,Ze,ft.value,B),ft!==null&&(e&&ft.alternate!==null&&Ge.delete(ft.key===null?Ze:ft.key),h=i(ft,h,Ze),it===null?Ce=ft:it.sibling=ft,it=ft);return e&&Ge.forEach(function(_0){return t(m,_0)}),ht&&Ha(m,Ze),Ce}function St(m,h,x,B){if(typeof x=="object"&&x!==null&&x.type===I&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case $:e:{for(var Ce=x.key;h!==null;){if(h.key===Ce){if(Ce=x.type,Ce===I){if(h.tag===7){l(m,h.sibling),B=n(h,x.props.children),B.return=m,m=B;break e}}else if(h.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===q&&Ic(Ce)===h.type){l(m,h.sibling),B=n(h,x.props),fi(B,x),B.return=m,m=B;break e}l(m,h);break}else t(m,h);h=h.sibling}x.type===I?(B=Ba(x.props.children,m.mode,B,x.key),B.return=m,m=B):(B=Wi(x.type,x.key,x.props,null,m.mode,B),fi(B,x),B.return=m,m=B)}return o(m);case me:e:{for(Ce=x.key;h!==null;){if(h.key===Ce)if(h.tag===4&&h.stateNode.containerInfo===x.containerInfo&&h.stateNode.implementation===x.implementation){l(m,h.sibling),B=n(h,x.children||[]),B.return=m,m=B;break e}else{l(m,h);break}else t(m,h);h=h.sibling}B=_r(x,m.mode,B),B.return=m,m=B}return o(m);case q:return Ce=x._init,x=Ce(x._payload),St(m,h,x,B)}if(Ee(x))return Je(m,h,x,B);if(Me(x)){if(Ce=Me(x),typeof Ce!="function")throw Error(d(150));return x=Ce.call(x),$e(m,h,x,B)}if(typeof x.then=="function")return St(m,h,gs(x),B);if(x.$$typeof===v)return St(m,h,es(m,x),B);hs(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,h!==null&&h.tag===6?(l(m,h.sibling),B=n(h,x),B.return=m,m=B):(l(m,h),B=Sr(x,m.mode,B),B.return=m,m=B),o(m)):l(m,h)}return function(m,h,x,B){try{di=0;var Ce=St(m,h,x,B);return wn=null,Ce}catch(Ge){if(Ge===li||Ge===ls)throw Ge;var it=vl(29,Ge,null,m.mode);return it.lanes=B,it.return=m,it}finally{}}}var Sn=ed(!0),td=ed(!1),Dl=M(null),Xl=null;function ya(e){var t=e.alternate;R(qt,qt.current&1),R(Dl,e),Xl===null&&(t===null||bn.current!==null||t.memoizedState!==null)&&(Xl=e)}function ld(e){if(e.tag===22){if(R(qt,qt.current),R(Dl,e),Xl===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Xl=e)}}else va()}function va(){R(qt,qt.current),R(Dl,Dl.current)}function aa(e){W(Dl),Xl===e&&(Xl=null),W(qt)}var qt=M(0);function ms(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Qo(l)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function lo(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:z({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ao={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=_l(),n=ma(a);n.payload=t,l!=null&&(n.callback=l),t=pa(e,n,a),t!==null&&(kl(t,e,a),ni(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=_l(),n=ma(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=pa(e,n,a),t!==null&&(kl(t,e,a),ni(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=_l(),a=ma(l);a.tag=2,t!=null&&(a.callback=t),t=pa(e,a,l),t!==null&&(kl(t,e,l),ni(t,e,l))}};function ad(e,t,l,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!Kn(l,a)||!Kn(n,i):!0}function nd(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function Qa(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=z({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}var ps=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function id(e){ps(e)}function sd(e){console.error(e)}function rd(e){ps(e)}function bs(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function od(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function no(e,t,l){return l=ma(l),l.tag=3,l.payload={element:null},l.callback=function(){bs(e,t)},l}function ud(e){return e=ma(e),e.tag=3,e}function cd(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){od(t,l,a)}}var o=l.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){od(t,l,a),typeof n!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function _h(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&In(t,l,n,!0),l=Dl.current,l!==null){switch(l.tag){case 13:return Xl===null?No():l.alternate===null&&Rt===0&&(Rt=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===Or?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Mo(e,a,n)),!1;case 22:return l.flags|=65536,a===Or?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Mo(e,a,n)),!1}throw Error(d(435,l.tag))}return Mo(e,a,n),No(),!1}if(ht)return t=Dl.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Er&&(e=Error(d(422),{cause:a}),Pn(Tl(e,l)))):(a!==Er&&(t=Error(d(423),{cause:a}),Pn(Tl(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Tl(a,l),n=no(e.stateNode,a,n),Ur(e,n),Rt!==4&&(Rt=2)),!1;var i=Error(d(520),{cause:a});if(i=Tl(i,l),vi===null?vi=[i]:vi.push(i),Rt!==4&&(Rt=2),t===null)return!0;a=Tl(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=no(l.stateNode,a,e),Ur(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ja===null||!ja.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=ud(n),cd(n,e,l,a),Ur(l,n),!1}l=l.return}while(l!==null);return!1}var dd=Error(d(461)),Kt=!1;function Pt(e,t,l,a){t.child=e===null?td(t,null,l,a):Sn(t,e.child,l,a)}function fd(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}else o=a;return qa(t),a=Yr(e,t,l,o,i,n),u=Xr(),e!==null&&!Kt?(qr(e,t,n),na(e,t,n)):(ht&&u&&kr(t),t.flags|=1,Pt(e,t,a,n),t.child)}function gd(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!wr(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,hd(e,t,i,a,n)):(e=Wi(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!go(e,n)){var o=i.memoizedProps;if(l=l.compare,l=l!==null?l:Kn,l(o,a)&&e.ref===t.ref)return na(e,t,n)}return t.flags|=1,e=Fl(i,a),e.ref=t.ref,e.return=t,t.child=e}function hd(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(Kn(i,a)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=a=i,go(e,n))(e.flags&131072)!==0&&(Kt=!0);else return t.lanes=e.lanes,na(e,t,n)}return io(e,t,l,a,n)}function md(e,t,l){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=i!==null?i.baseLanes|l:l,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~a}else t.childLanes=0,t.child=null;return pd(e,t,a,l)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ts(t,i!==null?i.cachePool:null),i!==null?hc(t,i):Lr(),ld(t);else return t.lanes=t.childLanes=536870912,pd(e,t,i!==null?i.baseLanes|l:l,l)}else i!==null?(ts(t,i.cachePool),hc(t,i),va(),t.memoizedState=null):(e!==null&&ts(t,null),Lr(),va());return Pt(e,t,n,l),t.child}function pd(e,t,l,a){var n=Rr();return n=n===null?null:{parent:Xt._currentValue,pool:n},t.memoizedState={baseLanes:l,cachePool:n},e!==null&&ts(t,null),Lr(),ld(t),e!==null&&In(e,t,a,!0),null}function ys(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(d(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function io(e,t,l,a,n){return qa(t),l=Yr(e,t,l,a,void 0,n),a=Xr(),e!==null&&!Kt?(qr(e,t,n),na(e,t,n)):(ht&&a&&kr(t),t.flags|=1,Pt(e,t,l,n),t.child)}function bd(e,t,l,a,n,i){return qa(t),t.updateQueue=null,l=pc(t,a,l,n),mc(e),a=Xr(),e!==null&&!Kt?(qr(e,t,i),na(e,t,i)):(ht&&a&&kr(t),t.flags|=1,Pt(e,t,l,i),t.child)}function yd(e,t,l,a,n){if(qa(t),t.stateNode===null){var i=fn,o=l.contextType;typeof o=="object"&&o!==null&&(i=al(o)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ao,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Dr(t),o=l.contextType,i.context=typeof o=="object"&&o!==null?al(o):fn,i.state=t.memoizedState,o=l.getDerivedStateFromProps,typeof o=="function"&&(lo(t,l,o,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&ao.enqueueReplaceState(i,i.state,null),si(t,a,i,n),ii(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,f=Qa(l,u);i.props=f;var w=i.context,O=l.contextType;o=fn,typeof O=="object"&&O!==null&&(o=al(O));var Y=l.getDerivedStateFromProps;O=typeof Y=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,O||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||w!==o)&&nd(t,i,a,o),ha=!1;var j=t.memoizedState;i.state=j,si(t,a,i,n),ii(),w=t.memoizedState,u||j!==w||ha?(typeof Y=="function"&&(lo(t,l,Y,a),w=t.memoizedState),(f=ha||ad(t,l,f,a,j,w,o))?(O||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=w),i.props=a,i.state=w,i.context=o,a=f):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,zr(e,t),o=t.memoizedProps,O=Qa(l,o),i.props=O,Y=t.pendingProps,j=i.context,w=l.contextType,f=fn,typeof w=="object"&&w!==null&&(f=al(w)),u=l.getDerivedStateFromProps,(w=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==Y||j!==f)&&nd(t,i,a,f),ha=!1,j=t.memoizedState,i.state=j,si(t,a,i,n),ii();var C=t.memoizedState;o!==Y||j!==C||ha||e!==null&&e.dependencies!==null&&Ii(e.dependencies)?(typeof u=="function"&&(lo(t,l,u,a),C=t.memoizedState),(O=ha||ad(t,l,O,a,j,C,f)||e!==null&&e.dependencies!==null&&Ii(e.dependencies))?(w||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,C,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,C,f)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=C),i.props=a,i.state=C,i.context=f,a=O):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,ys(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Sn(t,e.child,null,n),t.child=Sn(t,null,l,n)):Pt(e,t,l,n),t.memoizedState=i.state,e=t.child):e=na(e,t,n),e}function vd(e,t,l,a){return Fn(),t.flags|=256,Pt(e,t,l,a),t.child}var so={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ro(e){return{baseLanes:e,cachePool:sc()}}function oo(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=zl),e}function xd(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(qt.current&2)!==0),o&&(n=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(ht){if(n?ya(t):va(),ht){var u=Mt,f;if(f=u){e:{for(f=u,u=Yl;f.nodeType!==8;){if(!u){u=null;break e}if(f=Gl(f.nextSibling),f===null){u=null;break e}}u=f}u!==null?(t.memoizedState={dehydrated:u,treeContext:La!==null?{id:Pl,overflow:Il}:null,retryLane:536870912,hydrationErrors:null},f=vl(18,null,null,0),f.stateNode=u,f.return=t,t.child=f,sl=t,Mt=null,f=!0):f=!1}f||Ya(t)}if(u=t.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Qo(u)?t.lanes=32:t.lanes=536870912,null;aa(t)}return u=a.children,a=a.fallback,n?(va(),n=t.mode,u=vs({mode:"hidden",children:u},n),a=Ba(a,n,l,null),u.return=t,a.return=t,u.sibling=a,t.child=u,n=t.child,n.memoizedState=ro(l),n.childLanes=oo(e,o,l),t.memoizedState=so,a):(ya(t),uo(t,u))}if(f=e.memoizedState,f!==null&&(u=f.dehydrated,u!==null)){if(i)t.flags&256?(ya(t),t.flags&=-257,t=co(e,t,l)):t.memoizedState!==null?(va(),t.child=e.child,t.flags|=128,t=null):(va(),n=a.fallback,u=t.mode,a=vs({mode:"visible",children:a.children},u),n=Ba(n,u,l,null),n.flags|=2,a.return=t,n.return=t,a.sibling=n,t.child=a,Sn(t,e.child,null,l),a=t.child,a.memoizedState=ro(l),a.childLanes=oo(e,o,l),t.memoizedState=so,t=n);else if(ya(t),Qo(u)){if(o=u.nextSibling&&u.nextSibling.dataset,o)var w=o.dgst;o=w,a=Error(d(419)),a.stack="",a.digest=o,Pn({value:a,source:null,stack:null}),t=co(e,t,l)}else if(Kt||In(e,t,l,!1),o=(l&e.childLanes)!==0,Kt||o){if(o=kt,o!==null&&(a=l&-l,a=(a&42)!==0?1:qe(a),a=(a&(o.suspendedLanes|l))!==0?0:a,a!==0&&a!==f.retryLane))throw f.retryLane=a,dn(e,a),kl(o,e,a),dd;u.data==="$?"||No(),t=co(e,t,l)}else u.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=f.treeContext,Mt=Gl(u.nextSibling),sl=t,ht=!0,Ga=null,Yl=!1,e!==null&&(Rl[Ol++]=Pl,Rl[Ol++]=Il,Rl[Ol++]=La,Pl=e.id,Il=e.overflow,La=t),t=uo(t,a.children),t.flags|=4096);return t}return n?(va(),n=a.fallback,u=t.mode,f=e.child,w=f.sibling,a=Fl(f,{mode:"hidden",children:a.children}),a.subtreeFlags=f.subtreeFlags&65011712,w!==null?n=Fl(w,n):(n=Ba(n,u,l,null),n.flags|=2),n.return=t,a.return=t,a.sibling=n,t.child=a,a=n,n=t.child,u=e.child.memoizedState,u===null?u=ro(l):(f=u.cachePool,f!==null?(w=Xt._currentValue,f=f.parent!==w?{parent:w,pool:w}:f):f=sc(),u={baseLanes:u.baseLanes|l,cachePool:f}),n.memoizedState=u,n.childLanes=oo(e,o,l),t.memoizedState=so,a):(ya(t),l=e.child,e=l.sibling,l=Fl(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=l,t.memoizedState=null,l)}function uo(e,t){return t=vs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function vs(e,t){return e=vl(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function co(e,t,l){return Sn(t,e.child,null,l),e=uo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ar(e.return,t,l)}function fo(e,t,l,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=l,i.tailMode=n)}function Sd(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(Pt(e,t,a.children,l),a=qt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wd(e,l,t);else if(e.tag===19)wd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(R(qt,a),n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&ms(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),fo(t,!1,n,l,i);break;case"backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ms(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}fo(t,!0,l,null,i);break;case"together":fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function na(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(In(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,l=Fl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Fl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function go(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ii(e)))}function kh(e,t,l){switch(t.tag){case 3:Re(t,t.stateNode.containerInfo),ga(t,Xt,e.memoizedState.cache),Fn();break;case 27:case 5:be(t);break;case 4:Re(t,t.stateNode.containerInfo);break;case 10:ga(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ya(t),t.flags|=128,null):(l&t.child.childLanes)!==0?xd(e,t,l):(ya(t),e=na(e,t,l),e!==null?e.sibling:null);ya(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(In(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return Sd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),R(qt,qt.current),a)break;return null;case 22:case 23:return t.lanes=0,md(e,t,l);case 24:ga(t,Xt,e.memoizedState.cache)}return na(e,t,l)}function _d(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Kt=!0;else{if(!go(e,l)&&(t.flags&128)===0)return Kt=!1,kh(e,t,l);Kt=(e.flags&131072)!==0}else Kt=!1,ht&&(t.flags&1048576)!==0&&Iu(t,Pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,n=a._init;if(a=n(a._payload),t.type=a,typeof a=="function")wr(a)?(e=Qa(a,e),t.tag=1,t=yd(null,t,a,e,l)):(t.tag=0,t=io(null,t,a,e,l));else{if(a!=null){if(n=a.$$typeof,n===xe){t.tag=11,t=fd(null,t,a,e,l);break e}else if(n===we){t.tag=14,t=gd(null,t,a,e,l);break e}}throw t=Ae(a)||a,Error(d(306,t,""))}}return t;case 0:return io(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=Qa(a,t.pendingProps),yd(e,t,a,n,l);case 3:e:{if(Re(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,zr(e,t),si(t,a,null,l);var o=t.memoizedState;if(a=o.cache,ga(t,Xt,a),a!==i.cache&&Nr(t,[Xt],l,!0),ii(),a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=vd(e,t,a,l);break e}else if(a!==n){n=Tl(Error(d(424)),t),Pn(n),t=vd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Mt=Gl(e.firstChild),sl=t,ht=!0,Ga=null,Yl=!0,l=td(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Fn(),a===n){t=na(e,t,l);break e}Pt(e,t,a,l)}t=t.child}return t;case 26:return ys(e,t),e===null?(l=Af(t.type,null,t.pendingProps,null))?t.memoizedState=l:ht||(l=t.type,e=t.pendingProps,a=Os(J.current).createElement(l),a[Pe]=t,a[tt]=e,el(a,l,e),We(a),t.stateNode=a):t.memoizedState=Af(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&ht&&(a=t.stateNode=jf(t.type,t.pendingProps,J.current),sl=t,Yl=!0,n=Mt,Aa(t.type)?(Zo=n,Mt=Gl(a.firstChild)):Mt=n),Pt(e,t,t.pendingProps.children,l),ys(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ht&&((n=a=Mt)&&(a=Ph(a,t.type,t.pendingProps,Yl),a!==null?(t.stateNode=a,sl=t,Mt=Gl(a.firstChild),Yl=!1,n=!0):n=!1),n||Ya(t)),be(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,qo(n,i)?a=null:o!==null&&qo(n,o)&&(t.flags|=32),t.memoizedState!==null&&(n=Yr(e,t,ph,null,null,l),Ai._currentValue=n),ys(e,t),Pt(e,t,a,l),t.child;case 6:return e===null&&ht&&((e=l=Mt)&&(l=Ih(l,t.pendingProps,Yl),l!==null?(t.stateNode=l,sl=t,Mt=null,e=!0):e=!1),e||Ya(t)),null;case 13:return xd(e,t,l);case 4:return Re(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Sn(t,null,a,l):Pt(e,t,a,l),t.child;case 11:return fd(e,t,t.type,t.pendingProps,l);case 7:return Pt(e,t,t.pendingProps,l),t.child;case 8:return Pt(e,t,t.pendingProps.children,l),t.child;case 12:return Pt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,ga(t,t.type,a.value),Pt(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,qa(t),n=al(n),a=a(n),t.flags|=1,Pt(e,t,a,l),t.child;case 14:return gd(e,t,t.type,t.pendingProps,l);case 15:return hd(e,t,t.type,t.pendingProps,l);case 19:return Sd(e,t,l);case 31:return a=t.pendingProps,l=t.mode,a={mode:a.mode,children:a.children},e===null?(l=vs(a,l),l.ref=t.ref,t.child=l,l.return=t,t=l):(l=Fl(e.child,a),l.ref=t.ref,t.child=l,l.return=t,t=l),t;case 22:return md(e,t,l);case 24:return qa(t),a=al(Xt),e===null?(n=Rr(),n===null&&(n=kt,i=Tr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},Dr(t),ga(t,Xt,n)):((e.lanes&l)!==0&&(zr(e,t),si(t,null,null,l),ii()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ga(t,Xt,a)):(a=i.cache,ga(t,Xt,a),a!==n.cache&&Nr(t,[Xt],l,!0))),Pt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ia(e){e.flags|=4}function kd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Of(t)){if(t=Dl.current,t!==null&&((ct&4194048)===ct?Xl!==null:(ct&62914560)!==ct&&(ct&536870912)===0||t!==Xl))throw ai=Or,rc;e.flags|=8192}}function xs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ht():536870912,e.lanes|=t,En|=t)}function gi(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function jh(e,t,l){var a=t.pendingProps;switch(jr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Nt(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ta(Xt),lt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Wn(t)?ia(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,lc())),Nt(t),null;case 26:return l=t.memoizedState,e===null?(ia(t),l!==null?(Nt(t),kd(t,l)):(Nt(t),t.flags&=-16777217)):l?l!==e.memoizedState?(ia(t),Nt(t),kd(t,l)):(Nt(t),t.flags&=-16777217):(e.memoizedProps!==a&&ia(t),Nt(t),t.flags&=-16777217),null;case 27:F(t),l=J.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ia(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Nt(t),null}e=T.current,Wn(t)?ec(t):(e=jf(n,a,l),t.stateNode=e,ia(t))}return Nt(t),null;case 5:if(F(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ia(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Nt(t),null}if(e=T.current,Wn(t))ec(t);else{switch(n=Os(J.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?n.createElement("select",{is:a.is}):n.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?n.createElement(l,{is:a.is}):n.createElement(l)}}e[Pe]=t,e[tt]=a;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(el(e,l,a),l){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ia(t)}}return Nt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ia(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=J.current,Wn(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=sl,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||yf(e.nodeValue,l)),e||Ya(t)}else e=Os(e).createTextNode(a),e[Pe]=t,t.stateNode=e}return Nt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Wn(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(d(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(d(317));n[Pe]=t}else Fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Nt(t),n=!1}else n=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(aa(t),t):(aa(t),null)}if(aa(t),(t.flags&128)!==0)return t.lanes=l,t;if(l=a!==null,e=e!==null&&e.memoizedState!==null,l){a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool);var i=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)}return l!==e&&l&&(t.child.flags|=8192),xs(t,t.updateQueue),Nt(t),null;case 4:return lt(),e===null&&Lo(t.stateNode.containerInfo),Nt(t),null;case 10:return ta(t.type),Nt(t),null;case 19:if(W(qt),n=t.memoizedState,n===null)return Nt(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)gi(n,!1);else{if(Rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=ms(e),i!==null){for(t.flags|=128,gi(n,!1),e=i.updateQueue,t.updateQueue=e,xs(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Pu(l,e),l=l.sibling;return R(qt,qt.current&1|2),t.child}e=e.sibling}n.tail!==null&&Se()>_s&&(t.flags|=128,a=!0,gi(n,!1),t.lanes=4194304)}else{if(!a)if(e=ms(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,xs(t,e),gi(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ht)return Nt(t),null}else 2*Se()-n.renderingStartTime>_s&&l!==536870912&&(t.flags|=128,a=!0,gi(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Se(),t.sibling=null,e=qt.current,R(qt,a?e&1|2:e&1),t):(Nt(t),null);case 22:case 23:return aa(t),Hr(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),l=t.updateQueue,l!==null&&xs(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&W(Va),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ta(Xt),Nt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Eh(e,t){switch(jr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ta(Xt),lt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return F(t),null;case 13:if(aa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(qt),null;case 4:return lt(),null;case 10:return ta(t.type),null;case 22:case 23:return aa(t),Hr(),e!==null&&W(Va),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ta(Xt),null;case 25:return null;default:return null}}function jd(e,t){switch(jr(t),t.tag){case 3:ta(Xt),lt();break;case 26:case 27:case 5:F(t);break;case 4:lt();break;case 13:aa(t);break;case 19:W(qt);break;case 10:ta(t.type);break;case 22:case 23:aa(t),Hr(),e!==null&&W(Va);break;case 24:ta(Xt)}}function hi(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,o=l.inst;a=i(),o.destroy=a}l=l.next}while(l!==n)}}catch(u){_t(t,t.return,u)}}function xa(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var o=a.inst,u=o.destroy;if(u!==void 0){o.destroy=void 0,n=t;var f=l,w=u;try{w()}catch(O){_t(n,f,O)}}}a=a.next}while(a!==i)}}catch(O){_t(t,t.return,O)}}function Ed(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{gc(t,l)}catch(a){_t(e,e.return,a)}}}function Cd(e,t,l){l.props=Qa(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){_t(e,t,a)}}function mi(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){_t(e,t,n)}}function ql(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){_t(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){_t(e,t,n)}else l.current=null}function Ad(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){_t(e,e.return,n)}}function ho(e,t,l){try{var a=e.stateNode;Zh(a,e.type,l,t),a[tt]=t}catch(n){_t(e,e.return,n)}}function Nd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Aa(e.type)||e.tag===4}function mo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function po(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Rs));else if(a!==4&&(a===27&&Aa(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(po(e,t,l),e=e.sibling;e!==null;)po(e,t,l),e=e.sibling}function ws(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Aa(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ws(e,t,l),e=e.sibling;e!==null;)ws(e,t,l),e=e.sibling}function Td(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);el(t,a,l),t[Pe]=e,t[tt]=l}catch(i){_t(e,e.return,i)}}var sa=!1,Dt=!1,bo=!1,Md=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Ch(e,t){if(e=e.containerInfo,Yo=Hs,e=Xu(e),hr(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var o=0,u=-1,f=-1,w=0,O=0,Y=e,j=null;t:for(;;){for(var C;Y!==l||n!==0&&Y.nodeType!==3||(u=o+n),Y!==i||a!==0&&Y.nodeType!==3||(f=o+a),Y.nodeType===3&&(o+=Y.nodeValue.length),(C=Y.firstChild)!==null;)j=Y,Y=C;for(;;){if(Y===e)break t;if(j===l&&++w===n&&(u=o),j===i&&++O===a&&(f=o),(C=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=C}l=u===-1||f===-1?null:{start:u,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xo={focusedElem:e,selectionRange:l},Hs=!1,Jt=t;Jt!==null;)if(t=Jt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Jt=e;else for(;Jt!==null;){switch(t=Jt,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var Je=Qa(l.type,n,l.elementType===l.type);e=a.getSnapshotBeforeUpdate(Je,i),a.__reactInternalSnapshotBeforeUpdate=e}catch($e){_t(l,l.return,$e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)$o(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$o(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,Jt=e;break}Jt=t.return}}function Rd(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:wa(e,l),a&4&&hi(5,l);break;case 1:if(wa(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(o){_t(l,l.return,o)}else{var n=Qa(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){_t(l,l.return,o)}}a&64&&Ed(l),a&512&&mi(l,l.return);break;case 3:if(wa(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{gc(e,t)}catch(o){_t(l,l.return,o)}}break;case 27:t===null&&a&4&&Td(l);case 26:case 5:wa(e,l),t===null&&a&4&&Ad(l),a&512&&mi(l,l.return);break;case 12:wa(e,l);break;case 13:wa(e,l),a&4&&zd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Uh.bind(null,l),e0(e,l))));break;case 22:if(a=l.memoizedState!==null||sa,!a){t=t!==null&&t.memoizedState!==null||Dt,n=sa;var i=Dt;sa=a,(Dt=t)&&!i?Sa(e,l,(l.subtreeFlags&8772)!==0):wa(e,l),sa=n,Dt=i}break;case 30:break;default:wa(e,l)}}function Od(e){var t=e.alternate;t!==null&&(e.alternate=null,Od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ml(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,fl=!1;function ra(e,t,l){for(l=l.child;l!==null;)Dd(e,t,l),l=l.sibling}function Dd(e,t,l){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(te,l)}catch{}switch(l.tag){case 26:Dt||ql(l,t),ra(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Dt||ql(l,t);var a=Et,n=fl;Aa(l.type)&&(Et=l.stateNode,fl=!1),ra(e,t,l),ki(l.stateNode),Et=a,fl=n;break;case 5:Dt||ql(l,t);case 6:if(a=Et,n=fl,Et=null,ra(e,t,l),Et=a,fl=n,Et!==null)if(fl)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(l.stateNode)}catch(i){_t(l,t,i)}else try{Et.removeChild(l.stateNode)}catch(i){_t(l,t,i)}break;case 18:Et!==null&&(fl?(e=Et,_f(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ri(e)):_f(Et,l.stateNode));break;case 4:a=Et,n=fl,Et=l.stateNode.containerInfo,fl=!0,ra(e,t,l),Et=a,fl=n;break;case 0:case 11:case 14:case 15:Dt||xa(2,l,t),Dt||xa(4,l,t),ra(e,t,l);break;case 1:Dt||(ql(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Cd(l,t,a)),ra(e,t,l);break;case 21:ra(e,t,l);break;case 22:Dt=(a=Dt)||l.memoizedState!==null,ra(e,t,l),Dt=a;break;default:ra(e,t,l)}}function zd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ri(e)}catch(l){_t(t,t.return,l)}}function Ah(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Md),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Md),t;default:throw Error(d(435,e.tag))}}function yo(e,t){var l=Ah(e);t.forEach(function(a){var n=Bh.bind(null,e,a);l.has(a)||(l.add(a),a.then(n,n))})}function xl(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 27:if(Aa(u.type)){Et=u.stateNode,fl=!1;break e}break;case 5:Et=u.stateNode,fl=!1;break e;case 3:case 4:Et=u.stateNode.containerInfo,fl=!0;break e}u=u.return}if(Et===null)throw Error(d(160));Dd(i,o,n),Et=null,fl=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ud(t,e),t=t.sibling}var Hl=null;function Ud(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xl(t,e),wl(e),a&4&&(xa(3,e,e.return),hi(3,e),xa(5,e,e.return));break;case 1:xl(t,e),wl(e),a&512&&(Dt||l===null||ql(l,l.return)),a&64&&sa&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Hl;if(xl(t,e),wl(e),a&512&&(Dt||l===null||ql(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[tl]||i[Pe]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),el(i,a,l),i[Pe]=e,We(i),a=i;break e;case"link":var o=Mf("link","href",n).get(a+(l.href||""));if(o){for(var u=0;u<o.length;u++)if(i=o[u],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){o.splice(u,1);break t}}i=n.createElement(a),el(i,a,l),n.head.appendChild(i);break;case"meta":if(o=Mf("meta","content",n).get(a+(l.content||""))){for(u=0;u<o.length;u++)if(i=o[u],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){o.splice(u,1);break t}}i=n.createElement(a),el(i,a,l),n.head.appendChild(i);break;default:throw Error(d(468,a))}i[Pe]=e,We(i),a=i}e.stateNode=a}else Rf(n,e.type,e.stateNode);else e.stateNode=Tf(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Rf(n,e.type,e.stateNode):Tf(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ho(e,e.memoizedProps,l.memoizedProps)}break;case 27:xl(t,e),wl(e),a&512&&(Dt||l===null||ql(l,l.return)),l!==null&&a&4&&ho(e,e.memoizedProps,l.memoizedProps);break;case 5:if(xl(t,e),wl(e),a&512&&(Dt||l===null||ql(l,l.return)),e.flags&32){n=e.stateNode;try{an(n,"")}catch(C){_t(e,e.return,C)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,ho(e,n,l!==null?l.memoizedProps:n)),a&1024&&(bo=!0);break;case 6:if(xl(t,e),wl(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(C){_t(e,e.return,C)}}break;case 3:if(Us=null,n=Hl,Hl=Ds(t.containerInfo),xl(t,e),Hl=n,wl(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Ri(t.containerInfo)}catch(C){_t(e,e.return,C)}bo&&(bo=!1,Bd(e));break;case 4:a=Hl,Hl=Ds(e.stateNode.containerInfo),xl(t,e),wl(e),Hl=a;break;case 12:xl(t,e),wl(e);break;case 13:xl(t,e),wl(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ko=Se()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,yo(e,a)));break;case 22:n=e.memoizedState!==null;var f=l!==null&&l.memoizedState!==null,w=sa,O=Dt;if(sa=w||n,Dt=O||f,xl(t,e),Dt=O,sa=w,wl(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||f||sa||Dt||Za(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){f=l=t;try{if(i=f.stateNode,n)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{u=f.stateNode;var Y=f.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;u.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(C){_t(f,f.return,C)}}}else if(t.tag===6){if(l===null){f=t;try{f.stateNode.nodeValue=n?"":f.memoizedProps}catch(C){_t(f,f.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,yo(e,l))));break;case 19:xl(t,e),wl(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,yo(e,a)));break;case 30:break;case 21:break;default:xl(t,e),wl(e)}}function wl(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Nd(a)){l=a;break}a=a.return}if(l==null)throw Error(d(160));switch(l.tag){case 27:var n=l.stateNode,i=mo(e);ws(e,i,n);break;case 5:var o=l.stateNode;l.flags&32&&(an(o,""),l.flags&=-33);var u=mo(e);ws(e,u,o);break;case 3:case 4:var f=l.stateNode.containerInfo,w=mo(e);po(e,w,f);break;default:throw Error(d(161))}}catch(O){_t(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rd(e,t.alternate,t),t=t.sibling}function Za(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xa(4,t,t.return),Za(t);break;case 1:ql(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Cd(t,t.return,l),Za(t);break;case 27:ki(t.stateNode);case 26:case 5:ql(t,t.return),Za(t);break;case 22:t.memoizedState===null&&Za(t);break;case 30:Za(t);break;default:Za(t)}e=e.sibling}}function Sa(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Sa(n,i,l),hi(4,i);break;case 1:if(Sa(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(w){_t(a,a.return,w)}if(a=i,n=a.updateQueue,n!==null){var u=a.stateNode;try{var f=n.shared.hiddenCallbacks;if(f!==null)for(n.shared.hiddenCallbacks=null,n=0;n<f.length;n++)fc(f[n],u)}catch(w){_t(a,a.return,w)}}l&&o&64&&Ed(i),mi(i,i.return);break;case 27:Td(i);case 26:case 5:Sa(n,i,l),l&&a===null&&o&4&&Ad(i),mi(i,i.return);break;case 12:Sa(n,i,l);break;case 13:Sa(n,i,l),l&&o&4&&zd(n,i);break;case 22:i.memoizedState===null&&Sa(n,i,l),mi(i,i.return);break;case 30:break;default:Sa(n,i,l)}t=t.sibling}}function vo(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ei(l))}function xo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ei(e))}function Vl(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ld(e,t,l,a),t=t.sibling}function Ld(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,l,a),n&2048&&hi(9,t);break;case 1:Vl(e,t,l,a);break;case 3:Vl(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ei(e)));break;case 12:if(n&2048){Vl(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,u=i.onPostCommit;typeof u=="function"&&u(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){_t(t,t.return,f)}}else Vl(e,t,l,a);break;case 13:Vl(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Vl(e,t,l,a):pi(e,t):i._visibility&2?Vl(e,t,l,a):(i._visibility|=2,_n(e,t,l,a,(t.subtreeFlags&10256)!==0)),n&2048&&vo(o,t);break;case 24:Vl(e,t,l,a),n&2048&&xo(t.alternate,t);break;default:Vl(e,t,l,a)}}function _n(e,t,l,a,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,o=t,u=l,f=a,w=o.flags;switch(o.tag){case 0:case 11:case 15:_n(i,o,u,f,n),hi(8,o);break;case 23:break;case 22:var O=o.stateNode;o.memoizedState!==null?O._visibility&2?_n(i,o,u,f,n):pi(i,o):(O._visibility|=2,_n(i,o,u,f,n)),n&&w&2048&&vo(o.alternate,o);break;case 24:_n(i,o,u,f,n),n&&w&2048&&xo(o.alternate,o);break;default:_n(i,o,u,f,n)}t=t.sibling}}function pi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:pi(l,a),n&2048&&vo(a.alternate,a);break;case 24:pi(l,a),n&2048&&xo(a.alternate,a);break;default:pi(l,a)}t=t.sibling}}var bi=8192;function kn(e){if(e.subtreeFlags&bi)for(e=e.child;e!==null;)Hd(e),e=e.sibling}function Hd(e){switch(e.tag){case 26:kn(e),e.flags&bi&&e.memoizedState!==null&&g0(Hl,e.memoizedState,e.memoizedProps);break;case 5:kn(e);break;case 3:case 4:var t=Hl;Hl=Ds(e.stateNode.containerInfo),kn(e),Hl=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=bi,bi=16777216,kn(e),bi=t):kn(e));break;default:kn(e)}}function Gd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function yi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Jt=a,Xd(a,e)}Gd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yd(e),e=e.sibling}function Yd(e){switch(e.tag){case 0:case 11:case 15:yi(e),e.flags&2048&&xa(9,e,e.return);break;case 3:yi(e);break;case 12:yi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ss(e)):yi(e);break;default:yi(e)}}function Ss(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Jt=a,Xd(a,e)}Gd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xa(8,t,t.return),Ss(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Ss(t));break;default:Ss(t)}e=e.sibling}}function Xd(e,t){for(;Jt!==null;){var l=Jt;switch(l.tag){case 0:case 11:case 15:xa(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ei(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Jt=a;else e:for(l=e;Jt!==null;){a=Jt;var n=a.sibling,i=a.return;if(Od(a),a===l){Jt=null;break e}if(n!==null){n.return=i,Jt=n;break e}Jt=i}}}var Nh={getCacheForType:function(e){var t=al(Xt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l}},Th=typeof WeakMap=="function"?WeakMap:Map,bt=0,kt=null,st=null,ct=0,yt=0,Sl=null,_a=!1,jn=!1,wo=!1,oa=0,Rt=0,ka=0,Ka=0,So=0,zl=0,En=0,vi=null,gl=null,_o=!1,ko=0,_s=1/0,ks=null,ja=null,It=0,Ea=null,Cn=null,An=0,jo=0,Eo=null,qd=null,xi=0,Co=null;function _l(){if((bt&2)!==0&&ct!==0)return ct&-ct;if(b.T!==null){var e=mn;return e!==0?e:Do()}return k()}function Vd(){zl===0&&(zl=(ct&536870912)===0||ht?Ct():536870912);var e=Dl.current;return e!==null&&(e.flags|=32),zl}function kl(e,t,l){(e===kt&&(yt===2||yt===9)||e.cancelPendingCommit!==null)&&(Nn(e,0),Ca(e,ct,zl,!1)),$t(e,l),((bt&2)===0||e!==kt)&&(e===kt&&((bt&2)===0&&(Ka|=l),Rt===4&&Ca(e,ct,zl,!1)),$l(e))}function $d(e,t,l){if((bt&6)!==0)throw Error(d(327));var a=!l&&(t&124)===0&&(t&e.expiredLanes)===0||ge(e,t),n=a?Oh(e,t):To(e,t,!0),i=a;do{if(n===0){jn&&!a&&Ca(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!Mh(l)){n=To(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var u=e;n=vi;var f=u.current.memoizedState.isDehydrated;if(f&&(Nn(u,o).flags|=256),o=To(u,o,!1),o!==2){if(wo&&!f){u.errorRecoveryDisabledLanes|=i,Ka|=i,n=4;break e}i=gl,gl=n,i!==null&&(gl===null?gl=i:gl.push.apply(gl,i))}n=o}if(i=!1,n!==2)continue}}if(n===1){Nn(e,0),Ca(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Ca(a,t,zl,!_a);break e;case 2:gl=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(n=ko+300-Se(),10<n)){if(Ca(a,t,zl,!_a),D(a,0,!0)!==0)break e;a.timeoutHandle=wf(Qd.bind(null,a,l,gl,ks,_o,t,zl,Ka,En,_a,i,2,-0,0),n);break e}Qd(a,l,gl,ks,_o,t,zl,Ka,En,_a,i,0,-0,0)}}break}while(!0);$l(e)}function Qd(e,t,l,a,n,i,o,u,f,w,O,Y,j,C){if(e.timeoutHandle=-1,Y=t.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ci={stylesheets:null,count:0,unsuspend:f0},Hd(t),Y=h0(),Y!==null)){e.cancelPendingCommit=Y(Id.bind(null,e,t,i,l,a,n,o,u,f,O,1,j,C)),Ca(e,i,o,!w);return}Id(e,t,i,l,a,n,o,u,f)}function Mh(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!yl(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ca(e,t,l,a){t&=~So,t&=~Ka,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-Ne(n),o=1<<i;a[i]=-1,n&=~o}l!==0&&A(e,l,t)}function js(){return(bt&6)===0?(wi(0),!1):!0}function Ao(){if(st!==null){if(yt===0)var e=st.return;else e=st,ea=Xa=null,Vr(e),wn=null,di=0,e=st;for(;e!==null;)jd(e.alternate,e),e=e.return;st=null}}function Nn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Jh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Ao(),kt=e,st=l=Fl(e.current,null),ct=t,yt=0,Sl=null,_a=!1,jn=ge(e,t),wo=!1,En=zl=So=Ka=ka=Rt=0,gl=vi=null,_o=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-Ne(a),i=1<<n;t|=e[n],a&=~i}return oa=t,Zi(),l}function Zd(e,t){nt=null,b.H=fs,t===li||t===ls?(t=cc(),yt=3):t===rc?(t=cc(),yt=4):yt=t===dd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Sl=t,st===null&&(Rt=1,bs(e,Tl(t,e.current)))}function Kd(){var e=b.H;return b.H=fs,e===null?fs:e}function Jd(){var e=b.A;return b.A=Nh,e}function No(){Rt=4,_a||(ct&4194048)!==ct&&Dl.current!==null||(jn=!0),(ka&134217727)===0&&(Ka&134217727)===0||kt===null||Ca(kt,ct,zl,!1)}function To(e,t,l){var a=bt;bt|=2;var n=Kd(),i=Jd();(kt!==e||ct!==t)&&(ks=null,Nn(e,t)),t=!1;var o=Rt;e:do try{if(yt!==0&&st!==null){var u=st,f=Sl;switch(yt){case 8:Ao(),o=6;break e;case 3:case 2:case 9:case 6:Dl.current===null&&(t=!0);var w=yt;if(yt=0,Sl=null,Tn(e,u,f,w),l&&jn){o=0;break e}break;default:w=yt,yt=0,Sl=null,Tn(e,u,f,w)}}Rh(),o=Rt;break}catch(O){Zd(e,O)}while(!0);return t&&e.shellSuspendCounter++,ea=Xa=null,bt=a,b.H=n,b.A=i,st===null&&(kt=null,ct=0,Zi()),o}function Rh(){for(;st!==null;)Wd(st)}function Oh(e,t){var l=bt;bt|=2;var a=Kd(),n=Jd();kt!==e||ct!==t?(ks=null,_s=Se()+500,Nn(e,t)):jn=ge(e,t);e:do try{if(yt!==0&&st!==null){t=st;var i=Sl;t:switch(yt){case 1:yt=0,Sl=null,Tn(e,t,i,1);break;case 2:case 9:if(oc(i)){yt=0,Sl=null,Fd(t);break}t=function(){yt!==2&&yt!==9||kt!==e||(yt=7),$l(e)},i.then(t,t);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:oc(i)?(yt=0,Sl=null,Fd(t)):(yt=0,Sl=null,Tn(e,t,i,7));break;case 5:var o=null;switch(st.tag){case 26:o=st.memoizedState;case 5:case 27:var u=st;if(!o||Of(o)){yt=0,Sl=null;var f=u.sibling;if(f!==null)st=f;else{var w=u.return;w!==null?(st=w,Es(w)):st=null}break t}}yt=0,Sl=null,Tn(e,t,i,5);break;case 6:yt=0,Sl=null,Tn(e,t,i,6);break;case 8:Ao(),Rt=6;break e;default:throw Error(d(462))}}Dh();break}catch(O){Zd(e,O)}while(!0);return ea=Xa=null,b.H=a,b.A=n,bt=l,st!==null?0:(kt=null,ct=0,Zi(),Rt)}function Dh(){for(;st!==null&&!pe();)Wd(st)}function Wd(e){var t=_d(e.alternate,e,oa);e.memoizedProps=e.pendingProps,t===null?Es(e):st=t}function Fd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=bd(l,t,t.pendingProps,t.type,void 0,ct);break;case 11:t=bd(l,t,t.pendingProps,t.type.render,t.ref,ct);break;case 5:Vr(t);default:jd(l,t),t=st=Pu(t,oa),t=_d(l,t,oa)}e.memoizedProps=e.pendingProps,t===null?Es(e):st=t}function Tn(e,t,l,a){ea=Xa=null,Vr(t),wn=null,di=0;var n=t.return;try{if(_h(e,n,t,l,ct)){Rt=1,bs(e,Tl(l,e.current)),st=null;return}}catch(i){if(n!==null)throw st=n,i;Rt=1,bs(e,Tl(l,e.current)),st=null;return}t.flags&32768?(ht||a===1?e=!0:jn||(ct&536870912)!==0?e=!1:(_a=e=!0,(a===2||a===9||a===3||a===6)&&(a=Dl.current,a!==null&&a.tag===13&&(a.flags|=16384))),Pd(t,e)):Es(t)}function Es(e){var t=e;do{if((t.flags&32768)!==0){Pd(t,_a);return}e=t.return;var l=jh(t.alternate,t,oa);if(l!==null){st=l;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);Rt===0&&(Rt=5)}function Pd(e,t){do{var l=Eh(e.alternate,e);if(l!==null){l.flags&=32767,st=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){st=e;return}st=e=l}while(e!==null);Rt=6,st=null}function Id(e,t,l,a,n,i,o,u,f){e.cancelPendingCommit=null;do Cs();while(It!==0);if((bt&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=vr,zt(e,l,i,o,u,f),e===kt&&(st=kt=null,ct=0),Cn=t,Ea=e,An=l,jo=i,Eo=n,qd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Lh(ue,function(){return nf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=b.T,b.T=null,n=L.p,L.p=2,o=bt,bt|=4;try{Ch(e,t,l)}finally{bt=o,L.p=n,b.T=a}}It=1,ef(),tf(),lf()}}function ef(){if(It===1){It=0;var e=Ea,t=Cn,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=b.T,b.T=null;var a=L.p;L.p=2;var n=bt;bt|=4;try{Ud(t,e);var i=Xo,o=Xu(e.containerInfo),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Yu(u.ownerDocument.documentElement,u)){if(f!==null&&hr(u)){var w=f.start,O=f.end;if(O===void 0&&(O=w),"selectionStart"in u)u.selectionStart=w,u.selectionEnd=Math.min(O,u.value.length);else{var Y=u.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var C=j.getSelection(),Je=u.textContent.length,$e=Math.min(f.start,Je),St=f.end===void 0?$e:Math.min(f.end,Je);!C.extend&&$e>St&&(o=St,St=$e,$e=o);var m=Gu(u,$e),h=Gu(u,St);if(m&&h&&(C.rangeCount!==1||C.anchorNode!==m.node||C.anchorOffset!==m.offset||C.focusNode!==h.node||C.focusOffset!==h.offset)){var x=Y.createRange();x.setStart(m.node,m.offset),C.removeAllRanges(),$e>St?(C.addRange(x),C.extend(h.node,h.offset)):(x.setEnd(h.node,h.offset),C.addRange(x))}}}}for(Y=[],C=u;C=C.parentNode;)C.nodeType===1&&Y.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<Y.length;u++){var B=Y[u];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Hs=!!Yo,Xo=Yo=null}finally{bt=n,L.p=a,b.T=l}}e.current=t,It=2}}function tf(){if(It===2){It=0;var e=Ea,t=Cn,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=b.T,b.T=null;var a=L.p;L.p=2;var n=bt;bt|=4;try{Rd(e,t.alternate,t)}finally{bt=n,L.p=a,b.T=l}}It=3}}function lf(){if(It===4||It===3){It=0,Oe();var e=Ea,t=Cn,l=An,a=qd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?It=5:(It=0,Cn=Ea=null,af(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ja=null),ut(l),t=t.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(te,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=b.T,n=L.p,L.p=2,b.T=null;try{for(var i=e.onRecoverableError,o=0;o<a.length;o++){var u=a[o];i(u.value,{componentStack:u.stack})}}finally{b.T=t,L.p=n}}(An&3)!==0&&Cs(),$l(e),n=e.pendingLanes,(l&4194090)!==0&&(n&42)!==0?e===Co?xi++:(xi=0,Co=e):xi=0,wi(0)}}function af(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ei(t)))}function Cs(e){return ef(),tf(),lf(),nf()}function nf(){if(It!==5)return!1;var e=Ea,t=jo;jo=0;var l=ut(An),a=b.T,n=L.p;try{L.p=32>l?32:l,b.T=null,l=Eo,Eo=null;var i=Ea,o=An;if(It=0,Cn=Ea=null,An=0,(bt&6)!==0)throw Error(d(331));var u=bt;if(bt|=4,Yd(i.current),Ld(i,i.current,o,l),bt=u,wi(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(te,i)}catch{}return!0}finally{L.p=n,b.T=a,af(e,t)}}function sf(e,t,l){t=Tl(l,t),t=no(e.stateNode,t,2),e=pa(e,t,2),e!==null&&($t(e,2),$l(e))}function _t(e,t,l){if(e.tag===3)sf(e,e,l);else for(;t!==null;){if(t.tag===3){sf(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ja===null||!ja.has(a))){e=Tl(l,e),l=ud(2),a=pa(t,l,2),a!==null&&(cd(l,a,t,e),$t(a,2),$l(a));break}}t=t.return}}function Mo(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Th;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(wo=!0,n.add(l),e=zh.bind(null,e,t,l),t.then(e,e))}function zh(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,kt===e&&(ct&l)===l&&(Rt===4||Rt===3&&(ct&62914560)===ct&&300>Se()-ko?(bt&2)===0&&Nn(e,0):So|=l,En===ct&&(En=0)),$l(e)}function rf(e,t){t===0&&(t=Ht()),e=dn(e,t),e!==null&&($t(e,t),$l(e))}function Uh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),rf(e,l)}function Bh(e,t){var l=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),rf(e,l)}function Lh(e,t){return de(e,t)}var As=null,Mn=null,Ro=!1,Ns=!1,Oo=!1,Ja=0;function $l(e){e!==Mn&&e.next===null&&(Mn===null?As=Mn=e:Mn=Mn.next=e),Ns=!0,Ro||(Ro=!0,Gh())}function wi(e,t){if(!Oo&&Ns){Oo=!0;do for(var l=!1,a=As;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var o=a.suspendedLanes,u=a.pingedLanes;i=(1<<31-Ne(42|e)+1)-1,i&=n&~(o&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,df(a,i))}else i=ct,i=D(a,a===kt?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||ge(a,i)||(l=!0,df(a,i));a=a.next}while(l);Oo=!1}}function Hh(){of()}function of(){Ns=Ro=!1;var e=0;Ja!==0&&(Kh()&&(e=Ja),Ja=0);for(var t=Se(),l=null,a=As;a!==null;){var n=a.next,i=uf(a,t);i===0?(a.next=null,l===null?As=n:l.next=n,n===null&&(Mn=l)):(l=a,(e!==0||(i&3)!==0)&&(Ns=!0)),a=n}wi(e)}function uf(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-Ne(i),u=1<<o,f=n[o];f===-1?((u&l)===0||(u&a)!==0)&&(n[o]=dt(u,t)):f<=t&&(e.expiredLanes|=u),i&=~u}if(t=kt,l=ct,l=D(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(yt===2||yt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ye(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ge(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&ye(a),ut(l)){case 2:case 8:l=ze;break;case 32:l=ue;break;case 268435456:l=re;break;default:l=ue}return a=cf.bind(null,e),l=de(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&ye(a),e.callbackPriority=2,e.callbackNode=null,2}function cf(e,t){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Cs()&&e.callbackNode!==l)return null;var a=ct;return a=D(e,e===kt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:($d(e,a,t),uf(e,Se()),e.callbackNode!=null&&e.callbackNode===l?cf.bind(null,e):null)}function df(e,t){if(Cs())return null;$d(e,t,!0)}function Gh(){Wh(function(){(bt&6)!==0?de(ke,Hh):of()})}function Do(){return Ja===0&&(Ja=Ct()),Ja}function ff(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gi(""+e)}function gf(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Yh(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=ff((n[tt]||null).action),o=a.submitter;o&&(t=(t=o[tt]||null)?ff(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var u=new Vi("action","action",null,a,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ja!==0){var f=o?gf(n,o):new FormData(n);Ir(l,{pending:!0,data:f,method:n.method,action:i},null,f)}}else typeof i=="function"&&(u.preventDefault(),f=o?gf(n,o):new FormData(n),Ir(l,{pending:!0,data:f,method:n.method,action:i},i,f))},currentTarget:n}]})}}for(var zo=0;zo<yr.length;zo++){var Uo=yr[zo],Xh=Uo.toLowerCase(),qh=Uo[0].toUpperCase()+Uo.slice(1);Ll(Xh,"on"+qh)}Ll($u,"onAnimationEnd"),Ll(Qu,"onAnimationIteration"),Ll(Zu,"onAnimationStart"),Ll("dblclick","onDoubleClick"),Ll("focusin","onFocus"),Ll("focusout","onBlur"),Ll(sh,"onTransitionRun"),Ll(rh,"onTransitionStart"),Ll(oh,"onTransitionCancel"),Ll(Ku,"onTransitionEnd"),Zt("onMouseEnter",["mouseout","mouseover"]),Zt("onMouseLeave",["mouseout","mouseover"]),Zt("onPointerEnter",["pointerout","pointerover"]),Zt("onPointerLeave",["pointerout","pointerover"]),At("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),At("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),At("onBeforeInput",["compositionend","keypress","textInput","paste"]),At("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),At("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),At("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Si));function hf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var u=a[o],f=u.instance,w=u.currentTarget;if(u=u.listener,f!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=w;try{i(n)}catch(O){ps(O)}n.currentTarget=null,i=f}else for(o=0;o<a.length;o++){if(u=a[o],f=u.instance,w=u.currentTarget,u=u.listener,f!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=w;try{i(n)}catch(O){ps(O)}n.currentTarget=null,i=f}}}}function rt(e,t){var l=t[Ut];l===void 0&&(l=t[Ut]=new Set);var a=e+"__bubble";l.has(a)||(mf(t,e,2,!1),l.add(a))}function Bo(e,t,l){var a=0;t&&(a|=4),mf(l,e,a,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Lo(e){if(!e[Ts]){e[Ts]=!0,gt.forEach(function(l){l!=="selectionchange"&&(Vh.has(l)||Bo(l,!1,e),Bo(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,Bo("selectionchange",!1,t))}}function mf(e,t,l,a){switch(Hf(t)){case 2:var n=b0;break;case 8:n=y0;break;default:n=Po}l=n.bind(null,t,l,e),n=void 0,!ir||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Ho(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var u=a.stateNode.containerInfo;if(u===n)break;if(o===4)for(o=a.return;o!==null;){var f=o.tag;if((f===3||f===4)&&o.stateNode.containerInfo===n)return;o=o.return}for(;u!==null;){if(o=p(u),o===null)return;if(f=o.tag,f===5||f===6||f===26||f===27){a=i=o;continue e}u=u.parentNode}}a=a.return}wu(function(){var w=i,O=ar(l),Y=[];e:{var j=Ju.get(e);if(j!==void 0){var C=Vi,Je=e;switch(e){case"keypress":if(Xi(l)===0)break e;case"keydown":case"keyup":C=Lg;break;case"focusin":Je="focus",C=ur;break;case"focusout":Je="blur",C=ur;break;case"beforeblur":case"afterblur":C=ur;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Yg;break;case $u:case Qu:case Zu:C=Ng;break;case Ku:C=qg;break;case"scroll":case"scrollend":C=kg;break;case"wheel":C=$g;break;case"copy":case"cut":case"paste":C=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Eu;break;case"toggle":case"beforetoggle":C=Zg}var $e=(t&4)!==0,St=!$e&&(e==="scroll"||e==="scrollend"),m=$e?j!==null?j+"Capture":null:j;$e=[];for(var h=w,x;h!==null;){var B=h;if(x=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||x===null||m===null||(B=Yn(h,m),B!=null&&$e.push(_i(h,B,x))),St)break;h=h.return}0<$e.length&&(j=new C(j,Je,null,l,O),Y.push({event:j,listeners:$e}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",j&&l!==lr&&(Je=l.relatedTarget||l.fromElement)&&(p(Je)||Je[mt]))break e;if((C||j)&&(j=O.window===O?O:(j=O.ownerDocument)?j.defaultView||j.parentWindow:window,C?(Je=l.relatedTarget||l.toElement,C=w,Je=Je?p(Je):null,Je!==null&&(St=Q(Je),$e=Je.tag,Je!==St||$e!==5&&$e!==27&&$e!==6)&&(Je=null)):(C=null,Je=w),C!==Je)){if($e=ku,B="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&($e=Eu,B="onPointerLeave",m="onPointerEnter",h="pointer"),St=C==null?j:ae(C),x=Je==null?j:ae(Je),j=new $e(B,h+"leave",C,l,O),j.target=St,j.relatedTarget=x,B=null,p(O)===w&&($e=new $e(m,h+"enter",Je,l,O),$e.target=x,$e.relatedTarget=St,B=$e),St=B,C&&Je)t:{for($e=C,m=Je,h=0,x=$e;x;x=Rn(x))h++;for(x=0,B=m;B;B=Rn(B))x++;for(;0<h-x;)$e=Rn($e),h--;for(;0<x-h;)m=Rn(m),x--;for(;h--;){if($e===m||m!==null&&$e===m.alternate)break t;$e=Rn($e),m=Rn(m)}$e=null}else $e=null;C!==null&&pf(Y,j,C,$e,!1),Je!==null&&St!==null&&pf(Y,St,Je,$e,!0)}}e:{if(j=w?ae(w):window,C=j.nodeName&&j.nodeName.toLowerCase(),C==="select"||C==="input"&&j.type==="file")var Ce=Du;else if(Ru(j))if(zu)Ce=ah;else{Ce=th;var it=eh}else C=j.nodeName,!C||C.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?w&&tr(w.elementType)&&(Ce=Du):Ce=lh;if(Ce&&(Ce=Ce(e,w))){Ou(Y,Ce,l,O);break e}it&&it(e,j,w),e==="focusout"&&w&&j.type==="number"&&w.memoizedProps.value!=null&&er(j,"number",j.value)}switch(it=w?ae(w):window,e){case"focusin":(Ru(it)||it.contentEditable==="true")&&(on=it,mr=w,Jn=null);break;case"focusout":Jn=mr=on=null;break;case"mousedown":pr=!0;break;case"contextmenu":case"mouseup":case"dragend":pr=!1,qu(Y,l,O);break;case"selectionchange":if(ih)break;case"keydown":case"keyup":qu(Y,l,O)}var Ge;if(dr)e:{switch(e){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else rn?Tu(e,l)&&(Ze="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(Cu&&l.locale!=="ko"&&(rn||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&rn&&(Ge=Su()):(fa=O,sr="value"in fa?fa.value:fa.textContent,rn=!0)),it=Ms(w,Ze),0<it.length&&(Ze=new ju(Ze,e,null,l,O),Y.push({event:Ze,listeners:it}),Ge?Ze.data=Ge:(Ge=Mu(l),Ge!==null&&(Ze.data=Ge)))),(Ge=Jg?Wg(e,l):Fg(e,l))&&(Ze=Ms(w,"onBeforeInput"),0<Ze.length&&(it=new ju("onBeforeInput","beforeinput",null,l,O),Y.push({event:it,listeners:Ze}),it.data=Ge)),Yh(Y,e,w,l,O)}hf(Y,t)})}function _i(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ms(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Yn(e,l),n!=null&&a.unshift(_i(e,n,i)),n=Yn(e,t),n!=null&&a.push(_i(e,n,i))),e.tag===3)return a;e=e.return}return[]}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pf(e,t,l,a,n){for(var i=t._reactName,o=[];l!==null&&l!==a;){var u=l,f=u.alternate,w=u.stateNode;if(u=u.tag,f!==null&&f===a)break;u!==5&&u!==26&&u!==27||w===null||(f=w,n?(w=Yn(l,i),w!=null&&o.unshift(_i(l,w,f))):n||(w=Yn(l,i),w!=null&&o.push(_i(l,w,f)))),l=l.return}o.length!==0&&e.push({event:t,listeners:o})}var $h=/\r\n?/g,Qh=/\u0000|\uFFFD/g;function bf(e){return(typeof e=="string"?e:""+e).replace($h,`
`).replace(Qh,"")}function yf(e,t){return t=bf(t),bf(e)===t}function Rs(){}function wt(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||an(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&an(e,""+a);break;case"className":il(e,"class",a);break;case"tabIndex":il(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":il(e,l,a);break;case"style":vu(e,a,i);break;case"data":if(t!=="object"){il(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Gi(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&wt(e,t,"name",n.name,n,null),wt(e,t,"formEncType",n.formEncType,n,null),wt(e,t,"formMethod",n.formMethod,n,null),wt(e,t,"formTarget",n.formTarget,n,null)):(wt(e,t,"encType",n.encType,n,null),wt(e,t,"method",n.method,n,null),wt(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Gi(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Rs);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Gi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":rt("beforetoggle",e),rt("toggle",e),Yt(e,"popover",a);break;case"xlinkActuate":ll(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ll(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ll(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ll(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ll(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ll(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ll(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ll(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ll(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Yt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Sg.get(l)||l,Yt(e,l,a))}}function Go(e,t,l,a,n,i){switch(l){case"style":vu(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"children":typeof a=="string"?an(e,a):(typeof a=="number"||typeof a=="bigint")&&an(e,""+a);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ft.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[tt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Yt(e,l,a)}}}function el(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var o=l[i];if(o!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:wt(e,t,i,o,l,null)}}n&&wt(e,t,"srcSet",l.srcSet,l,null),a&&wt(e,t,"src",l.src,l,null);return;case"input":rt("invalid",e);var u=i=o=n=null,f=null,w=null;for(a in l)if(l.hasOwnProperty(a)){var O=l[a];if(O!=null)switch(a){case"name":n=O;break;case"type":o=O;break;case"checked":f=O;break;case"defaultChecked":w=O;break;case"value":i=O;break;case"defaultValue":u=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(d(137,t));break;default:wt(e,t,a,O,l,null)}}mu(e,i,u,f,w,o,n,!1),Jl(e);return;case"select":rt("invalid",e),a=o=i=null;for(n in l)if(l.hasOwnProperty(n)&&(u=l[n],u!=null))switch(n){case"value":i=u;break;case"defaultValue":o=u;break;case"multiple":a=u;default:wt(e,t,n,u,l,null)}t=i,l=o,e.multiple=!!a,t!=null?ln(e,!!a,t,!1):l!=null&&ln(e,!!a,l,!0);return;case"textarea":rt("invalid",e),i=n=a=null;for(o in l)if(l.hasOwnProperty(o)&&(u=l[o],u!=null))switch(o){case"value":a=u;break;case"defaultValue":n=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(d(91));break;default:wt(e,t,o,u,l,null)}bu(e,a,n,i),Jl(e);return;case"option":for(f in l)if(l.hasOwnProperty(f)&&(a=l[f],a!=null))switch(f){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:wt(e,t,f,a,l,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(a=0;a<Si.length;a++)rt(Si[a],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in l)if(l.hasOwnProperty(w)&&(a=l[w],a!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:wt(e,t,w,a,l,null)}return;default:if(tr(t)){for(O in l)l.hasOwnProperty(O)&&(a=l[O],a!==void 0&&Go(e,t,O,a,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(a=l[u],a!=null&&wt(e,t,u,a,l,null))}function Zh(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,o=null,u=null,f=null,w=null,O=null;for(C in l){var Y=l[C];if(l.hasOwnProperty(C)&&Y!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":f=Y;default:a.hasOwnProperty(C)||wt(e,t,C,null,a,Y)}}for(var j in a){var C=a[j];if(Y=l[j],a.hasOwnProperty(j)&&(C!=null||Y!=null))switch(j){case"type":i=C;break;case"name":n=C;break;case"checked":w=C;break;case"defaultChecked":O=C;break;case"value":o=C;break;case"defaultValue":u=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(d(137,t));break;default:C!==Y&&wt(e,t,j,C,a,Y)}}Is(e,o,u,f,w,O,i,n);return;case"select":C=o=u=j=null;for(i in l)if(f=l[i],l.hasOwnProperty(i)&&f!=null)switch(i){case"value":break;case"multiple":C=f;default:a.hasOwnProperty(i)||wt(e,t,i,null,a,f)}for(n in a)if(i=a[n],f=l[n],a.hasOwnProperty(n)&&(i!=null||f!=null))switch(n){case"value":j=i;break;case"defaultValue":u=i;break;case"multiple":o=i;default:i!==f&&wt(e,t,n,i,a,f)}t=u,l=o,a=C,j!=null?ln(e,!!l,j,!1):!!a!=!!l&&(t!=null?ln(e,!!l,t,!0):ln(e,!!l,l?[]:"",!1));return;case"textarea":C=j=null;for(u in l)if(n=l[u],l.hasOwnProperty(u)&&n!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:wt(e,t,u,null,a,n)}for(o in a)if(n=a[o],i=l[o],a.hasOwnProperty(o)&&(n!=null||i!=null))switch(o){case"value":j=n;break;case"defaultValue":C=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(d(91));break;default:n!==i&&wt(e,t,o,n,a,i)}pu(e,j,C);return;case"option":for(var Je in l)if(j=l[Je],l.hasOwnProperty(Je)&&j!=null&&!a.hasOwnProperty(Je))switch(Je){case"selected":e.selected=!1;break;default:wt(e,t,Je,null,a,j)}for(f in a)if(j=a[f],C=l[f],a.hasOwnProperty(f)&&j!==C&&(j!=null||C!=null))switch(f){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:wt(e,t,f,j,a,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in l)j=l[$e],l.hasOwnProperty($e)&&j!=null&&!a.hasOwnProperty($e)&&wt(e,t,$e,null,a,j);for(w in a)if(j=a[w],C=l[w],a.hasOwnProperty(w)&&j!==C&&(j!=null||C!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(d(137,t));break;default:wt(e,t,w,j,a,C)}return;default:if(tr(t)){for(var St in l)j=l[St],l.hasOwnProperty(St)&&j!==void 0&&!a.hasOwnProperty(St)&&Go(e,t,St,void 0,a,j);for(O in a)j=a[O],C=l[O],!a.hasOwnProperty(O)||j===C||j===void 0&&C===void 0||Go(e,t,O,j,a,C);return}}for(var m in l)j=l[m],l.hasOwnProperty(m)&&j!=null&&!a.hasOwnProperty(m)&&wt(e,t,m,null,a,j);for(Y in a)j=a[Y],C=l[Y],!a.hasOwnProperty(Y)||j===C||j==null&&C==null||wt(e,t,Y,j,a,C)}var Yo=null,Xo=null;function Os(e){return e.nodeType===9?e:e.ownerDocument}function vf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vo=null;function Kh(){var e=window.event;return e&&e.type==="popstate"?e===Vo?!1:(Vo=e,!0):(Vo=null,!1)}var wf=typeof setTimeout=="function"?setTimeout:void 0,Jh=typeof clearTimeout=="function"?clearTimeout:void 0,Sf=typeof Promise=="function"?Promise:void 0,Wh=typeof queueMicrotask=="function"?queueMicrotask:typeof Sf<"u"?function(e){return Sf.resolve(null).then(e).catch(Fh)}:wf;function Fh(e){setTimeout(function(){throw e})}function Aa(e){return e==="head"}function _f(e,t){var l=t,a=0,n=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(0<a&&8>a){l=a;var o=e.ownerDocument;if(l&1&&ki(o.documentElement),l&2&&ki(o.body),l&4)for(l=o.head,ki(l),o=l.firstChild;o;){var u=o.nextSibling,f=o.nodeName;o[tl]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&o.rel.toLowerCase()==="stylesheet"||l.removeChild(o),o=u}}if(n===0){e.removeChild(i),Ri(t);return}n--}else l==="$"||l==="$?"||l==="$!"?n++:a=l.charCodeAt(0)-48;else a=0;l=i}while(l);Ri(t)}function $o(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$o(l),ml(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Ph(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[tl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Gl(e.nextSibling),e===null)break}return null}function Ih(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Gl(e.nextSibling),e===null))return null;return e}function Qo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function e0(e,t){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Gl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Zo=null;function kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}function jf(e,t,l){switch(t=Os(l),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function ki(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ml(e)}var Ul=new Map,Ef=new Set;function Ds(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ua=L.d;L.d={f:t0,r:l0,D:a0,C:n0,L:i0,m:s0,X:o0,S:r0,M:u0};function t0(){var e=ua.f(),t=js();return e||t}function l0(e){var t=K(e);t!==null&&t.tag===5&&t.type==="form"?$c(t):ua.r(e)}var On=typeof document>"u"?null:document;function Cf(e,t,l){var a=On;if(a&&typeof t=="string"&&t){var n=Nl(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Ef.has(n)||(Ef.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),el(t,"link",e),We(t),a.head.appendChild(t)))}}function a0(e){ua.D(e),Cf("dns-prefetch",e,null)}function n0(e,t){ua.C(e,t),Cf("preconnect",e,t)}function i0(e,t,l){ua.L(e,t,l);var a=On;if(a&&e&&t){var n='link[rel="preload"][as="'+Nl(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Nl(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Nl(l.imageSizes)+'"]')):n+='[href="'+Nl(e)+'"]';var i=n;switch(t){case"style":i=Dn(e);break;case"script":i=zn(e)}Ul.has(i)||(e=z({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Ul.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(ji(i))||t==="script"&&a.querySelector(Ei(i))||(t=a.createElement("link"),el(t,"link",e),We(t),a.head.appendChild(t)))}}function s0(e,t){ua.m(e,t);var l=On;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Nl(a)+'"][href="'+Nl(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=zn(e)}if(!Ul.has(i)&&(e=z({rel:"modulepreload",href:e},t),Ul.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ei(i)))return}a=l.createElement("link"),el(a,"link",e),We(a),l.head.appendChild(a)}}}function r0(e,t,l){ua.S(e,t,l);var a=On;if(a&&e){var n=Ke(a).hoistableStyles,i=Dn(e);t=t||"default";var o=n.get(i);if(!o){var u={loading:0,preload:null};if(o=a.querySelector(ji(i)))u.loading=5;else{e=z({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Ul.get(i))&&Ko(e,l);var f=o=a.createElement("link");We(f),el(f,"link",e),f._p=new Promise(function(w,O){f.onload=w,f.onerror=O}),f.addEventListener("load",function(){u.loading|=1}),f.addEventListener("error",function(){u.loading|=2}),u.loading|=4,zs(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:u},n.set(i,o)}}}function o0(e,t){ua.X(e,t);var l=On;if(l&&e){var a=Ke(l).hoistableScripts,n=zn(e),i=a.get(n);i||(i=l.querySelector(Ei(n)),i||(e=z({src:e,async:!0},t),(t=Ul.get(n))&&Jo(e,t),i=l.createElement("script"),We(i),el(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function u0(e,t){ua.M(e,t);var l=On;if(l&&e){var a=Ke(l).hoistableScripts,n=zn(e),i=a.get(n);i||(i=l.querySelector(Ei(n)),i||(e=z({src:e,async:!0,type:"module"},t),(t=Ul.get(n))&&Jo(e,t),i=l.createElement("script"),We(i),el(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Af(e,t,l,a){var n=(n=J.current)?Ds(n):null;if(!n)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Dn(l.href),l=Ke(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Dn(l.href);var i=Ke(n).hoistableStyles,o=i.get(e);if(o||(n=n.ownerDocument||n,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=n.querySelector(ji(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Ul.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ul.set(e,l),i||c0(n,e,l,o.state))),t&&a===null)throw Error(d(528,""));return o}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zn(l),l=Ke(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Dn(e){return'href="'+Nl(e)+'"'}function ji(e){return'link[rel="stylesheet"]['+e+"]"}function Nf(e){return z({},e,{"data-precedence":e.precedence,precedence:null})}function c0(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),el(t,"link",l),We(t),e.head.appendChild(t))}function zn(e){return'[src="'+Nl(e)+'"]'}function Ei(e){return"script[async]"+e}function Tf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Nl(l.href)+'"]');if(a)return t.instance=a,We(a),a;var n=z({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),We(a),el(a,"style",n),zs(a,l.precedence,e),t.instance=a;case"stylesheet":n=Dn(l.href);var i=e.querySelector(ji(n));if(i)return t.state.loading|=4,t.instance=i,We(i),i;a=Nf(l),(n=Ul.get(n))&&Ko(a,n),i=(e.ownerDocument||e).createElement("link"),We(i);var o=i;return o._p=new Promise(function(u,f){o.onload=u,o.onerror=f}),el(i,"link",a),t.state.loading|=4,zs(i,l.precedence,e),t.instance=i;case"script":return i=zn(l.src),(n=e.querySelector(Ei(i)))?(t.instance=n,We(n),n):(a=l,(n=Ul.get(i))&&(a=z({},l),Jo(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),We(n),el(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,zs(a,l.precedence,e));return t.instance}function zs(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,o=0;o<a.length;o++){var u=a[o];if(u.dataset.precedence===t)i=u;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Ko(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Jo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Us=null;function Mf(e,t,l){if(Us===null){var a=new Map,n=Us=new Map;n.set(l,a)}else n=Us,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[tl]||i[Pe]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var u=a.get(o);u?u.push(i):a.set(o,[i])}}return a}function Rf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function d0(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Of(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ci=null;function f0(){}function g0(e,t,l){if(Ci===null)throw Error(d(475));var a=Ci;if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=Dn(l.href),i=e.querySelector(ji(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Bs.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=i,We(i);return}i=e.ownerDocument||e,l=Nf(l),(n=Ul.get(n))&&Ko(l,n),i=i.createElement("link"),We(i);var o=i;o._p=new Promise(function(u,f){o.onload=u,o.onerror=f}),el(i,"link",l),t.instance=i}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Bs.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function h0(){if(Ci===null)throw Error(d(475));var e=Ci;return e.stylesheets&&e.count===0&&Wo(e,e.stylesheets),0<e.count?function(t){var l=setTimeout(function(){if(e.stylesheets&&Wo(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Bs(){if(this.count--,this.count===0){if(this.stylesheets)Wo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ls=null;function Wo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ls=new Map,t.forEach(m0,e),Ls=null,Bs.call(e))}function m0(e,t){if(!(t.state.loading&4)){var l=Ls.get(e);if(l)var a=l.get(null);else{l=new Map,Ls.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var o=n[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(l.set(o.dataset.precedence,o),a=o)}a&&l.set(null,a)}n=t.instance,o=n.getAttribute("data-precedence"),i=l.get(o)||a,i===a&&l.set(null,n),l.set(o,n),this.count++,a=Bs.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Ai={$$typeof:v,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function p0(e,t,l,a,n,i,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Df(e,t,l,a,n,i,o,u,f,w,O,Y){return e=new p0(e,t,l,o,u,f,w,Y),t=1,i===!0&&(t|=24),i=vl(3,null,null,t),e.current=i,i.stateNode=e,t=Tr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},Dr(i),e}function zf(e){return e?(e=fn,e):fn}function Uf(e,t,l,a,n,i){n=zf(n),a.context===null?a.context=n:a.pendingContext=n,a=ma(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=pa(e,a,t),l!==null&&(kl(l,e,t),ni(l,e,t))}function Bf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Fo(e,t){Bf(e,t),(e=e.alternate)&&Bf(e,t)}function Lf(e){if(e.tag===13){var t=dn(e,67108864);t!==null&&kl(t,e,67108864),Fo(e,67108864)}}var Hs=!0;function b0(e,t,l,a){var n=b.T;b.T=null;var i=L.p;try{L.p=2,Po(e,t,l,a)}finally{L.p=i,b.T=n}}function y0(e,t,l,a){var n=b.T;b.T=null;var i=L.p;try{L.p=8,Po(e,t,l,a)}finally{L.p=i,b.T=n}}function Po(e,t,l,a){if(Hs){var n=Io(a);if(n===null)Ho(e,t,a,Gs,l),Gf(e,a);else if(x0(n,e,t,l,a))a.stopPropagation();else if(Gf(e,a),t&4&&-1<v0.indexOf(e)){for(;n!==null;){var i=K(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=at(i.pendingLanes);if(o!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;o;){var f=1<<31-Ne(o);u.entanglements[1]|=f,o&=~f}$l(i),(bt&6)===0&&(_s=Se()+500,wi(0))}}break;case 13:u=dn(i,2),u!==null&&kl(u,i,2),js(),Fo(i,2)}if(i=Io(a),i===null&&Ho(e,t,a,Gs,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else Ho(e,t,a,null,l)}}function Io(e){return e=ar(e),eu(e)}var Gs=null;function eu(e){if(Gs=null,e=p(e),e!==null){var t=Q(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=H(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gs=e,null}function Hf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case ke:return 2;case ze:return 8;case ue:case ee:return 32;case re:return 268435456;default:return 32}default:return 32}}var tu=!1,Na=null,Ta=null,Ma=null,Ni=new Map,Ti=new Map,Ra=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gf(e,t){switch(e){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ti.delete(t.pointerId)}}function Mi(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=K(t),t!==null&&Lf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function x0(e,t,l,a,n){switch(t){case"focusin":return Na=Mi(Na,e,t,l,a,n),!0;case"dragenter":return Ta=Mi(Ta,e,t,l,a,n),!0;case"mouseover":return Ma=Mi(Ma,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return Ni.set(i,Mi(Ni.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Ti.set(i,Mi(Ti.get(i)||null,e,t,l,a,n)),!0}return!1}function Yf(e){var t=p(e.target);if(t!==null){var l=Q(t);if(l!==null){if(t=l.tag,t===13){if(t=H(l),t!==null){e.blockedOn=t,Z(e.priority,function(){if(l.tag===13){var a=_l();a=qe(a);var n=dn(l,a);n!==null&&kl(n,l,a),Fo(l,a)}});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Io(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);lr=a,l.target.dispatchEvent(a),lr=null}else return t=K(l),t!==null&&Lf(t),e.blockedOn=l,!1;t.shift()}return!0}function Xf(e,t,l){Ys(e)&&l.delete(t)}function w0(){tu=!1,Na!==null&&Ys(Na)&&(Na=null),Ta!==null&&Ys(Ta)&&(Ta=null),Ma!==null&&Ys(Ma)&&(Ma=null),Ni.forEach(Xf),Ti.forEach(Xf)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,tu||(tu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w0)))}var qs=null;function qf(e){qs!==e&&(qs=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qs===e&&(qs=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(eu(a||l)===null)continue;break}var i=K(l);i!==null&&(e.splice(t,3),t-=3,Ir(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Ri(e){function t(f){return Xs(f,e)}Na!==null&&Xs(Na,e),Ta!==null&&Xs(Ta,e),Ma!==null&&Xs(Ma,e),Ni.forEach(t),Ti.forEach(t);for(var l=0;l<Ra.length;l++){var a=Ra[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ra.length&&(l=Ra[0],l.blockedOn===null);)Yf(l),l.blockedOn===null&&Ra.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],o=n[tt]||null;if(typeof i=="function")o||qf(l);else if(o){var u=null;if(i&&i.hasAttribute("formAction")){if(n=i,o=i[tt]||null)u=o.formAction;else if(eu(n)!==null)continue}else u=o.action;typeof u=="function"?l[a+1]=u:(l.splice(a,3),a-=3),qf(l)}}}function lu(e){this._internalRoot=e}Vs.prototype.render=lu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var l=t.current,a=_l();Uf(l,a,e,t,null,null)},Vs.prototype.unmount=lu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uf(e.current,2,null,e,null,null),js(),t[mt]=null}};function Vs(e){this._internalRoot=e}Vs.prototype.unstable_scheduleHydration=function(e){if(e){var t=k();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ra.length&&t!==0&&t<Ra[l].priority;l++);Ra.splice(l,0,e),l===0&&Yf(e)}};var Vf=_.version;if(Vf!=="19.1.1")throw Error(d(527,Vf,"19.1.1"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=X(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var S0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$s.isDisabled&&$s.supportsFiber)try{te=$s.inject(S0),ve=$s}catch{}}return Di.createRoot=function(e,t){if(!E(e))throw Error(d(299));var l=!1,a="",n=id,i=sd,o=rd,u=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(u=t.unstable_transitionCallbacks)),t=Df(e,1,!1,null,null,l,a,n,i,o,u,null),e[mt]=t.current,Lo(e),new lu(t)},Di.hydrateRoot=function(e,t,l){if(!E(e))throw Error(d(299));var a=!1,n="",i=id,o=sd,u=rd,f=null,w=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(o=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(f=l.unstable_transitionCallbacks),l.formState!==void 0&&(w=l.formState)),t=Df(e,1,!0,t,l??null,a,n,i,o,u,f,w),t.context=zf(null),l=t.current,a=_l(),a=qe(a),n=ma(a),n.callback=null,pa(l,n,a),l=a,t.current.lanes=l,$t(t,l),$l(t),e[mt]=t.current,Lo(e),new Vs(t)},Di.version="19.1.1",Di}var eg;function R0(){if(eg)return iu.exports;eg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(_){console.error(_)}}return r(),iu.exports=M0(),iu.exports}var O0=R0();const D0=mg(O0),U=(r,_)=>{typeof window.gtag=="function"?window.gtag("event",r,_):console.log(`GA Event (gtag not found): ${r}`,_)},z0=()=>{const r=new Date,_=r.getFullYear(),y=String(r.getMonth()+1).padStart(2,"0"),d=String(r.getDate()).padStart(2,"0"),E=String(r.getHours()).padStart(2,"0"),Q=String(r.getMinutes()).padStart(2,"0"),H=String(r.getSeconds()).padStart(2,"0");return`${_}${y}${d}-${E}${Q}${H}`},Li=r=>{const[_,y]=g.useState([r]),[d,E]=g.useState(0),Q=g.useCallback(z=>{const P=typeof z=="function"?z(_[d]):z;if(JSON.stringify(P)===JSON.stringify(_[d]))return;const $=_.slice(0,d+1);$.push(P),y($),E($.length-1)},[_,d]),H=g.useCallback(()=>{d>0&&E(d-1)},[d]),oe=g.useCallback(()=>{d<_.length-1&&E(d+1)},[d,_.length]),X=g.useCallback(z=>{const P={...r,...z},$=_.slice(0,d+1);$.push(P),y($),E($.length-1)},[r,_,d]),S=g.useCallback(z=>{y([z]),E(0)},[]);return{state:_[d],setState:Q,undo:H,redo:oe,reset:X,resetHistory:S,canUndo:d>0,canRedo:d<_.length-1}},Hi=({featureName:r,onFileSelectCallback:_,triggerShareToast:y})=>{const[d,E]=g.useState(null),[Q,H]=g.useState(null),[oe,X]=g.useState(!1),[S,z]=g.useState(!1),[P,$]=g.useState(null),me=g.useCallback((ne,Ye)=>{X(!0),U("upload_image",{feature:r,method:Ye});const he=new FileReader;he.onload=v=>{var se;const xe=(se=v.target)==null?void 0:se.result;E(xe),$(Date.now());const N=new Image;N.onload=()=>{H(N),X(!1),_()},N.onerror=()=>{U("upload_error",{feature:r,reason:"image_load_fail"}),E(null),H(null),X(!1)},N.src=xe},he.readAsDataURL(ne)},[r,_]),I=g.useCallback(async(ne,Ye,he,v,xe)=>{if(!S){z(!0);try{const N=performance.now(),se=await ne(),we=performance.now(),q=Math.round(we-N),ce={...he};if(P){const De=Math.round((Date.now()-P)/1e3);ce.duration_seconds=De}if(ce.generation_time_ms=q,U("download",ce),q>2e3&&U("slow_download",ce),se){const De=URL.createObjectURL(se),je=document.createElement("a"),Me=(xe==null?void 0:xe.extension)||"png";je.download=`${Ye}-${z0()}.${Me}`,je.href=De,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(De),v?v():y()}}catch(N){const se=N instanceof Error?N.message:String(N);console.error(`Error preparing ${r} for download:`,N),U("download_error",{feature:r,error:se})}finally{z(!1)}}},[S,P,r,y]),Te=g.useCallback(()=>{U("clear_image",{feature:r}),E(null),H(null),$(null),_()},[r,_]);return{imageSrc:d,image:Q,isLoading:oe,isDownloading:S,handleFileSelect:me,handleDownload:I,clearImage:Te}},Zl=({onFileSelect:r,isLoading:_,compact:y=!1,theme:d,accept:E="image/*",context:Q,isMobile:H=!1})=>{const oe=g.useRef(null),[X,S]=g.useState(!1),z=(N,se)=>{N&&(E==="image/*"||E.includes(N.type))?r(N,se):N&&U("upload_error",{feature:Q,reason:"unsupported_file_type",file_type:N.type})},P=N=>{N.preventDefault(),N.stopPropagation(),S(!0)},$=N=>{N.preventDefault(),N.stopPropagation(),S(!1)},me=N=>{N.preventDefault(),N.stopPropagation()},I=N=>{var we;N.preventDefault(),N.stopPropagation(),S(!1);const se=(we=N.dataTransfer.files)==null?void 0:we[0];z(se,"drag_drop")},Te=()=>{var N;(N=oe.current)==null||N.click()},ne=N=>{var we;const se=(we=N.target.files)==null?void 0:we[0];z(se,"click"),N.target&&(N.target.value="")},Ye=X?d==="dark"?"border-white bg-nothing-gray-dark":"border-black bg-day-gray-light":d==="dark"?"border-gray-600 bg-transparent hover:border-gray-400":"border-gray-400 bg-transparent hover:border-gray-600",he=H?"Drag & Drop or Click":"Drag & Drop | Click | Ctrl+V",v={pfp:{bold:he,normal:"to load an image"},wallpaper:{bold:he,normal:"to load an image"},photoWidget:{bold:he,normal:"to load an image"},valueAliasing:{bold:he,normal:"to load an image"},glassDots:{bold:he,normal:"to load an image"}},xe=Q&&v[Q]?v[Q]:{bold:"Drag & Drop Image Here",normal:"or click to browse"};return s.jsxs("div",{onClick:Te,onDrop:I,onDragOver:me,onDragEnter:P,onDragLeave:$,className:`w-full ${y?"":"flex-grow"} text-center border-2 border-dashed cursor-pointer transition-colors duration-300 flex items-center justify-center rounded-lg ${y?"py-4":""} ${Ye}`,children:[s.jsx("input",{type:"file",ref:oe,onChange:ne,accept:E,className:"hidden"}),s.jsx("div",{className:`flex flex-col items-center justify-center space-y-2 ${d==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:y?s.jsx("p",{className:"text-md font-semibold",children:"Replace Image"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-6xl",role:"img","aria-label":"Folder icon",children:""}),s.jsx("p",{className:`text-xl font-semibold ${d==="dark"?"text-nothing-light":"text-day-text"}`,children:xe.bold}),s.jsx("p",{className:"text-sm",children:xe.normal}),s.jsx("p",{className:"text-sm mt-1",children:"(all image processing happens locally)"})]})})]})},vt=({label:r,labelPrefix:_,value:y,min:d=0,max:E=100,step:Q=1,onChange:H,onChangeCommitted:oe,onReset:X,disabled:S,theme:z,isMobile:P})=>{const $=I=>{const Te=Math.max(d,Math.min(E,I));H(Te),oe(Te)},me=`slider-${r.replace(/\s+/g,"-")}`;return s.jsxs("div",{className:`${z==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} space-y-2`,children:[s.jsxs("label",{htmlFor:me,className:"text-sm",children:[_,r]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{id:me,type:"range",min:d,max:E,step:Q,value:y,onChange:I=>H(Number(I.target.value)),onMouseUp:()=>$(y),onTouchEnd:()=>$(y),disabled:S,className:`w-full h-2 appearance-none cursor-pointer disabled:opacity-50 rounded-lg ${z==="dark"?"bg-nothing-gray-dark accent-white":"bg-day-gray-light accent-black"} ${P?"touch-none":""}`}),s.jsx("div",{className:"w-16 text-center font-sans text-sm font-semibold tabular-nums",children:y}),s.jsx("button",{onClick:()=>{U("reset_single_control",{control_name:r}),X()},disabled:S,className:`${z==="dark"?"text-nothing-gray-light hover:text-white disabled:hover:text-nothing-gray-light":"text-day-gray-dark hover:text-black disabled:hover:text-day-gray-dark"} transition-colors disabled:opacity-50`,"aria-label":`Reset ${r}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[s.jsx("polyline",{points:"23 4 23 10 17 10"}),s.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})})]})]})},Pa=({onUndo:r,onRedo:_,canUndo:y,canRedo:d,theme:E})=>s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsxs("button",{onClick:r,disabled:!y,className:`flex items-center justify-center gap-2 px-4 py-2 text-sm font-semibold transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-md ${E==="dark"?"bg-gray-700 text-nothing-light hover:bg-gray-600 disabled:hover:bg-gray-700":"bg-gray-200 text-day-text hover:bg-gray-300 disabled:hover:bg-gray-200"}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("polyline",{points:"9 14 4 9 9 4"}),s.jsx("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"})]}),s.jsx("span",{children:"Undo"})]}),s.jsxs("button",{onClick:_,disabled:!d,className:`flex items-center justify-center gap-2 px-4 py-2 text-sm font-semibold transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-md ${E==="dark"?"bg-gray-700 text-nothing-light hover:bg-gray-600 disabled:hover:bg-gray-700":"bg-gray-200 text-day-text hover:bg-gray-300 disabled:hover:bg-gray-200"}`,children:[s.jsx("span",{children:"Redo"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("polyline",{points:"15 14 20 9 15 4"}),s.jsx("path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"})]})]})]}),hl=({options:r,selected:_,onSelect:y,theme:d})=>{const E="w-1/2 py-2 text-sm font-semibold transition-colors duration-200 focus:outline-none rounded-md flex items-center justify-center space-x-2",Q=d==="dark"?"bg-nothing-light text-nothing-dark font-bold":"bg-day-text text-day-bg font-bold",H=d==="dark"?"bg-nothing-gray-dark hover:bg-gray-700 text-nothing-light":"bg-day-gray-light hover:bg-gray-300 text-day-text";return s.jsx("div",{className:`flex space-x-1 p-1 rounded-lg ${d==="dark"?"bg-nothing-darker":"bg-gray-200"}`,children:r.map(oe=>s.jsx("button",{onClick:()=>y(oe.key),className:`${E} ${_===oe.key?Q:H}`,"aria-pressed":_===oe.key?"true":"false",children:oe.label},oe.key))})},Fa=({show:r,onClose:_,onShare:y,theme:d,isMobile:E,imageRendered:Q,className:H="",variant:oe="default"})=>{const X=Q?"bottom-20":"bottom-4",S=oe==="special",z=E?`fixed inset-x-4 ${X}`:"absolute bottom-8 right-8 w-full max-w-sm",[P,$]=g.useState(0),[me,I]=g.useState(!1),Te=g.useRef(0),ne=g.useRef(null),Ye=g.useRef(_);g.useEffect(()=>{Ye.current=_},[_]);const he=g.useCallback(()=>{ne.current&&clearTimeout(ne.current),ne.current=window.setTimeout(()=>{U("toast_dismiss",{method:"timeout"}),Ye.current()},9600)},[]),v=g.useCallback(()=>{ne.current&&(clearTimeout(ne.current),ne.current=null)},[]);g.useEffect(()=>(r?he():v(),v),[r,he,v]);const xe=De=>{E&&(v(),Te.current=De.touches[0].clientX,I(!0))},N=De=>{if(!E||!me)return;const je=De.touches[0].clientX-Te.current;je>0&&$(je)},se=()=>{E&&(I(!1),P>100?(U("toast_dismiss",{method:"swipe"}),_()):($(0),he()))};g.useEffect(()=>{r||setTimeout(()=>{$(0)},500)},[r]);const we=S?"Yay!! That's your first special theme creation!":"You seem to love it?!",q=S?"Keeping the secret to yourself would be too selfish.":"Help spread the word. Share it to the community thread.",ce=`block w-full text-center px-4 py-2 text-sm font-bold rounded-md transition-colors ${S?"easter-egg-glow":d==="dark"?"bg-nothing-light text-nothing-dark hover:bg-opacity-90":"bg-day-text text-day-bg hover:bg-opacity-90"}`;return s.jsx("div",{"aria-live":"polite",className:`z-50 transition-all duration-500 ease-in-out ${z} ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10 pointer-events-none"} ${H}`,onTouchStart:xe,onTouchMove:N,onTouchEnd:se,style:{transform:`translateX(${P}px)`,transition:me?"none":"transform 0.3s ease-out"},children:s.jsx("div",{className:`relative w-full rounded-lg shadow-2xl p-4 ${d==="dark"?"bg-nothing-gray-dark text-nothing-light":"bg-white text-day-text border border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center space-x-4 md:flex-col md:items-stretch md:space-y-3 md:space-x-0",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-semibold",children:we}),s.jsx("p",{className:`text-sm ${d==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:q})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("button",{onClick:()=>{U("share_community_toast_click",{variant:oe}),y(oe),_()},className:ce,children:"Share Now"})})]})})})},Ps=({show:r,onClose:_,theme:y,communityLink:d,appUrl:E,variant:Q="default"})=>{const[H,oe]=g.useState("Copy");g.useEffect(()=>{const q=ce=>{ce.key==="Escape"&&_()};return r?(document.body.style.overflow="hidden",window.addEventListener("keydown",q)):document.body.style.overflow="auto",()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",q)}},[r,_]);const X=Q==="special",S=`Create your own Nothing style dot-matrix imagery with Matrices: ${E}`,z=`${S}

#Matrices #NothingCommunity`,P="Have you unlocked the secret theme in Matrices Value Aliasing yet?  On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/",$=`#FeelingNothing

  Have you unlocked the secret theme in Matrices Value Aliasing yet? On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed!

https://udaign.github.io/matrices/`,me="Unlocked the secret theme in Matrices Value Aliasing! ",I="On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed!",Te=" Have you unlocked the secret theme in Matrices Value Aliasing yet? On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/",ne="Secret special theme in Matrices! ",Ye="Upload your image to Value Aliasing and on desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/",he="This community-made tool is just awesome! Have you unlocked the secret theme in Matrices Value Aliasing yet? On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! #FeelingNothing",v=X?P:E,xe=encodeURIComponent(E),N=()=>{navigator.clipboard.writeText(v),U("share_popup_copy_link",{variant:Q}),oe("Copied!"),setTimeout(()=>oe("Copy"),2e3)},se=[{name:"Nothing Community",icon:"nothing",href:d,color:"#2a2b7b"},{name:"X",icon:"x",href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(X?$:z)}`,color:"#000000"},{name:"Reddit",icon:"reddit",href:X?`https://www.reddit.com/submit?title=${encodeURIComponent(me)}&url=${xe}&text=${encodeURIComponent(I)}`:`https://www.reddit.com/submit?title=${encodeURIComponent("Just created this with Matrices!")}&url=${xe}`,color:"#FF4500"},{name:"WhatsApp",icon:"whatsapp",href:`https://api.whatsapp.com/send?text=${encodeURIComponent(X?Te:S)}`,color:"#25D366"},{name:"Email",icon:"email",href:X?`mailto:?subject=${encodeURIComponent(ne)}&body=${encodeURIComponent(Ye)}`:`mailto:?subject=${encodeURIComponent("Just created this with Matrices!")}&body=${encodeURIComponent(S)}`,color:"#4285F4"},{name:"LinkedIn",icon:"linkedin",href:`https://www.linkedin.com/sharing/share-offsite/?url=${xe}`,color:"#0A66C2"},{name:"Facebook",icon:"facebook",href:X?`https://www.facebook.com/sharer/sharer.php?u=${xe}&quote=${encodeURIComponent(he)}`:`https://www.facebook.com/sharer/sharer.php?u=${xe}`,color:"#1877F2"}],we={nothing:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#2a2b7b"})}),x:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:s.jsx("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.6.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"})}),reddit:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:[s.jsx("path",{d:"M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"}),s.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224q-.03.17-.029.353c0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"})]}),whatsapp:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:s.jsx("path",{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"})}),email:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),linkedin:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:s.jsx("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"})}),facebook:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-1.5c-1 0-1.5.5-1.5 1.5V12h3l-.5 3h-2.5v6.8c4.56-.93 8-4.96 8-9.8z"})}),copy:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),close:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})};return r?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-[2px]",onClick:_,role:"dialog","aria-modal":"true","aria-labelledby":"share-popup-title",children:s.jsxs("div",{className:`relative w-full max-w-xl m-4 p-6 rounded-lg shadow-2xl ${y==="dark"?"bg-nothing-darker text-nothing-light":"bg-white text-day-text"} animate-fade-in`,onClick:q=>q.stopPropagation(),children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h2",{id:"share-popup-title",className:"text-xl font-bold",children:"Share"})}),s.jsx("button",{onClick:_,className:`absolute top-3 right-3 p-2 rounded-full ${y==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Close share dialog",children:we.close}),s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-4 mb-6",children:se.map(q=>s.jsxs("a",{href:q.href,target:"_blank",rel:"noopener noreferrer",onClick:()=>U("share_popup_click",{platform:q.name,variant:Q}),className:"flex flex-col items-center space-y-2 text-center group",children:[s.jsx("div",{style:{backgroundColor:q.color},className:"h-14 w-14 rounded-full flex items-center justify-center transition-opacity group-hover:opacity-80",children:s.jsx("div",{className:"text-white w-7 h-7",children:we[q.icon]})}),s.jsx("span",{className:"text-sm",children:q.name})]},q.name))}),s.jsxs("div",{className:`flex items-center rounded-md border ${y==="dark"?"bg-nothing-dark border-nothing-gray-dark":"bg-day-gray-light border-gray-300"}`,children:[s.jsx("input",{type:"text",readOnly:!0,value:v,"aria-label":"Link to copy",className:`w-full p-2 bg-transparent text-base truncate focus:outline-none ${y==="dark"?"text-nothing-light":"text-day-text"}`}),s.jsxs("button",{onClick:N,className:`flex-shrink-0 flex items-center justify-center w-24 space-x-2 px-3 py-2 text-sm font-semibold rounded-r-md transition-all duration-300 ${H==="Copied!"?"bg-white text-nothing-dark":y==="dark"?"bg-nothing-red hover:brightness-90 text-nothing-light":"bg-day-accent hover:brightness-90 text-white"}`,children:[H==="Copy"&&s.jsx("span",{className:"w-5 h-5",children:we.copy}),s.jsx("span",{children:H})]})]})]})}):null},U0=({show:r,onClose:_,theme:y})=>{const[d,E]=g.useState("initial"),[Q,H]=g.useState("Copy UPI ID");g.useEffect(()=>{r&&(E("initial"),H("Copy UPI ID"))},[r]),g.useEffect(()=>{const $=me=>{me.key==="Escape"&&_()};return r&&window.addEventListener("keydown",$),()=>{window.removeEventListener("keydown",$)}},[r,_]);const oe=()=>{navigator.clipboard.writeText("udaybhaskar2283@okicici"),U("support_copy_upi_id"),H("Copied!"),setTimeout(()=>H("Copy UPI ID"),2e3)};if(!r)return null;const X=y==="dark"?"bg-nothing-darker text-nothing-light":"bg-white text-day-text",S="w-full text-center px-4 py-3 text-lg font-bold rounded-md transition-colors duration-300 flex items-center justify-center space-x-3",z=y==="dark"?"bg-nothing-gray-dark hover:bg-gray-700":"bg-day-gray-light hover:bg-gray-300",P={close:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),back:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),copy:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),paypal:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-paypal",viewBox:"0 0 16 16",children:s.jsx("path",{d:"M14.06 3.713c.12-1.071-.093-1.832-.702-2.526C12.628.356 11.312 0 9.626 0H4.734a.7.7 0 0 0-.691.59L2.005 13.509a.42.42 0 0 0 .415.486h2.756l-.202 1.28a.628.628 0 0 0 .62.726H8.14c.429 0 .793-.31.862-.731l.025-.13.48-3.043.03-.164.001-.007a.35.35 0 0 1 .348-.297h.38c1.266 0 2.425-.256 3.345-.91q.57-.403.993-1.005a4.94 4.94 0 0 0 .88-2.195c.242-1.246.13-2.356-.57-3.154a2.7 2.7 0 0 0-.76-.59l-.094-.061ZM6.543 8.82a.7.7 0 0 1 .321-.079H8.3c2.82 0 5.027-1.144 5.672-4.456l.003-.016q.326.186.548.438c.546.623.679 1.535.45 2.71-.272 1.397-.866 2.307-1.663 2.874-.802.57-1.842.815-3.043.815h-.38a.87.87 0 0 0-.863.734l-.03.164-.48 3.043-.024.13-.001.004a.35.35 0 0 1-.348.296H5.595a.106.106 0 0 1-.105-.123l.208-1.32z"})})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:_,role:"dialog","aria-modal":"true","aria-labelledby":"support-modal-title",children:s.jsxs("div",{className:`relative w-full max-w-sm m-4 p-6 rounded-lg shadow-2xl ${X}`,onClick:$=>$.stopPropagation(),children:[d==="upi"&&s.jsx("button",{onClick:()=>E("initial"),className:`absolute top-3 left-3 p-2 rounded-full ${y==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Back to support options",children:P.back}),s.jsx("button",{onClick:_,className:`absolute top-3 right-3 p-2 rounded-full ${y==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Close support dialog",children:P.close}),d==="initial"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{id:"support-modal-title",className:"text-2xl font-bold text-center mb-6",children:"Support Matrices"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("a",{href:"https://www.paypal.com/ncp/payment/72N9AB9VD4MJ4",target:"_blank",rel:"noopener noreferrer",className:`${S} bg-[#0070ba] text-white hover:bg-[#005ea6]`,onClick:()=>{U("support_paypal_click"),_()},children:[P.paypal,s.jsx("span",{children:"Pay with PayPal"})]}),s.jsxs("button",{onClick:()=>{E("upi"),U("support_upi_click")},className:`${S} ${z}`,children:[s.jsx("span",{className:"font-bold text-2xl leading-none",children:""}),s.jsx("span",{children:"Pay with UPI"})]})]})]}),d==="upi"&&s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pay with UPI"}),s.jsx("img",{src:"images/UPI-QRCode.png",alt:"UPI QR Code",width:"256",height:"256",className:"rounded-lg border-4 border-white mb-4"}),s.jsx("p",{className:`text-sm mb-4 ${y==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:"Scan the QR code with any UPI app"}),s.jsxs("div",{className:`w-full flex items-center rounded-md border ${y==="dark"?"bg-nothing-dark border-nothing-gray-dark":"bg-day-gray-light border-gray-300"}`,children:[s.jsx("input",{type:"text",readOnly:!0,value:"udaybhaskar2283@okicici","aria-label":"UPI ID",className:`w-full p-2 bg-transparent text-base truncate focus:outline-none ${y==="dark"?"text-nothing-light":"text-day-text"}`}),s.jsxs("button",{onClick:oe,className:`flex-shrink-0 flex items-center justify-center w-36 space-x-2 px-3 py-2 text-sm font-semibold rounded-r-md transition-all duration-300 ${Q==="Copied!"?"bg-white text-nothing-dark":y==="dark"?"bg-nothing-red hover:brightness-90 text-nothing-light":"bg-day-accent hover:brightness-90 text-white"}`,children:[Q==="Copy UPI ID"&&s.jsx("span",{className:"w-5 h-5",children:P.copy}),s.jsx("span",{children:Q})]})]})]})]})})},B0=({show:r,onClose:_,onSelect:y,theme:d})=>{if(g.useEffect(()=>{const oe=X=>{X.key==="Escape"&&_()};return r?(document.body.style.overflow="hidden",window.addEventListener("keydown",oe)):document.body.style.overflow="auto",()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",oe)}},[r,_]),!r)return null;const E=oe=>{U("share_target_select",{feature:oe}),y(oe)},Q=[{key:"valueAliasing",label:"Value Aliasing"},{key:"pfp",label:"Glyph Mirror"},{key:"glassDots",label:"Glass Dots"},{key:"wallpaper",label:"Matrix Wallpaper"},{key:"photoWidget",label:"Photo Widget"}],H={close:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-[2px]",onClick:_,role:"dialog","aria-modal":"true","aria-labelledby":"share-target-modal-title",children:s.jsxs("div",{className:`relative w-full max-w-md m-4 p-6 rounded-lg shadow-2xl ${d==="dark"?"bg-nothing-darker text-nothing-light":"bg-white text-day-text"} animate-fade-in`,onClick:oe=>oe.stopPropagation(),children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h2",{id:"share-target-modal-title",className:"text-xl font-bold",children:"Send image to..."})}),s.jsx("button",{onClick:_,className:`absolute top-3 right-3 p-2 rounded-full ${d==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Close share dialog",children:H.close}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Q.map(({key:oe,label:X})=>s.jsx("button",{onClick:()=>E(oe),className:`p-4 text-center font-semibold rounded-md transition-colors duration-200 ${d==="dark"?"bg-nothing-gray-dark hover:bg-gray-700":"bg-day-gray-light hover:bg-gray-300"}`,children:X},oe))})]})})},ca=1176,uu=50,Ql=50,L0="#000000",tg={resolution:Ql,exposure:Ql,contrast:Ql,pixelGap:Ql,isCircular:!1,isTransparent:!1,isAntiAliased:!1,isGlowEnabled:!1,glowIntensity:Ql,cropOffsetX:.5,cropOffsetY:.5},cu=(r,_)=>{const{width:y,height:d,isTransparent:E,gridColors:Q,matrixMask:H,diameter:oe,calculatedPixelGap:X,isCircular:S,padding:z,isGlowEnabled:P,glowIntensity:$}=_;E?r.clearRect(0,0,y,d):(r.fillStyle=L0,r.fillRect(0,0,y,d));const me=y-z*2;if(me<=0)return;const I=(oe-1)*X,ne=(me-I)/oe;ne<=0||Q.forEach((Ye,he)=>{Ye.forEach((v,xe)=>{var se;const N=((se=H[he])==null?void 0:se[xe])??0;if(v&&N>0){const we=z+xe*(ne+X),q=z+he*(ne+X),ce=ne*Math.pow(N,.35),De=(ne-ce)/2;if(r.fillStyle=v,S?(r.beginPath(),r.arc(we+ne/2,q+ne/2,ce/2,0,2*Math.PI),r.fill()):r.fillRect(we+De,q+De,ce,ce),P&&$>0){const je=parseInt(v.substring(4,v.indexOf(",")));if(je>30){r.save(),r.globalCompositeOperation="lighter";const Me=$/100,Be=ce*(1+Me*1.5),Ae=(ne-Be)/2,Ee=Math.pow(je/255,2)*Me*.5;r.fillStyle=`rgba(${je}, ${je}, ${je}, ${Ee})`,S?(r.beginPath(),r.arc(we+ne/2,q+ne/2,Be/2,0,2*Math.PI),r.fill()):r.fillRect(we+Ae,q+Ae,Be,Be),r.restore()}}}})})},H0=({theme:r,isMobile:_,footerLinks:y,triggerShareToast:d,handleShare:E})=>{const{state:Q,setState:H,undo:oe,redo:X,reset:S,canUndo:z,canRedo:P}=Li(tg),[$,me]=g.useState(Q),I=g.useRef(null),Te=g.useRef(null),[ne,Ye]=g.useState([]),{resolution:he,exposure:v,contrast:xe,pixelGap:N,isCircular:se,isTransparent:we,isAntiAliased:q,isGlowEnabled:ce,glowIntensity:De,cropOffsetX:je,cropOffsetY:Me}=$,{imageSrc:Be,image:Ae,isLoading:Ee,isDownloading:b,handleFileSelect:L,handleDownload:fe,clearImage:Le}=Hi({featureName:"pfp",onFileSelectCallback:S,triggerShareToast:d}),[c,M]=g.useState(!1),W=g.useRef(null);g.useEffect(()=>{if(!c)return;const G=te=>{W.current&&!W.current.contains(te.target)&&M(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[c]),g.useEffect(()=>{me(Q)},[Q]);const R=g.useMemo(()=>Math.floor((.32*he+9)/2)*2+1,[he]),T=g.useMemo(()=>R/2,[R]),le=g.useMemo(()=>T-.5,[T]),J=g.useMemo(()=>Ae?Math.abs(Ae.width/Ae.height-1)>.01:!1,[Ae]),_e=g.useMemo(()=>(v-50)*2,[v]),Re=g.useMemo(()=>xe<=50?xe/50:1+(xe-50)/50*2,[xe]),lt=g.useMemo(()=>N/100*27.6,[N]),be=g.useMemo(()=>{const G=Array(R).fill(0).map(()=>Array(R).fill(0)),te=(He,ot)=>Math.sqrt(Math.pow(He-le,2)+Math.pow(ot-le,2))<=T;if(!q){for(let He=0;He<R;He++)for(let ot=0;ot<R;ot++)G[He][ot]=te(ot,He)?1:0;return G}const ve=5,Fe=1/ve,Ne=ve*ve;for(let He=0;He<R;He++)for(let ot=0;ot<R;ot++)if(te(ot,He))G[He][ot]=1;else if(Math.sqrt(Math.pow(ot-le,2)+Math.pow(He-le,2))<T+1.5){let pt=0;for(let et=0;et<ve;et++)for(let Xe=0;Xe<ve;Xe++){const at=ot-.5+Fe*(Xe+.5)-le,D=He-.5+Fe*(et+.5)-le;Math.sqrt(at*at+D*D)<=T&&pt++}pt>0&&(G[He][ot]=pt/Ne)}return G},[R,le,T,q]),F=g.useCallback(()=>be.map(G=>G.map(te=>te>0?107:null)),[be]);g.useEffect(()=>{(()=>{if(Ae){const te=document.createElement("canvas");te.width=R,te.height=R;const ve=te.getContext("2d",{willReadFrequently:!0});if(!ve)return;ve.imageSmoothingEnabled=!1;const Fe=Ae.width/Ae.height;let Ne=0,He=0,ot=Ae.width,pt=Ae.height;Fe>1?(ot=Ae.height,Ne=(Ae.width-ot)*je):Fe<1&&(pt=Ae.width,He=(Ae.height-pt)*Me),ve.drawImage(Ae,Ne,He,ot,pt,0,0,R,R);const et=ve.getImageData(0,0,R,R).data,Xe=Array.from({length:R},(at,D)=>Array.from({length:R},(ge,dt)=>{var Ct;if(((Ct=be[D])==null?void 0:Ct[dt])>0){const Ht=(D*R+dt)*4;return Math.round(.299*et[Ht]+.587*et[Ht+1]+.114*et[Ht+2])}return null}));Ye(Xe)}else Ye(F())})()},[R,be,Ae,je,Me,F]);const V=g.useMemo(()=>ne.map(G=>G.map(te=>{if(te===null)return null;const ve=typeof te=="number"?te:te.r*.299+te.g*.587+te.b*.114;let Fe=Be?((ve/255-.5)*Re+.5)*255+_e:ve;const Ne=Math.round(Math.max(0,Math.min(255,Fe)));return`rgb(${Ne}, ${Ne}, ${Ne})`})),[ne,_e,Re,Be]);g.useEffect(()=>{const G=I.current;if(!G)return;const te=G.getContext("2d",{colorSpace:"display-p3"});if(!te||!V||V.length!==R||be.length!==R)return;cu(te,{width:ca,height:ca,isTransparent:we,gridColors:V,matrixMask:be,diameter:R,calculatedPixelGap:lt,isCircular:se,padding:uu,isGlowEnabled:ce,glowIntensity:De});const ve=Te.current;if(!ve)return;const Fe=ve.getContext("2d",{colorSpace:"display-p3"});if(!Fe)return;Fe.clearRect(0,0,ve.width,ve.height),we&&(Fe.fillStyle=r==="dark"?"#14151f":"#efefef",Fe.fillRect(0,0,ve.width,ve.height)),Fe.save(),Fe.beginPath(),Fe.arc(ve.width/2,ve.height/2,ve.width/2,0,Math.PI*2),Fe.clip();const Ne=ve.width/ca,He=uu*Ne,ot=lt*Ne;cu(Fe,{width:ve.width,height:ve.height,isTransparent:we,gridColors:V,matrixMask:be,diameter:R,calculatedPixelGap:ot,isCircular:se,padding:He,isGlowEnabled:ce,glowIntensity:De}),Fe.restore()},[V,lt,R,se,be,we,r,ce,De]);const de=g.useCallback(()=>new Promise(G=>{try{const te=document.createElement("canvas");te.width=ca,te.height=ca;const ve=te.getContext("2d",{colorSpace:"display-p3"});if(!ve)throw new Error("Failed to get canvas context for download.");cu(ve,{width:ca,height:ca,isTransparent:$.isTransparent,gridColors:V,matrixMask:be,diameter:R,calculatedPixelGap:lt,isCircular:$.isCircular,padding:uu,isGlowEnabled:$.isGlowEnabled,glowIntensity:$.glowIntensity}),te.toBlob(Fe=>G(Fe),"image/png")}catch(te){console.error("Error creating PFP blob:",te),G(null)}}),[$,V,be,R,lt]),ye=()=>{const G={feature:"pfp",setting_resolution:$.resolution,setting_exposure:$.exposure,setting_contrast:$.contrast,setting_pixel_gap:$.pixelGap,setting_is_circular:$.isCircular,setting_is_transparent:$.isTransparent,setting_is_anti_aliased:$.isAntiAliased,setting_is_glow_enabled:$.isGlowEnabled,setting_glow_intensity:$.glowIntensity};fe(de,"matrices-glyphmirror",G)},pe=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),Oe=g.useCallback(G=>{if(!J)return;G.preventDefault(),pe.current.isDragging=!0,pe.current.hasMoved=!1;const te="touches"in G?G.touches[0]:G;pe.current.startX=te.clientX,pe.current.startY=te.clientY,pe.current.initialOffsetX=$.cropOffsetX,pe.current.initialOffsetY=$.cropOffsetY,document.body.style.cursor="grabbing"},[J,$.cropOffsetX,$.cropOffsetY]),Se=g.useCallback(G=>{if(!pe.current.isDragging||!Ae)return;pe.current.hasMoved=!0;const te="touches"in G?G.touches[0]:G;let ve=te.clientX-pe.current.startX,Fe=te.clientY-pe.current.startY;const Ne=I.current;if(!Ne)return;const He=Ne.getBoundingClientRect();if(He.width<=0||He.height<=0)return;const ot=Ae.width/Ae.height;let pt=pe.current.initialOffsetX,et=pe.current.initialOffsetY;if(ot>1){const Xe=Ae.height,at=Ae.width-Xe;if(at>0){const D=ve/He.width;pt=pe.current.initialOffsetX-D*(Xe/at)}}else if(ot<1){const Xe=Ae.width,at=Ae.height-Xe;if(at>0){const D=Fe/He.height;et=pe.current.initialOffsetY-D*(Xe/at)}}me(Xe=>({...Xe,cropOffsetX:Math.max(0,Math.min(1,pt)),cropOffsetY:Math.max(0,Math.min(1,et))}))},[Ae]),Ve=g.useCallback(()=>{if(pe.current.isDragging){pe.current.isDragging=!1,pe.current.hasMoved&&U("pfp_crop");const{cropOffsetX:G,cropOffsetY:te}=$;H(ve=>({...ve,cropOffsetX:G,cropOffsetY:te})),document.body.style.cursor="default"}},[$,H]),ke=g.useCallback(()=>{U("pfp_reset_defaults"),H(G=>({...tg,cropOffsetX:G.cropOffsetX,cropOffsetY:G.cropOffsetY}))},[H]);g.useEffect(()=>{const G=ve=>Se(ve),te=()=>Ve();return document.addEventListener("mousemove",G),document.addEventListener("mouseup",te),document.addEventListener("touchmove",G),document.addEventListener("touchend",te),document.addEventListener("touchcancel",te),()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",te),document.removeEventListener("touchmove",G),document.removeEventListener("touchend",te),document.removeEventListener("touchcancel",te)}},[Se,Ve]);const ze=g.useMemo(()=>{const G=be.flat().reduce((te,ve)=>te+ve,0);return q?G.toFixed(2):G},[be,q]),ue=Be?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[s.jsx(Pa,{onUndo:()=>{oe(),U("pfp_undo")},onRedo:()=>{X(),U("pfp_redo")},canUndo:z,canRedo:P,theme:r}),s.jsxs("div",{className:"relative",ref:W,children:[s.jsx("button",{onClick:()=>{M(G=>!G),U("pfp_info_tooltip_toggle")},className:`flex items-center justify-center p-2.5 text-sm font-semibold transition-colors duration-200 rounded-md ${r==="dark"?"bg-gray-700 text-nothing-light hover:bg-gray-600":"bg-gray-200 text-day-text hover:bg-gray-300"}`,"aria-label":"Show info about recommended defaults",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),c&&s.jsxs("div",{role:"tooltip",className:`absolute z-10 w-max px-3 py-1.5 text-xs font-medium rounded-md shadow-lg pointer-events-none ${r==="dark"?"bg-nothing-light text-nothing-dark":"bg-day-text text-day-bg"} ${_?"bottom-full left-1/2 -translate-x-1/2 mb-2":"left-full top-1/2 -translate-y-1/2 ml-2"}`,children:[" = Recommended defaults",s.jsx("div",{className:`absolute w-0 h-0 ${_?`top-full left-1/2 -translate-x-1/2 border-x-4 border-x-transparent border-t-4 ${r==="dark"?"border-t-nothing-light":"border-t-day-text"}`:`top-1/2 -translate-y-1/2 right-full border-y-4 border-y-transparent border-r-4 ${r==="dark"?"border-r-nothing-light":"border-r-day-text"}`}`})]})]})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(vt,{theme:r,isMobile:_,label:"Exposure",value:v,onChange:G=>me(te=>({...te,exposure:G})),onChangeCommitted:G=>{H(te=>({...te,exposure:G})),U("pfp_slider_change",{slider_name:"exposure",value:G})},onReset:()=>H(G=>({...G,exposure:Ql})),disabled:!Be||Ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Contrast",value:xe,onChange:G=>me(te=>({...te,contrast:G})),onChangeCommitted:G=>{H(te=>({...te,contrast:G})),U("pfp_slider_change",{slider_name:"contrast",value:G})},onReset:()=>H(G=>({...G,contrast:Ql})),disabled:!Be||Ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Resolution",labelPrefix:s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mr-1",children:""})," "]}),value:he,onChange:G=>me(te=>({...te,resolution:G})),onChangeCommitted:G=>{H(te=>({...te,resolution:G})),U("pfp_slider_change",{slider_name:"resolution",value:G})},onReset:()=>H(G=>({...G,resolution:Ql})),disabled:Ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Pixel Gap",labelPrefix:s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mr-1",children:""})," "]}),value:N,onChange:G=>me(te=>({...te,pixelGap:G})),onChangeCommitted:G=>{H(te=>({...te,pixelGap:G})),U("pfp_slider_change",{slider_name:"pixel_gap",value:G})},onReset:()=>H(G=>({...G,pixelGap:Ql})),disabled:Ee})]}),s.jsxs("div",{className:`p-4 rounded-lg ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"glow-toggle",className:"text-sm",children:"Glow Effect"}),s.jsx("button",{id:"glow-toggle",role:"switch","aria-checked":ce,onClick:()=>{H(G=>({...G,isGlowEnabled:!G.isGlowEnabled})),U("pfp_toggle_change",{setting:"glow_effect",enabled:!Q.isGlowEnabled})},disabled:Ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${ce?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${ce?"translate-x-6":"translate-x-1"}`})})]}),s.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${ce?"max-h-48 opacity-100 pt-4":"max-h-0 opacity-0"}`,children:s.jsx(vt,{theme:r,isMobile:_,label:"Glow Intensity",value:De,onChange:G=>me(te=>({...te,glowIntensity:G})),onChangeCommitted:G=>{H(te=>({...te,glowIntensity:G})),U("pfp_slider_change",{slider_name:"glow_intensity",value:G})},onReset:()=>H(G=>({...G,glowIntensity:Ql})),disabled:Ee||!ce})})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"circular-toggle",className:"text-sm",children:"Circular Pixels"}),s.jsx("button",{id:"circular-toggle",role:"switch","aria-checked":se,onClick:()=>{H(G=>({...G,isCircular:!G.isCircular})),U("pfp_toggle_change",{setting:"circular_pixels",enabled:!Q.isCircular})},disabled:Ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${se?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${se?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"aa-toggle",className:"text-sm",children:"Anti-aliasing"}),s.jsx("button",{id:"aa-toggle",role:"switch","aria-checked":q,onClick:()=>{H(G=>({...G,isAntiAliased:!G.isAntiAliased})),U("pfp_toggle_change",{setting:"anti_aliasing",enabled:!Q.isAntiAliased})},disabled:Ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} disabled:opacity-50 ${q?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${q?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"transparent-toggle",className:"text-sm",children:"Transparent Output"}),s.jsx("button",{id:"transparent-toggle",role:"switch","aria-checked":we,onClick:()=>{H(G=>({...G,isTransparent:!G.isTransparent})),U("pfp_toggle_change",{setting:"transparent_output",enabled:!Q.isTransparent})},disabled:Ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${we?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${we?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:Le,disabled:Ee,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:ke,disabled:Ee,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset all controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:y})})]}):null;return{previewPanel:Be?s.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("header",{className:"text-center mb-4",children:s.jsxs("p",{className:`${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} text-sm md:text-base`,children:["Diameter: ",s.jsxs("span",{className:`font-semibold ${r==="dark"?"text-nothing-light":"text-day-text"}`,children:[R,"px"]})," | Pixels: ",s.jsx("span",{className:`font-semibold ${r==="dark"?"text-nothing-light":"text-day-text"}`,children:ze})]})}),s.jsx("div",{children:s.jsx("canvas",{ref:I,width:ca,height:ca,className:"w-full h-auto rounded-lg","aria-label":"Pixel Matrix Canvas",onMouseDown:Oe,onTouchStart:Oe,style:{cursor:J?"grab":"default",touchAction:J?"none":"auto"}})}),s.jsxs("div",{className:"flex flex-col items-center my-6",children:[s.jsx("p",{className:`text-sm ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} mb-2 text-center`,children:"Profile Picture Preview"}),s.jsx("canvas",{ref:Te,width:75,height:75,className:"rounded-full","aria-label":"Profile Picture Preview"})]})]}),s.jsx("button",{onClick:()=>E(),className:`absolute bottom-3 right-3 z-10 p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})})]}):s.jsx(Zl,{onFileSelect:L,isLoading:Ee,theme:r,context:"pfp",isMobile:_}),controlsPanel:ue,imageSrc:Be,isLoading:Ee,handleFileSelect:L,handleDownload:ye,downloadButton:s.jsx("button",{onClick:ye,disabled:Ee||b,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current image",children:" Download "}),replaceButton:s.jsx(Zl,{onFileSelect:L,isLoading:Ee,compact:!0,theme:r,isMobile:_}),getCanvasBlob:de,undo:oe,redo:X,canUndo:z,canRedo:P}};var Hn=pg();const bg={black:{color:"#000000",name:"Black BG"},white:{color:"#FFFFFF",name:"White BG"}},Bn=50,G0=1260,Y0=2800,X0=3840,q0=2160,V0=.0423936,$0=71.8848,lg={resolution:Bn,pixelGap:Bn,background:"black",cropOffsetX:.5,cropOffsetY:.5,isMonochrome:!1},ag={phone:{...lg},desktop:{...lg}},Q0=({theme:r,isMobile:_,footerLinks:y,triggerShareToast:d,handleShare:E,showSharePopup:Q,setShowSharePopup:H,communityLink:oe,appUrl:X,shareVariant:S})=>{const{state:z,setState:P,undo:$,redo:me,reset:I,canUndo:Te,canRedo:ne}=Li(ag),[Ye,he]=g.useState(z),[v,xe]=g.useState(_?"phone":"desktop"),[N,se]=g.useState(!1),[we,q]=g.useState(!1),ce=g.useRef(null),De=g.useRef(null),je=g.useRef(null),Me=g.useRef(null),[Be,Ae]=g.useState(!1),{imageSrc:Ee,image:b,isLoading:L,isDownloading:fe,handleFileSelect:Le,handleDownload:c,clearImage:M}=Hi({featureName:"wallpaper",onFileSelectCallback:I,triggerShareToast:d});g.useEffect(()=>{he(z)},[z]);const W=Ye[v],{resolution:R,pixelGap:T,background:le,cropOffsetX:J,cropOffsetY:_e,isMonochrome:Re}=W;g.useEffect(()=>{const D=()=>{document.fullscreenElement||(se(!1),Ae(!1))};return document.addEventListener("fullscreenchange",D),()=>document.removeEventListener("fullscreenchange",D)},[]);const lt=()=>{U("wallpaper_fullscreen_enter"),Hn.flushSync(()=>{se(!0)}),je.current&&je.current.requestFullscreen().catch(D=>{console.error(`Error attempting to enable full-screen mode: ${D.message} (${D.name})`),se(!1)})},be=g.useCallback(()=>{U("wallpaper_fullscreen_exit"),document.fullscreenElement?document.exitFullscreen():se(!1)},[]),F=g.useCallback(()=>{U("wallpaper_reset_defaults",{wallpaper_type:v}),P(D=>{const{cropOffsetX:ge,cropOffsetY:dt,background:Ct}=D[v];return{...D,[v]:{...ag[v],cropOffsetX:ge,cropOffsetY:dt,background:Ct}}})},[v,P]),[V,de]=g.useMemo(()=>v==="desktop"?[X0,q0]:[G0,Y0],[v]),ye=g.useMemo(()=>Math.floor(10+(v==="desktop"?R*4:R*1.2)/100*$0),[R,v]),pe=g.useMemo(()=>Math.round(ye*(de/V)),[ye,V,de]),Oe=g.useMemo(()=>T*V0,[T]),Se=g.useMemo(()=>b?Math.abs(b.width/b.height-V/de)>.01:!1,[b,V,de]);g.useEffect(()=>{var Pe;const D=N?De.current:ce.current;if(!D)return;const ge=D.getContext("2d",{colorSpace:"display-p3"});if(!ge||(ge.fillStyle=((Pe=bg[le])==null?void 0:Pe.color)||"#000000",ge.fillRect(0,0,V,de),!b))return;const dt=b.width/b.height,Ct=V/de;let Ht=0,Vt=0,$t=b.width,zt=b.height;dt>Ct?($t=b.height*Ct,Ht=(b.width-$t)*J):dt<Ct&&(zt=b.width/Ct,Vt=(b.height-zt)*_e);const A=document.createElement("canvas");A.width=ye,A.height=pe;const ie=A.getContext("2d",{willReadFrequently:!0});if(!ie)return;ie.imageSmoothingEnabled=!1,ie.drawImage(b,Ht,Vt,$t,zt,0,0,ye,pe);const qe=ie.getImageData(0,0,ye,pe).data,ut=(ye-1)*Oe,k=(pe-1)*Oe,Z=(V-ut)/ye,Ue=(de-k)/pe;for(let tt=0;tt<pe;tt++)for(let mt=0;mt<ye;mt++){const Ut=(tt*ye+mt)*4,Gt=qe[Ut],Qt=qe[Ut+1],jt=qe[Ut+2];if(Re){const K=Math.round(.299*Gt+.587*Qt+.114*jt);ge.fillStyle=`rgb(${K}, ${K}, ${K})`}else ge.fillStyle=`rgb(${Gt}, ${Qt}, ${jt})`;const tl=mt*(Z+Oe),ml=tt*(Ue+Oe),p=Math.min(Z,Ue)/2;if(p>0){ge.beginPath();const K=tl+Z/2,ae=ml+Ue/2;ge.arc(K,ae,p,0,2*Math.PI),ge.fill()}}},[b,ye,pe,Oe,le,V,de,J,_e,N,Re]);const Ve=g.useCallback(()=>new Promise(D=>{const ge=N?De.current:ce.current;ge?ge.toBlob(dt=>D(dt),"image/png"):D(null)}),[N]),ke=D=>{U("wallpaper_fullscreen_replace_image",{wallpaper_type:v}),Le(D,"click")},ze=()=>{var D;U("wallpaper_fullscreen_replace_image_click",{wallpaper_type:v}),(D=Me.current)==null||D.click()},ue=D=>{D.target.files&&D.target.files[0]&&ke(D.target.files[0]),D.target&&(D.target.value="")},ee=()=>{const D={feature:"wallpaper",wallpaper_type:v,setting_resolution:W.resolution,setting_pixel_gap:W.pixelGap,setting_background:W.background,setting_crop_offset_x:W.cropOffsetX,setting_crop_offset_y:W.cropOffsetY,setting_is_monochrome:W.isMonochrome};c(Ve,"matrices-wallpaper",D,()=>{N?d(()=>q(!0)):d()})},re=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),Qe=g.useCallback(D=>{if(!Se)return;D.preventDefault(),re.current.isDragging=!0,re.current.hasMoved=!1;const ge="touches"in D?D.touches[0]:D;re.current.startX=ge.clientX,re.current.startY=ge.clientY,re.current.initialOffsetX=Ye[v].cropOffsetX,re.current.initialOffsetY=Ye[v].cropOffsetY,document.body.style.cursor="grabbing"},[Se,Ye,v]),G=g.useCallback(D=>{if(!re.current.isDragging||!b)return;re.current.hasMoved=!0;const ge="touches"in D?D.touches[0]:D;let dt=ge.clientX-re.current.startX,Ct=ge.clientY-re.current.startY;const Ht=N?De.current:ce.current;if(Ht){const ut=Ht.getBoundingClientRect();if(ut.width>0&&ut.height>0){const k=V/ut.width,Z=de/ut.height;dt*=k,Ct*=Z}}const Vt=b.width/b.height,$t=V/de;let zt=0,A=0;Vt>$t?zt=de*Vt-V:Vt<$t&&(A=V/Vt-de);let ie=zt>0?re.current.initialOffsetX-dt/zt:re.current.initialOffsetX,qe=A>0?re.current.initialOffsetY-Ct/A:re.current.initialOffsetY;he(ut=>({...ut,[v]:{...ut[v],cropOffsetX:Math.max(0,Math.min(1,ie)),cropOffsetY:Math.max(0,Math.min(1,qe))}}))},[b,V,de,v,N]),te=g.useCallback(()=>{if(re.current.isDragging){re.current.isDragging=!1,re.current.hasMoved&&U("wallpaper_crop",{wallpaper_type:v});const{cropOffsetX:D,cropOffsetY:ge}=Ye[v];P(dt=>({...dt,[v]:{...dt[v],cropOffsetX:D,cropOffsetY:ge}})),document.body.style.cursor="default"}},[Ye,v,P]);g.useEffect(()=>{const D=dt=>G(dt),ge=()=>te();return document.addEventListener("mousemove",D),document.addEventListener("mouseup",ge),document.addEventListener("touchmove",D),document.addEventListener("touchend",ge),document.addEventListener("touchcancel",ge),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",ge),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",ge),document.removeEventListener("touchcancel",ge)}},[G,te]);const ve=D=>{U("wallpaper_type_select",{type:D}),xe(D)},Fe=D=>{U("wallpaper_bg_change",{color:D,wallpaper_type:v}),P(ge=>({...ge,[v]:{...ge[v],background:D}}))},Ne=()=>{U("wallpaper_toggle_change",{setting:"monochrome",enabled:!W.isMonochrome,wallpaper_type:v}),P(D=>({...D,[v]:{...D[v],isMonochrome:!D[v].isMonochrome}}))},He=[{key:"phone",label:"Phone"},{key:"desktop",label:"Desktop"}],ot=[{key:"white",label:"White BG"},{key:"black",label:"Black BG"}],pt=Ee?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-2 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(hl,{options:He,selected:v,onSelect:ve,theme:r}),s.jsx(hl,{options:ot,selected:W.background,onSelect:D=>Fe(D),theme:r})]}),s.jsx(Pa,{onUndo:()=>{$(),U("wallpaper_undo")},onRedo:()=>{me(),U("wallpaper_redo")},canUndo:Te,canRedo:ne,theme:r}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(vt,{theme:r,isMobile:_,label:"Resolution",value:R,onChange:D=>he(ge=>({...ge,[v]:{...ge[v],resolution:D}})),onChangeCommitted:D=>{P(ge=>({...ge,[v]:{...ge[v],resolution:D}})),U("wallpaper_slider_change",{slider_name:"resolution",value:D,wallpaper_type:v})},onReset:()=>P(D=>({...D,[v]:{...D[v],resolution:Bn}})),disabled:L}),s.jsx(vt,{theme:r,isMobile:_,label:"Pixel Gap",value:T,onChange:D=>he(ge=>({...ge,[v]:{...ge[v],pixelGap:D}})),onChangeCommitted:D=>{P(ge=>({...ge,[v]:{...ge[v],pixelGap:D}})),U("wallpaper_slider_change",{slider_name:"pixel_gap",value:D,wallpaper_type:v})},onReset:()=>P(D=>({...D,[v]:{...D[v],pixelGap:Bn}})),disabled:L})]}),s.jsx("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"monochrome-toggle",className:"text-sm",children:"Monochrome"}),s.jsx("button",{id:"monochrome-toggle",role:"switch","aria-checked":Re,onClick:Ne,disabled:L,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Re?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Re?"translate-x-6":"translate-x-1"}`})})]})}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:M,disabled:L,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:F,disabled:L,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset wallpaper controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:y})})]}):null;return{previewPanel:Ee?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:Me,onChange:ue,className:"hidden",accept:"image/*"}),s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[s.jsx("canvas",{ref:ce,width:V,height:de,className:`border-2 rounded-lg ${r==="dark"?"border-nothing-gray-dark":"border-gray-300"} ${v==="phone"?_?"w-4/5 h-auto":"max-h-full w-auto":"max-w-full max-h-full"}`,"aria-label":"Wallpaper Canvas",onMouseDown:Qe,onTouchStart:Qe,style:{cursor:Se?"grab":"default",touchAction:Se?"none":"auto"}}),s.jsxs("div",{className:"absolute bottom-3 right-3 z-10 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:lt,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Enter full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]}),N&&Hn.createPortal(s.jsxs("div",{ref:je,className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onMouseDown:D=>{D.target===D.currentTarget&&(re.current.hasMoved=!1)},onClick:D=>{D.target===D.currentTarget&&!re.current.hasMoved&&(Be?Ae(!1):be())},children:[s.jsx("canvas",{ref:De,width:V,height:de,className:"max-w-full max-h-full","aria-label":"Full-screen Wallpaper Canvas Preview",onMouseDown:Qe,onTouchStart:Qe,style:{cursor:Se?"grab":"default",touchAction:Se?"none":"auto"}}),Se&&s.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-2 py-1 rounded-md text-sm ${r==="dark"?"bg-nothing-dark/90 text-nothing-light":"bg-day-gray-light/90 text-day-text"} backdrop-blur-sm pointer-events-none`,children:" Drag to Crop"}),!_&&s.jsxs("div",{className:"fixed bottom-4 left-4 z-[51] w-80 flex flex-col items-start space-y-2",children:[s.jsx("div",{className:"w-full",children:Be?s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-4 max-h-[calc(100vh-10rem)] flex flex-col space-y-4 shadow-2xl`,children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h3",{className:`font-bold text-lg ${r==="dark"?"text-white":"text-day-text"}`,children:"Controls"}),s.jsx("button",{onClick:()=>{Ae(!1),U("wallpaper_fullscreen_controls_toggle",{open:!1})},className:`p-2 ${r==="dark"?"text-white hover:bg-white/20":"text-day-text hover:bg-black/10"} rounded-full transition-colors`,"aria-label":"Collapse controls",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]}),s.jsxs("div",{className:"overflow-y-auto space-y-4 pr-2 -mr-2",children:[s.jsxs("div",{className:`p-3 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"} space-y-2`,children:[s.jsx(hl,{options:He,selected:v,onSelect:ve,theme:r}),s.jsx(hl,{options:ot,selected:W.background,onSelect:D=>Fe(D),theme:r})]}),s.jsx(Pa,{onUndo:()=>{$(),U("wallpaper_undo")},onRedo:()=>{me(),U("wallpaper_redo")},canUndo:Te,canRedo:ne,theme:r}),s.jsxs("div",{className:`p-3 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:[s.jsx(vt,{theme:r,isMobile:_,label:"Resolution",value:R,onChange:D=>he(ge=>({...ge,[v]:{...ge[v],resolution:D}})),onChangeCommitted:D=>{P(ge=>({...ge,[v]:{...ge[v],resolution:D}})),U("wallpaper_slider_change",{slider_name:"resolution",value:D,wallpaper_type:v})},onReset:()=>P(D=>({...D,[v]:{...D[v],resolution:Bn}})),disabled:L}),s.jsx(vt,{theme:r,isMobile:_,label:"Pixel Gap",value:T,onChange:D=>he(ge=>({...ge,[v]:{...ge[v],pixelGap:D}})),onChangeCommitted:D=>{P(ge=>({...ge,[v]:{...ge[v],pixelGap:D}})),U("wallpaper_slider_change",{slider_name:"pixel_gap",value:D,wallpaper_type:v})},onReset:()=>P(D=>({...D,[v]:{...D[v],pixelGap:Bn}})),disabled:L})]}),s.jsx("div",{className:`p-3 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"monochrome-toggle-fs",className:"text-sm",children:"Monochrome"}),s.jsx("button",{id:"monochrome-toggle-fs",role:"switch","aria-checked":Re,onClick:Ne,disabled:L,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Re?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Re?"translate-x-6":"translate-x-1"}`})})]})}),s.jsx("div",{children:s.jsx("button",{onClick:F,disabled:L,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset wallpaper controls to their default values",children:" Reset Controls "})})]})]}):s.jsxs("button",{onClick:()=>{Ae(!0),U("wallpaper_fullscreen_controls_toggle",{open:!0})},className:`w-full ${r==="dark"?"bg-nothing-dark/80 text-white hover:bg-nothing-dark":"bg-day-bg/90 text-day-text hover:bg-day-gray-light border border-gray-300/50"} backdrop-blur-sm font-semibold py-3 px-4 rounded-lg flex items-center justify-between shadow-lg transition-colors`,"aria-label":"Expand controls",children:[s.jsx("span",{children:"Controls"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})})]})}),s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-2 flex flex-col items-stretch space-y-2 shadow-lg`,children:[s.jsx("button",{onClick:ze,disabled:L,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Replace the current image",children:"Replace Image"}),s.jsx("button",{onClick:ee,disabled:L||fe,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current wallpaper",children:"Download"})]})]}),s.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:be,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Exit full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})})})]}),s.jsx(Fa,{show:we,onClose:()=>q(!1),onShare:()=>{},theme:r,isMobile:!1,imageRendered:!!Ee,className:"z-[60] !bottom-24"}),s.jsx(Ps,{show:Q,onClose:()=>H(!1),theme:r,communityLink:oe,appUrl:X,variant:S})]}),document.body)]}):s.jsx(Zl,{onFileSelect:Le,isLoading:L,theme:r,context:"wallpaper",isMobile:_}),controlsPanel:pt,imageSrc:Ee,isLoading:L,handleFileSelect:Le,handleDownload:ee,downloadButton:s.jsx("button",{onClick:ee,disabled:L||fe,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current wallpaper",children:" Download "}),replaceButton:s.jsx(Zl,{onFileSelect:Le,isLoading:L,compact:!0,theme:r,isMobile:_}),wallpaperType:v,getCanvasBlob:Ve,undo:$,redo:me,canUndo:Te,canRedo:ne}},Qs=1176,Zs=50,Ws=50,ng={transparent:{resolution:Ws,pixelGap:0,isCircular:!1,isAntiAliased:!1},dark:{resolution:Ws,pixelGap:0,isCircular:!0,isAntiAliased:!1},light:{resolution:Ws,pixelGap:0,isCircular:!0,isAntiAliased:!1}},ig=(r,_)=>{const{width:y,height:d,outputMode:E,matrix:Q,pixelGap:H,isCircular:oe,isAntiAliased:X}=_;switch(E){case"transparent":r.clearRect(0,0,y,d);break;case"dark":r.fillStyle="#1b1b1b",r.fillRect(0,0,y,d);break;case"light":r.fillStyle="#f1f0f1",r.fillRect(0,0,y,d);break}if(!Q||Q.length===0||Q[0].length===0)return;const S=Q.length,z=Q[0].length,P=y-Zs*2,$=d-Zs*2,me=z/S;let I,Te;P/me<=$?(I=P,Te=P/me):(Te=$,I=$*me);const ne=Zs+(P-I)/2,Ye=Zs+($-Te)/2,he=I/z,v=Te/S,N=.28*(H*.84*5)/100*.2765,se=he*(1-N),we=v*(1-N);for(let q=0;q<S;q++)for(let ce=0;ce<z;ce++){const De=Q[q][ce];if(De){const je=De.a/255;let Me=se,Be=we;if(X){const b=Math.sqrt(je);Me*=b,Be*=b}r.fillStyle=`rgb(${De.r}, ${De.g}, ${De.b})`;const Ae=ne+ce*he,Ee=Ye+q*v;if(oe){const b=Math.min(Me,Be)/2;b>.1&&(r.beginPath(),r.arc(Ae+he/2,Ee+v/2,b,0,2*Math.PI),r.fill())}else if(Me>.1&&Be>.1){const b=Ae+(he-Me)/2,L=Ee+(v-Be)/2;r.fillRect(b,L,Me,Be)}}}},Z0=({theme:r,isMobile:_,footerLinks:y,triggerShareToast:d,handleShare:E})=>{const{state:Q,setState:H,undo:oe,redo:X,reset:S,canUndo:z,canRedo:P}=Li(ng),[$,me]=g.useState(Q),[I,Te]=g.useState("transparent"),[ne,Ye]=g.useState("dark"),[he,v]=g.useState(null),xe=g.useRef(null),N=$[I],{resolution:se,pixelGap:we,isCircular:q,isAntiAliased:ce}=N,De=g.useCallback(()=>{S(),Te("transparent"),Ye("dark")},[S]),{imageSrc:je,image:Me,isLoading:Be,isDownloading:Ae,handleFileSelect:Ee,handleDownload:b,clearImage:L}=Hi({featureName:"photo_widget",onFileSelectCallback:De,triggerShareToast:d}),fe=g.useMemo(()=>Qs,[]),Le=g.useMemo(()=>Qs,[]);g.useEffect(()=>{me(Q)},[Q]),g.useEffect(()=>{if(!Me){v(null);return}const F=20+Math.floor(se*.6592/100*130),V=document.createElement("canvas"),de=V.getContext("2d",{willReadFrequently:!0});if(!de)return;const ye=F,pe=Math.round(ye*(Me.height/Me.width));V.width=ye,V.height=pe,de.imageSmoothingEnabled=!1,de.drawImage(Me,0,0,ye,pe);const Oe=de.getImageData(0,0,ye,pe).data,Se=Array.from({length:pe},(ee,re)=>Array.from({length:ye},(Qe,G)=>{const te=(re*ye+G)*4;if(Oe[te+3]<=10)return null;const ve=Oe[te],Fe=Oe[te+1],Ne=Oe[te+2];return{r:Math.round(Math.max(0,Math.min(255,ve))),g:Math.round(Math.max(0,Math.min(255,Fe))),b:Math.round(Math.max(0,Math.min(255,Ne))),a:Oe[te+3]}}));let Ve=ye,ke=pe,ze=-1,ue=-1;for(let ee=0;ee<pe;ee++)for(let re=0;re<ye;re++)Se[ee][re]&&(re<Ve&&(Ve=re),re>ze&&(ze=re),ee<ke&&(ke=ee),ee>ue&&(ue=ee));if(ze!==-1){const ee=ze-Ve+1,re=ue-ke+1,Qe=Array.from({length:re},(G,te)=>Array.from({length:ee},(ve,Fe)=>Se[te+ke][Fe+Ve]));v(Qe)}else v(null)},[Me,se]),g.useEffect(()=>{const F=xe.current;if(!F||!he)return;const V=F.getContext("2d",{colorSpace:"display-p3"});V&&ig(V,{width:fe,height:Le,outputMode:I,matrix:he,pixelGap:we,isCircular:q,isAntiAliased:ce})},[he,we,q,ce,I,fe,Le]);const c=g.useCallback(()=>he?new Promise(F=>{try{const V=Qs,de=Qs,ye=document.createElement("canvas");ye.width=V,ye.height=de;const pe=ye.getContext("2d",{colorSpace:"display-p3"});if(!pe)throw new Error("Failed to get canvas context for download.");ig(pe,{...Q[I],outputMode:I,width:V,height:de,matrix:he}),ye.toBlob(Oe=>F(Oe),"image/png")}catch(V){console.error("Error creating Photo Widget blob:",V),F(null)}}):Promise.resolve(null),[he,I,Q]),M=()=>{const F={feature:"photo_widget",setting_output_mode:I,setting_resolution:N.resolution,setting_pixel_gap:N.pixelGap,setting_is_circular:N.isCircular,setting_is_anti_aliased:N.isAntiAliased};b(c,"matrices-photowidget",F)},W=g.useCallback(()=>{U("photo_widget_reset_defaults",{output_mode:I}),H(F=>({...F,[I]:ng[I]}))},[I,H]),R=F=>{const V=F==="transparent"?"transparent":ne;U("photo_widget_output_mode_change",{mode:V}),Te(V)},T=F=>{U("photo_widget_fill_theme_change",{theme:F}),Te(F),Ye(F)},le=[{key:"transparent",label:"Transparent"},{key:"fill",label:"Fill"}],J=[{key:"light",label:"Light Fill"},{key:"dark",label:"Dark Fill"}],_e=je?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-2 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(hl,{options:le,selected:I==="transparent"?"transparent":"fill",onSelect:R,theme:r}),I!=="transparent"&&s.jsx(hl,{options:J,selected:ne,onSelect:F=>T(F),theme:r})]}),s.jsx("div",{className:"flex justify-center items-center",children:s.jsx(Pa,{onUndo:()=>{oe(),U("photo_widget_undo")},onRedo:()=>{X(),U("photo_widget_redo")},canUndo:z,canRedo:P,theme:r})}),s.jsxs("div",{className:`p-4 rounded-lg ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(vt,{theme:r,isMobile:_,label:"Resolution",value:se,onChange:F=>me(V=>({...V,[I]:{...V[I],resolution:F}})),onChangeCommitted:F=>{H(V=>({...V,[I]:{...V[I],resolution:F}})),U("photo_widget_slider_change",{slider_name:"resolution",value:F,output_mode:I})},onReset:()=>H(F=>({...F,[I]:{...F[I],resolution:Ws}})),disabled:Be}),s.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${I!=="transparent"?"max-h-48 opacity-100 mt-4":"max-h-0 opacity-0"}`,children:s.jsx(vt,{theme:r,isMobile:_,label:"Pixel Gap",value:we,onChange:F=>me(V=>({...V,[I]:{...V[I],pixelGap:F}})),onChangeCommitted:F=>{H(V=>({...V,[I]:{...V[I],pixelGap:F}})),U("photo_widget_slider_change",{slider_name:"pixel_gap",value:F,output_mode:I})},onReset:()=>H(F=>({...F,[I]:{...F[I],pixelGap:0}})),disabled:Be})})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pw-circular-toggle",className:"text-sm",children:"Circular Pixels"}),s.jsx("button",{id:"pw-circular-toggle",role:"switch","aria-checked":q,onClick:()=>{const F=!N.isCircular;H(V=>({...V,[I]:{...V[I],isCircular:F}})),U("photo_widget_toggle_change",{setting:"circular_pixels",enabled:F,output_mode:I})},disabled:Be,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${q?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${q?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pw-aa-toggle",className:"text-sm",children:"Anti-aliasing"}),s.jsx("button",{id:"pw-aa-toggle",role:"switch","aria-checked":ce,onClick:()=>{const F=!N.isAntiAliased;H(V=>({...V,[I]:{...V[I],isAntiAliased:F}})),U("photo_widget_toggle_change",{setting:"anti_aliasing",enabled:F,output_mode:I})},disabled:Be,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} disabled:opacity-50 ${ce?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${ce?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:L,disabled:Be,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:W,disabled:Be,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset photo widget controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:y})})]}):null;return{previewPanel:je?s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsx("div",{className:"w-full max-w-2xl",children:s.jsx("canvas",{ref:xe,width:fe,height:Le,className:"max-w-full max-h-full h-auto w-auto rounded-lg","aria-label":"Photo Widget Matrix Canvas",style:{aspectRatio:`${fe} / ${Le}`}})}),s.jsx("button",{onClick:()=>E(),className:`absolute bottom-3 right-3 z-10 p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})})]}):s.jsx(Zl,{onFileSelect:Ee,isLoading:Be,theme:r,accept:"image/png, image/jpeg",context:"photoWidget",isMobile:_}),controlsPanel:_e,imageSrc:je,isLoading:Be,handleFileSelect:Ee,handleDownload:M,downloadButton:s.jsx("button",{onClick:M,disabled:Be||Ae||!he,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current widget",children:" Download "}),replaceButton:s.jsx(Zl,{onFileSelect:Ee,isLoading:Be,compact:!0,theme:r,accept:"image/png, image/jpeg",isMobile:_}),getCanvasBlob:c,undo:oe,redo:X,canUndo:z,canRedo:P}},Bl=50,K0=1260,J0=2800,sg=3840,rg=2160,W0=.0423936,F0=71.8848,du=300,zi={us_8x10:{label:"8 x 10 in",w:8,h:10,group:"US Standard"},"us_8.5x11":{label:"8.5 x 11 in",w:8.5,h:11,group:"US Standard"},us_11x14:{label:"11 x 14 in",w:11,h:14,group:"US Standard"},us_11x17:{label:"11 x 17 in",w:11,h:17,group:"US Standard"},us_12x16:{label:"12 x 16 in",w:12,h:16,group:"US Standard"},us_12x18:{label:"12 x 18 in",w:12,h:18,group:"US Standard"},us_16x20:{label:"16 x 20 in",w:16,h:20,group:"US Standard"},us_18x24:{label:"18 x 24 in",w:18,h:24,group:"US Standard"},us_20x30:{label:"20 x 30 in",w:20,h:30,group:"US Standard"},us_24x36:{label:"24 x 36 in",w:24,h:36,group:"US Standard"},us_27x40:{label:"27 x 40 in",w:27,h:40,group:"US Standard"},us_36x48:{label:"36 x 48 in",w:36,h:48,group:"US Standard"},iso_a5:{label:"A5",w:5.83,h:8.27,group:"ISO"},iso_a4:{label:"A4",w:8.27,h:11.69,group:"ISO"},iso_a3:{label:"A3",w:11.69,h:16.54,group:"ISO"},iso_a2:{label:"A2",w:16.54,h:23.39,group:"ISO"},iso_a1:{label:"A1",w:23.39,h:33.11,group:"ISO"},iso_a0:{label:"A0",w:33.11,h:46.81,group:"ISO"},original:{label:"Original Ratio",w:1,h:1,group:"Ratio",isRatio:!0},"ratio_1:1":{label:"1:1",w:12,h:12,group:"Ratio",isRatio:!0},"ratio_5:4":{label:"5:4",w:15,h:12,group:"Ratio",isRatio:!0},"ratio_4:3":{label:"4:3",w:16,h:12,group:"Ratio",isRatio:!0},"ratio_3:2":{label:"3:2",w:18,h:12,group:"Ratio",isRatio:!0},"ratio_16:9":{label:"16:9",w:21.33,h:12,group:"Ratio",isRatio:!0},"ratio_1.85:1":{label:"1.85:1",w:22.2,h:12,group:"Ratio",isRatio:!0},"ratio_2:1":{label:"2:1",w:24,h:12,group:"Ratio",isRatio:!0},"ratio_2.35:1":{label:"2.35:1",w:28.2,h:12,group:"Ratio",isRatio:!0},"ratio_21:9":{label:"21:9",w:28,h:12,group:"Ratio",isRatio:!0},"ratio_3:1":{label:"3:1",w:36,h:12,group:"Ratio",isRatio:!0}},og=["US Standard","ISO","Ratio"],gu={resolution:Bl,pixelGap:Bl,background:"black",cropOffsetX:.5,cropOffsetY:.5,isMonochrome:!0,exposure:Bl,contrast:Bl,isPureValue:!1,isTransparent:!1,lowerLimit:0},P0={...gu,size:"original",orientation:"portrait"},Ui={outputType:"wallpaper",wallpaper:{phone:{...gu},desktop:{...gu}},print:P0},Ks={yellow:"#FCCA21",blue:"#1A5A8A",red:"#BD1721",grey:"#E0E0E0"},yg=[["yellow","blue","red"],["blue","yellow","red"],["red","yellow","blue"],["yellow","red","blue"],["blue","red","yellow"],["red","blue","yellow"]],I0=(r,_,y)=>{const d=r/255,E=_/255,Q=y/255,H=1-Math.max(d,E,Q);if(H===1)return[0,0,0,1];const oe=(1-d-H)/(1-H),X=(1-E-H)/(1-H),S=(1-Q-H)/(1-H);return[oe,X,S,H]},em=(r,_,y,d)=>{const E=255*(1-r)*(1-d),Q=255*(1-_)*(1-d),H=255*(1-y)*(1-d);return[Math.round(E),Math.round(Q),Math.round(H)]},Fs=(r,_,y)=>{const[d,E,Q,H]=I0(r,_,y);return em(d,E,Q,H)},tm=(r,_,y,d,E)=>{const Q=yg[d];if(!Q)return;const H=$=>{if(!E)return $;const me=parseInt($.slice(1,3),16),I=parseInt($.slice(3,5),16),Te=parseInt($.slice(5,7),16),[ne,Ye,he]=Fs(me,I,Te);return`rgb(${ne}, ${Ye}, ${he})`},oe=H(Ks[Q[0]]),X=H(Ks[Q[1]]),S=H(Ks[Q[2]]),z=.809,P=.5;r.fillStyle=H(Ks.grey),r.fillRect(0,0,_,y),r.fillStyle=oe,r.fillRect(0,0,z*_,z*y),r.fillStyle=X,r.fillRect(z*_,0,(1-z)*_,P*y),r.fillStyle=S,r.fillRect(0,z*y,P*_,(1-z)*y)},ug=(r,_)=>{var J;const{canvasWidth:y,canvasHeight:d,image:E,settings:Q}=_,{outputType:H,valueAliasingType:oe,isEasterEggActive:X,activePermutationIndex:S,resolution:z,pixelGap:P,background:$,cropOffsetX:me,cropOffsetY:I,isMonochrome:Te,exposure:ne,contrast:Ye,isPureValue:he,isTransparent:v,lowerLimit:xe}=Q,N=H==="print";if(X&&S!==null)tm(r,y,d,S,N);else if(v)r.clearRect(0,0,y,d);else{const _e=((J=bg[$])==null?void 0:J.color)||"#000000";if(N){const Re=parseInt(_e.slice(1,3),16),lt=parseInt(_e.slice(3,5),16),be=parseInt(_e.slice(5,7),16),[F,V,de]=Fs(Re,lt,be);r.fillStyle=`rgb(${F}, ${V}, ${de})`}else r.fillStyle=_e;r.fillRect(0,0,y,d)}const se=Math.floor(10+(H==="print"||oe==="desktop"?z*4:z*1.2)/100*F0),we=Math.round(se*(d/y)),q=E.width/E.height,ce=y/d;let De=0,je=0,Me=E.width,Be=E.height;q>ce?(Me=E.height*ce,De=(E.width-Me)*me):q<ce&&(Be=E.width/ce,je=(E.height-Be)*I);const Ae=document.createElement("canvas");Ae.width=se,Ae.height=we;const Ee=Ae.getContext("2d",{willReadFrequently:!0});if(!Ee)return;Ee.imageSmoothingEnabled=!1,Ee.drawImage(E,De,je,Me,Be,0,0,se,we);const b=Ee.getImageData(0,0,se,we).data,L=P*W0,fe=(se-1)*L,Le=(we-1)*L,c=(y-fe)/se,M=(d-Le)/we,W=(ne-50)*2,R=Ye<=50?Ye/50:1+(Ye-50)/50*2,T=xe/100,le=X||he;for(let _e=0;_e<we;_e++)for(let Re=0;Re<se;Re++){const lt=(_e*se+Re)*4,be=b[lt],F=b[lt+1],V=b[lt+2];if(Te){let ye=(((.299*be+.587*F+.114*V)/255-.5)*R+.5)*255+W;const pe=Math.round(Math.max(0,Math.min(255,ye)));if(X){const Oe=(255-pe)/255;if(Oe>T){const[Se,Ve,ke]=[0,0,0];if(N){const[ee,re,Qe]=Fs(Se,Ve,ke);r.fillStyle=`rgb(${ee}, ${re}, ${Qe})`}else r.fillStyle=`rgb(${Se}, ${Ve}, ${ke})`;const ue=Math.min(c,M)/2*Oe;if(ue>.1){const ee=Re*(c+L),re=_e*(M+L),Qe=ee+c/2,G=re+M/2;r.beginPath(),r.arc(Qe,G,ue,0,2*Math.PI),r.fill()}}}else{const Oe=$==="white",Se=Oe?(255-pe)/255:pe/255;if(Se>T){let Ve,ke,ze;if(le?[Ve,ke,ze]=Oe?[0,0,0]:[255,255,255]:[Ve,ke,ze]=[pe,pe,pe],N){const[re,Qe,G]=Fs(Ve,ke,ze);r.fillStyle=`rgb(${re}, ${Qe}, ${G})`}else r.fillStyle=`rgb(${Ve}, ${ke}, ${ze})`;const ee=Math.min(c,M)/2*Se;if(ee>.1){const re=Re*(c+L),Qe=_e*(M+L),G=re+c/2,te=Qe+M/2;r.beginPath(),r.arc(G,te,ee,0,2*Math.PI),r.fill()}}}}}},lm=({theme:r,isMobile:_,footerLinks:y,triggerShareToast:d,handleShare:E,easterEggPrimed:Q,setEasterEggPrimed:H,isEasterEggPermanentlyUnlocked:oe,markEasterEggAsUnlocked:X,setJustUnlockedSpecialTheme:S,showSharePopup:z,setShowSharePopup:P,communityLink:$,appUrl:me,shareVariant:I})=>{const{state:Te,setState:ne,undo:Ye,redo:he,resetHistory:v,canUndo:xe,canRedo:N}=Li(Ui),[se,we]=g.useState(Te),[q,ce]=g.useState(_?"phone":"desktop"),[De,je]=g.useState(!1),[Me,Be]=g.useState(!1),Ae=g.useRef(null),Ee=g.useRef(null),b=g.useRef(null),L=g.useRef(null),[fe,Le]=g.useState(!1),[c,M]=g.useState(!1),[W,R]=g.useState(null),{outputType:T}=se,le=g.useMemo(()=>{const{wallpaper:p,print:K}=se;return T==="wallpaper"?p[q]:K},[se,T,q]),J=g.useMemo(()=>c?{...le,isPureValue:!0,isTransparent:!1}:le,[c,le]),{resolution:_e,pixelGap:Re,cropOffsetX:lt,cropOffsetY:be,isMonochrome:F,exposure:V,contrast:de,lowerLimit:ye}=le,{background:pe,isPureValue:Oe,isTransparent:Se}=J,Ve=g.useCallback(()=>{M(!1),R(null)},[]),ke=g.useCallback(()=>{Ve()},[Ve]),{imageSrc:ze,image:ue,isLoading:ee,isDownloading:re,handleFileSelect:Qe,handleDownload:G,clearImage:te}=Hi({featureName:"value_aliasing",onFileSelectCallback:ke,triggerShareToast:d});g.useEffect(()=>{if(ue){const p=ue.width>=ue.height?"landscape":"portrait",K=JSON.parse(JSON.stringify(Ui));K.print.size="original",K.print.orientation=p,v(K)}else v(Ui)},[ue,v]),g.useEffect(()=>{we(Te)},[Te]);const ve=g.useCallback(p=>{p==="community"?c||(U("easter_egg_activated",{feature:"value_aliasing"}),M(!0),oe||(X(),S(!0))):(U("value_aliasing_style_select",{style:p,from_community_theme:c}),M(!1),ne(K=>{const Ke={background:p==="dark"?"black":"white"};if(K.outputType==="wallpaper"){const gt={...K.wallpaper[q],...Ke};return{...K,wallpaper:{...K.wallpaper,[q]:gt}}}const We={...K.print,...Ke};return{...K,print:We}}))},[c,oe,X,ne,q,T,S]),Fe=g.useCallback(()=>{ve("community")},[ve]),Ne=(p=null)=>{const K=yg.length;if(p===null)return Math.floor(Math.random()*K);let ae;do ae=Math.floor(Math.random()*K);while(ae===p);return ae};g.useEffect(()=>{c&&W===null&&R(Ne())},[c,W]);const He=()=>{U("value_aliasing_easter_egg_refresh"),R(p=>Ne(p))};g.useEffect(()=>{const p=()=>{document.fullscreenElement||(je(!1),Le(!1))};return document.addEventListener("fullscreenchange",p),()=>document.removeEventListener("fullscreenchange",p)},[]);const ot=()=>{U("value_aliasing_fullscreen_enter"),Hn.flushSync(()=>{je(!0)}),b.current&&b.current.requestFullscreen().catch(p=>{console.error(`Error attempting to enable full-screen mode: ${p.message} (${p.name})`),je(!1)})},pt=g.useCallback(()=>{U("value_aliasing_fullscreen_exit"),document.fullscreenElement?document.exitFullscreen():je(!1)},[]),et=g.useCallback(()=>{U("value_aliasing_reset_defaults",{value_aliasing_type:T==="wallpaper"?q:"print"}),ne(p=>{const K=(ae,Ke)=>{const{cropOffsetX:We,cropOffsetY:gt}=ae,Ft="size"in ae?{size:ae.size,orientation:ae.orientation}:{};return{...Ke,cropOffsetX:We,cropOffsetY:gt,...Ft}};return p.outputType==="wallpaper"?{...p,wallpaper:{...p.wallpaper,[q]:K(p.wallpaper[q],Ui.wallpaper[q])}}:{...p,print:K(p.print,Ui.print)}})},[q,ne,T]),[Xe,at]=g.useMemo(()=>{if(T==="print"){const p=le,K=zi[p.size];if(!K)return[sg,rg];let ae,Ke;if(p.size==="original"){if(!ue)return[3600,3600];const We=12*du,gt=ue.width/ue.height;gt>=1?(ae=We,Ke=Math.round(We/gt)):(Ke=We,ae=Math.round(We*gt))}else ae=K.w*du,Ke=K.h*du;return p.orientation==="landscape"?[Math.max(ae,Ke),Math.min(ae,Ke)]:[Math.min(ae,Ke),Math.max(ae,Ke)]}return q==="desktop"?[sg,rg]:[K0,J0]},[T,q,le,ue]),[D,ge]=g.useMemo(()=>{if(T==="wallpaper")return[Xe,at];const p=Xe/at,K=1500;return Xe>=at?[K,Math.round(K/p)]:[Math.round(K*p),K]},[T,Xe,at]),dt=g.useMemo(()=>ue?Math.abs(ue.width/ue.height-Xe/at)>.01:!1,[ue,Xe,at]);g.useEffect(()=>{if(!ue)return;const p=De?Ee.current:Ae.current;if(!p)return;const K=p.getContext("2d",{colorSpace:"display-p3"});if(!K)return;ug(K,{canvasWidth:D,canvasHeight:ge,image:ue,settings:{outputType:T,valueAliasingType:q,isEasterEggActive:c,activePermutationIndex:W,resolution:_e,pixelGap:Re,background:pe,cropOffsetX:lt,cropOffsetY:be,isMonochrome:F,exposure:V,contrast:de,isPureValue:Oe,isTransparent:Se,lowerLimit:ye}})},[ue,De,D,ge,T,q,c,W,_e,Re,pe,lt,be,F,V,de,Oe,Se,ye]);const Ct=g.useCallback(async(p={})=>{const{highQuality:K=!1}=p,ae=se.outputType==="print";return!K||!ae?new Promise(Ke=>{const We=De?Ee.current:Ae.current;We?We.toBlob(gt=>Ke(gt),"image/png"):Ke(null)}):new Promise(Ke=>{if(!ue){Ke(null);return}const We=document.createElement("canvas");We.width=Xe,We.height=at;const gt=We.getContext("2d",{colorSpace:"display-p3"});if(!gt){console.error("Could not create offscreen canvas context for high-quality export."),Ke(null);return}const Ft=Te[T==="wallpaper"?"wallpaper":"print"],At=T==="wallpaper"?Ft[q]:Ft,Zt={canvasWidth:Xe,canvasHeight:at,image:ue,settings:{...At,outputType:T,valueAliasingType:q,isEasterEggActive:c,activePermutationIndex:W}};ug(gt,Zt),We.toBlob(jl=>{Ke(jl)},"image/png")})},[De,se,Te,T,q,ue,Xe,at,c,W]),Ht=p=>{U("value_aliasing_fullscreen_replace_image",{value_aliasing_type:q}),Qe(p,"click")},Vt=()=>{var p;U("value_aliasing_fullscreen_replace_image_click",{value_aliasing_type:q}),(p=L.current)==null||p.click()},$t=p=>{p.target.files&&p.target.files[0]&&Ht(p.target.files[0]),p.target&&(p.target.value="")},zt=()=>{const p={feature:"value_aliasing",output_type:T,is_special_theme:c,setting_resolution:le.resolution,setting_pixel_gap:le.pixelGap,setting_background:le.background,setting_crop_offset_x:le.cropOffsetX,setting_crop_offset_y:le.cropOffsetY,setting_is_monochrome:le.isMonochrome,setting_exposure:le.exposure,setting_contrast:le.contrast,setting_is_pure_value:le.isPureValue,setting_is_transparent:le.isTransparent,setting_lower_limit:le.lowerLimit},K=()=>{d(De?()=>Be(!0):void 0,c)},ae=se.outputType==="print";let Ke;if(ae){const{size:We,orientation:gt}=se.print;Ke=`matrices-valuealiasing-print-${We}-${gt}`,p.print_size=We,p.print_orientation=gt}else Ke=`matrices-valuealiasing-${q}`,p.wallpaper_type=q;G(()=>Ct({highQuality:!0}),Ke,p,K)},A=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),ie=g.useCallback(p=>{if(!dt)return;p.preventDefault(),A.current.isDragging=!0,A.current.hasMoved=!1;const K="touches"in p?p.touches[0]:p;A.current.startX=K.clientX,A.current.startY=K.clientY,A.current.initialOffsetX=le.cropOffsetX,A.current.initialOffsetY=le.cropOffsetY,document.body.style.cursor="grabbing"},[dt,le]),qe=g.useCallback(p=>{if(!A.current.isDragging||!ue)return;A.current.hasMoved=!0;const K="touches"in p?p.touches[0]:p;let ae=K.clientX-A.current.startX,Ke=K.clientY-A.current.startY;const We=De?Ee.current:Ae.current;if(We){const Tt=We.getBoundingClientRect();if(Tt.width>0&&Tt.height>0){const Yt=D/Tt.width,il=ge/Tt.height;ae*=Yt,Ke*=il}}const gt=ue.width/ue.height,Ft=Xe/at;let At=0,Zt=0;gt>Ft?At=at*gt-Xe:gt<Ft&&(Zt=Xe/gt-at);let jl=At>0?A.current.initialOffsetX-ae/At:A.current.initialOffsetX,pl=Zt>0?A.current.initialOffsetY-Ke/Zt:A.current.initialOffsetY;const rl={cropOffsetX:Math.max(0,Math.min(1,jl)),cropOffsetY:Math.max(0,Math.min(1,pl))};we(Tt=>Tt.outputType==="wallpaper"?{...Tt,wallpaper:{...Tt.wallpaper,[q]:{...Tt.wallpaper[q],...rl}}}:{...Tt,print:{...Tt.print,...rl}})},[ue,Xe,at,D,ge,q,De]),ut=g.useCallback(()=>{if(A.current.isDragging){A.current.isDragging=!1,A.current.hasMoved&&U("value_aliasing_crop",{value_aliasing_type:T==="wallpaper"?q:"print"});const{cropOffsetX:p,cropOffsetY:K}=le;ne(ae=>ae.outputType==="wallpaper"?{...ae,wallpaper:{...ae.wallpaper,[q]:{...ae.wallpaper[q],cropOffsetX:p,cropOffsetY:K}}}:{...ae,print:{...ae.print,cropOffsetX:p,cropOffsetY:K}}),document.body.style.cursor="default"}},[le,q,ne,T]);g.useEffect(()=>{const p=ae=>qe(ae),K=()=>ut();return document.addEventListener("mousemove",p),document.addEventListener("mouseup",K),document.addEventListener("touchmove",p),document.addEventListener("touchend",K),document.addEventListener("touchcancel",K),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",K),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",K),document.removeEventListener("touchcancel",K)}},[qe,ut]);const k=(p,K)=>{we(ae=>ae.outputType==="wallpaper"?{...ae,wallpaper:{...ae.wallpaper,[q]:{...ae.wallpaper[q],[p]:K}}}:{...ae,print:{...ae.print,[p]:K}})},Z=(p,K)=>{ne(ae=>ae.outputType==="wallpaper"?{...ae,wallpaper:{...ae.wallpaper,[q]:{...ae.wallpaper[q],[p]:K}}}:{...ae,print:{...ae.print,[p]:K}}),U("value_aliasing_slider_change",{slider_name:p,value:K,output_mode:T==="wallpaper"?q:"print"})},Ue=p=>{U("value_aliasing_output_type_select",{type:p}),ne(K=>({...K,outputType:p}))},Pe=[{key:"phone",label:"Phone"},{key:"desktop",label:"Desktop"}],tt=[{key:"wallpaper",label:"Wallpaper"},{key:"print",label:"Print"}],mt=[{key:"landscape",label:"Landscape"},{key:"portrait",label:"Portrait"}],Ut=()=>{const p="py-2 text-sm font-semibold transition-colors duration-200 focus:outline-none rounded-md flex items-center justify-center",K=r==="dark"?"bg-nothing-light text-nothing-dark font-bold":"bg-day-text text-day-bg font-bold",ae=r==="dark"?"bg-nothing-gray-dark hover:bg-gray-700 text-nothing-light":"bg-day-gray-light hover:bg-gray-300 text-day-text";return s.jsxs("div",{className:`flex space-x-1 p-1 rounded-lg ${r==="dark"?"bg-nothing-darker":"bg-gray-200"}`,children:[s.jsx("button",{onClick:()=>ve("dark"),className:`${p} flex-grow ${!c&&le.background==="black"?K:ae}`,"aria-pressed":!c&&le.background==="black"?"true":"false",children:"Dark"}),s.jsx("button",{onClick:()=>ve("light"),className:`${p} flex-grow ${!c&&le.background==="white"?K:ae}`,"aria-pressed":!c&&le.background==="white"?"true":"false",children:"Light"}),oe&&s.jsx("button",{onClick:()=>ve("community"),className:`${p} flex-shrink-0 w-10 ${c?K:ae}`,"aria-label":"Activate Community Theme","aria-pressed":c?"true":"false",children:s.jsxs("svg",{viewBox:"0 0 22 22",className:"h-5 w-5","aria-hidden":"true",children:[s.jsx("rect",{x:"0",y:"0",width:"10",height:"10",fill:"#BD1721"}),s.jsx("rect",{x:"12",y:"0",width:"10",height:"10",fill:"#FCCA21"}),s.jsx("rect",{x:"0",y:"12",width:"10",height:"10",fill:"#0D4E81"}),s.jsx("rect",{x:"12",y:"12",width:"10",height:"10",fill:"#E0E0E0"})]})})]})},Gt=()=>s.jsx("button",{onClick:He,className:`p-2 transition-colors duration-200 rounded-md ${r==="dark"?"bg-gray-700 text-nothing-gray-light hover:text-white":"bg-gray-200 text-day-gray-dark hover:text-black"}`,"aria-label":"Randomize Background Colors",children:_?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"16 3 21 3 21 8"}),s.jsx("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),s.jsx("polyline",{points:"21 16 21 21 16 21"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"4",y1:"4",x2:"9",y2:"9"})]}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("defs",{children:s.jsxs("pattern",{id:"shuffleIconPattern",patternUnits:"userSpaceOnUse",width:"24",height:"24",children:[s.jsx("rect",{x:"0",y:"0",width:"12",height:"12",fill:"#BD1721"}),s.jsx("rect",{x:"12",y:"0",width:"12",height:"12",fill:"#FCCA21"}),s.jsx("rect",{x:"0",y:"12",width:"12",height:"12",fill:"#1A5A8A"}),s.jsx("rect",{x:"12",y:"12",width:"12",height:"12",fill:"#E0E0E0"})]})}),s.jsx("polyline",{points:"16 3 21 3 21 8",stroke:"url(#shuffleIconPattern)"}),s.jsx("line",{x1:"4",y1:"20",x2:"21",y2:"3",stroke:"url(#shuffleIconPattern)"}),s.jsx("polyline",{points:"21 16 21 21 16 21",stroke:"url(#shuffleIconPattern)"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21",stroke:"url(#shuffleIconPattern)"}),s.jsx("line",{x1:"4",y1:"4",x2:"9",y2:"9",stroke:"url(#shuffleIconPattern)"})]})}),Qt=ze?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(hl,{options:tt,selected:T,onSelect:p=>Ue(p),theme:r}),T==="wallpaper"?s.jsx(hl,{options:Pe,selected:q,onSelect:p=>ce(p),theme:r}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"print-size-select",className:`block text-sm mb-2 ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:"Print Size"}),s.jsxs("select",{id:"print-size-select",value:le.size,onChange:p=>{const K=p.target.value;ne(ae=>({...ae,print:{...ae.print,size:K}})),U("value_aliasing_print_size_change",{size:K})},className:`w-full p-2 rounded-md border text-sm ${r==="dark"?"bg-nothing-gray-dark border-nothing-gray-dark text-nothing-light":"bg-day-gray-light border-gray-300 text-day-text"}`,children:[s.jsx("option",{value:"original",children:zi.original.label}),og.map(p=>s.jsx("optgroup",{label:p,children:Object.entries(zi).filter(([K,ae])=>ae.group===p&&K!=="original").map(([K,ae])=>s.jsx("option",{value:K,children:ae.label},K))},p))]})]}),s.jsx(hl,{options:mt,selected:le.orientation,onSelect:p=>{const K=p;ne(ae=>({...ae,print:{...ae.print,orientation:K}})),U("value_aliasing_orientation_change",{orientation:K})},theme:r})]}),s.jsx(Ut,{})]}),s.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[s.jsx(Pa,{onUndo:()=>{Ye(),U("value_aliasing_undo")},onRedo:()=>{he(),U("value_aliasing_redo")},canUndo:xe,canRedo:N,theme:r}),c&&s.jsx(Gt,{})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(vt,{theme:r,isMobile:_,label:"Exposure",value:V,onChange:p=>k("exposure",p),onChangeCommitted:p=>Z("exposure",p),onReset:()=>Z("exposure",Bl),disabled:ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Contrast",value:de,onChange:p=>k("contrast",p),onChangeCommitted:p=>Z("contrast",p),onReset:()=>Z("contrast",Bl),disabled:ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Resolution",value:_e,onChange:p=>k("resolution",p),onChangeCommitted:p=>Z("resolution",p),onReset:()=>Z("resolution",Bl),disabled:ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Pixel Gap",value:Re,onChange:p=>k("pixelGap",p),onChangeCommitted:p=>Z("pixelGap",p),onReset:()=>Z("pixelGap",Bl),disabled:ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Lower Limit",value:ye,onChange:p=>k("lowerLimit",p),onChangeCommitted:p=>Z("lowerLimit",p),onReset:()=>Z("lowerLimit",0),disabled:ee})]}),!c&&s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pure-values-toggle",className:"text-sm",children:"Pure Values"}),s.jsx("button",{id:"pure-values-toggle",role:"switch","aria-checked":Oe,onClick:()=>Z("isPureValue",!Oe),disabled:ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Oe?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Oe?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"transparent-output-toggle",className:"text-sm",children:"Transparent Output"}),s.jsx("button",{id:"transparent-output-toggle",role:"switch","aria-checked":Se,onClick:()=>Z("isTransparent",!Se),disabled:ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Se?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Se?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:te,disabled:ee,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:et,disabled:ee,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset value aliasing controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:y})})]}):null;return{previewPanel:ze?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:L,onChange:$t,className:"hidden",accept:"image/*"}),s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[s.jsx("canvas",{ref:Ae,width:D,height:ge,className:`border-2 rounded-lg ${r==="dark"?"border-nothing-gray-dark":"border-gray-300"} ${T==="wallpaper"&&q==="phone"?_?"w-4/5 h-auto":"max-h-full w-auto":"max-w-full max-h-full"}`,"aria-label":"Value Aliasing Canvas",onMouseDown:ie,onTouchStart:ie,style:{cursor:dt?"grab":"default",touchAction:dt?"none":"auto",backgroundColor:Se&&!c&&r==="dark"?"#14151f":Se&&!c&&r==="light"?"#efefef":"transparent"}}),s.jsxs("div",{className:"absolute bottom-3 right-3 z-10 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(c?"special":"default"),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:ot,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Enter full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]}),De&&Hn.createPortal(s.jsxs("div",{ref:b,className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onMouseDown:p=>{p.target===p.currentTarget&&(A.current.hasMoved=!1)},onClick:p=>{p.target===p.currentTarget&&!A.current.hasMoved&&(fe?Le(!1):pt())},children:[s.jsx("canvas",{ref:Ee,width:D,height:ge,className:"max-w-full max-h-full","aria-label":"Full-screen Value Aliasing Canvas Preview",onMouseDown:ie,onTouchStart:ie,style:{cursor:dt?"grab":"default",touchAction:dt?"none":"auto"}}),dt&&s.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-2 py-1 rounded-md text-sm ${r==="dark"?"bg-nothing-dark/90 text-nothing-light":"bg-day-gray-light/90 text-day-text"} backdrop-blur-sm pointer-events-none`,children:" Drag to Crop"}),Q&&s.jsx("button",{onClick:()=>{Fe(),H(!1)},className:"fixed top-4 right-4 z-[52] flex items-center p-2 px-3 transition-colors duration-300 rounded-md text-sm font-semibold easter-egg-glow","aria-label":"Click to Unlock",children:"Click to Unlock"}),!_&&s.jsxs("div",{className:"fixed bottom-4 left-4 z-[51] w-80 flex flex-col items-start space-y-2",children:[s.jsx("div",{className:"w-full",children:fe?s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-4 max-h-[calc(100vh-10rem)] flex flex-col space-y-4 shadow-2xl`,children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h3",{className:`font-bold text-lg ${r==="dark"?"text-white":"text-day-text"}`,children:"Controls"}),s.jsx("button",{onClick:()=>{Le(!1),U("value_aliasing_fullscreen_controls_toggle",{open:!1})},className:`p-2 ${r==="dark"?"text-white hover:bg-white/20":"text-day-text hover:bg-black/10"} rounded-full transition-colors`,"aria-label":"Collapse controls",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]}),s.jsxs("div",{className:"overflow-y-auto space-y-4 pr-2 -mr-2",children:[s.jsxs("div",{className:`p-3 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(hl,{options:tt,selected:T,onSelect:p=>Ue(p),theme:r}),T==="wallpaper"?s.jsx(hl,{options:Pe,selected:q,onSelect:p=>ce(p),theme:r}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"print-size-select-fs",className:`block text-sm mb-2 ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:"Print Size"}),s.jsxs("select",{id:"print-size-select-fs",value:le.size,onChange:p=>{const K=p.target.value;ne(ae=>({...ae,print:{...ae.print,size:K}})),U("value_aliasing_print_size_change",{size:K})},className:`w-full p-2 rounded-md border text-sm ${r==="dark"?"bg-nothing-gray-dark border-nothing-gray-dark text-nothing-light":"bg-day-gray-light border-gray-300 text-day-text"}`,children:[s.jsx("option",{value:"original",children:zi.original.label}),og.map(p=>s.jsx("optgroup",{label:p,children:Object.entries(zi).filter(([K,ae])=>ae.group===p&&K!=="original").map(([K,ae])=>s.jsx("option",{value:K,children:ae.label},K))},p))]})]}),s.jsx(hl,{options:mt,selected:le.orientation,onSelect:p=>{const K=p;ne(ae=>({...ae,print:{...ae.print,orientation:K}})),U("value_aliasing_orientation_change",{orientation:K})},theme:r})]}),s.jsx(Ut,{})]}),s.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[s.jsx(Pa,{onUndo:()=>{Ye(),U("value_aliasing_undo")},onRedo:()=>{he(),U("value_aliasing_redo")},canUndo:xe,canRedo:N,theme:r}),c&&s.jsx(Gt,{})]}),s.jsxs("div",{className:`p-3 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:[s.jsx(vt,{theme:r,isMobile:_,label:"Exposure",value:V,onChange:p=>k("exposure",p),onChangeCommitted:p=>Z("exposure",p),onReset:()=>Z("exposure",Bl),disabled:ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Contrast",value:de,onChange:p=>k("contrast",p),onChangeCommitted:p=>Z("contrast",p),onReset:()=>Z("contrast",Bl),disabled:ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Resolution",value:_e,onChange:p=>k("resolution",p),onChangeCommitted:p=>Z("resolution",p),onReset:()=>Z("resolution",Bl),disabled:ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Pixel Gap",value:Re,onChange:p=>k("pixelGap",p),onChangeCommitted:p=>Z("pixelGap",p),onReset:()=>Z("pixelGap",Bl),disabled:ee}),s.jsx(vt,{theme:r,isMobile:_,label:"Lower Limit",value:ye,onChange:p=>k("lowerLimit",p),onChangeCommitted:p=>Z("lowerLimit",p),onReset:()=>Z("lowerLimit",0),disabled:ee})]}),!c&&s.jsxs("div",{className:`p-3 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pure-values-toggle-fs",className:"text-sm",children:"Pure Values"}),s.jsx("button",{id:"pure-values-toggle-fs",role:"switch","aria-checked":Oe,onClick:()=>Z("isPureValue",!Oe),disabled:ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Oe?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Oe?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"transparent-output-toggle-fs",className:"text-sm",children:"Transparent Output"}),s.jsx("button",{id:"transparent-output-toggle-fs",role:"switch","aria-checked":Se,onClick:()=>Z("isTransparent",!Se),disabled:ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Se?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Se?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsx("div",{children:s.jsx("button",{onClick:et,disabled:ee,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset value aliasing controls to their default values",children:" Reset Controls "})})]})]}):s.jsxs("button",{onClick:()=>{Le(!0),U("value_aliasing_fullscreen_controls_toggle",{open:!0})},className:`w-full ${r==="dark"?"bg-nothing-dark/80 text-white hover:bg-nothing-dark":"bg-day-bg/90 text-day-text hover:bg-day-gray-light border border-gray-300/50"} backdrop-blur-sm font-semibold py-3 px-4 rounded-lg flex items-center justify-between shadow-lg transition-colors`,"aria-label":"Expand controls",children:[s.jsx("span",{children:"Controls"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})})]})}),s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-2 flex flex-col items-stretch space-y-2 shadow-lg`,children:[s.jsx("button",{onClick:Vt,disabled:ee,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Replace the current image",children:"Replace Image"}),s.jsx("button",{onClick:zt,disabled:ee||re,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current image",children:re?"Generating...":"Download"})]})]}),s.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(c?"special":"default"),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:pt,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Exit full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})})})]}),s.jsx(Fa,{show:Me,onClose:()=>Be(!1),onShare:()=>{},theme:r,isMobile:!1,imageRendered:!!ze,className:"z-[60] !bottom-24"}),s.jsx(Ps,{show:z,onClose:()=>P(!1),theme:r,communityLink:$,appUrl:me,variant:I})]}),document.body)]}):s.jsx(Zl,{onFileSelect:Qe,isLoading:ee,theme:r,context:"valueAliasing",isMobile:_}),controlsPanel:Qt,imageSrc:ze,isLoading:ee,handleFileSelect:Qe,handleDownload:zt,downloadButton:s.jsxs("button",{onClick:zt,disabled:ee||re,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current image",children:[" ",re?"Generating...":"Download"," "]}),replaceButton:s.jsx(Zl,{onFileSelect:Qe,isLoading:ee,compact:!0,theme:r,isMobile:_}),valueAliasingType:q,activateEasterEgg:Fe,isEasterEggActive:c,getCanvasBlob:Ct,undo:Ye,redo:he,canUndo:xe,canRedo:N}},Ln=50,am=1260,nm=2800,im=3840,sm=2160,cg={resolution:Ln,pixelGap:Ln,blurAmount:50,isMonochrome:!1,cropOffsetX:.5,cropOffsetY:.5,isGrainEnabled:!0,grainAmount:Ln,grainSize:0,ior:50,similaritySensitivity:50,isBackgroundBlurEnabled:!1,lowerLimit:0,isMarkerEnabled:!1},Wa={phone:{...cg},desktop:{...cg}},Js=[{id:1,code:"BDS",label:"Beads",desktop:{resolution:24,pixelGap:32,lowerLimit:0,similaritySensitivity:90,blurAmount:20,ior:64,grainSize:0,grainAmount:64,isMarkerEnabled:!0,isBackgroundBlurEnabled:!0,isMonochrome:!1},phone:{resolution:8,pixelGap:36,lowerLimit:0,similaritySensitivity:90,blurAmount:24,ior:64,grainSize:0,grainAmount:40,isMarkerEnabled:!0,isBackgroundBlurEnabled:!0,isMonochrome:!1}},{id:2,code:"UNI",label:"Uniform",desktop:{resolution:96,pixelGap:50,lowerLimit:0,similaritySensitivity:0,blurAmount:24,ior:12,grainSize:0,grainAmount:42,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:36,pixelGap:36,lowerLimit:0,similaritySensitivity:0,blurAmount:20,ior:12,grainSize:0,grainAmount:28,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1}},{id:3,code:"PAL",label:"Palette",desktop:{resolution:52,pixelGap:32,lowerLimit:0,similaritySensitivity:100,blurAmount:84,ior:100,grainSize:8,grainAmount:60,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1},phone:{resolution:6,pixelGap:32,lowerLimit:0,similaritySensitivity:100,blurAmount:84,ior:100,grainSize:0,grainAmount:48,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1}},{id:4,code:"MGR",label:"Mono Grain",desktop:{resolution:20,pixelGap:36,lowerLimit:0,similaritySensitivity:96,blurAmount:12,ior:28,grainSize:21,grainAmount:72,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!0},phone:{resolution:3,pixelGap:64,lowerLimit:20,similaritySensitivity:96,blurAmount:16,ior:24,grainSize:10,grainAmount:60,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!0}},{id:5,code:"MBR",label:"Membrane",desktop:{resolution:96,pixelGap:64,lowerLimit:0,similaritySensitivity:0,blurAmount:6,ior:100,grainSize:0,grainAmount:36,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1},phone:{resolution:52,pixelGap:64,lowerLimit:0,similaritySensitivity:0,blurAmount:6,ior:100,grainSize:0,grainAmount:20,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1}},{id:6,code:"BAR",label:"Bare",desktop:{resolution:0,pixelGap:67,lowerLimit:36,similaritySensitivity:100,blurAmount:16,ior:32,grainSize:0,grainAmount:50,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:0,pixelGap:56,lowerLimit:21,similaritySensitivity:100,blurAmount:25,ior:36,grainSize:0,grainAmount:36,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1}},{id:7,code:"ORG",label:"Organic",desktop:{resolution:82,pixelGap:64,lowerLimit:0,similaritySensitivity:78,blurAmount:12,ior:80,grainSize:0,grainAmount:40,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:32,pixelGap:36,lowerLimit:0,similaritySensitivity:90,blurAmount:24,ior:56,grainSize:0,grainAmount:50,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1}},{id:8,code:"BGR",label:"Big Grain",desktop:{resolution:7,pixelGap:50,lowerLimit:40,similaritySensitivity:92,blurAmount:25,ior:80,grainSize:10,grainAmount:64,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1},phone:{resolution:4,pixelGap:50,lowerLimit:32,similaritySensitivity:67,blurAmount:24,ior:87,grainSize:4,grainAmount:64,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1}},{id:9,code:"MOD",label:"Moderate",desktop:{resolution:40,pixelGap:60,lowerLimit:0,similaritySensitivity:92,blurAmount:18,ior:75,grainSize:0,grainAmount:20,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:8,pixelGap:0,lowerLimit:14,similaritySensitivity:67,blurAmount:17,ior:84,grainSize:0,grainAmount:20,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1}}],dg=(r,_)=>{if(!r||!_)return 1/0;const y=r.r-_.r,d=r.g-_.g,E=r.b-_.b;return Math.sqrt(y*y+d*d+E*E)},fg=(r,_)=>{const{canvasWidth:y,canvasHeight:d,sourceBleedCanvas:E,blurBleedCanvas:Q,finalBgCanvas:H,bleedX:oe,bleedY:X,settings:S}=_,{resolution:z,pixelGap:P,ior:$,similaritySensitivity:me,isGrainEnabled:I,grainAmount:Te,grainSize:ne,lowerLimit:Ye,isMarkerEnabled:he,isBackgroundBlurEnabled:v}=S,xe=Math.floor(10+z/100*100),N=Math.round(xe*(d/y));if(xe<=0||N<=0){r.drawImage(H,0,0);return}const se=document.createElement("canvas");se.width=xe,se.height=N;const we=se.getContext("2d",{willReadFrequently:!0});if(!we)return;we.drawImage(E,0,0,E.width,E.height,0,0,xe,N);const q=we.getImageData(0,0,xe,N).data,ce=Array.from({length:N},(be,F)=>Array.from({length:xe},(V,de)=>{const ye=(F*xe+de)*4;return{r:q[ye],g:q[ye+1],b:q[ye+2]}})),De=Array.from({length:N},()=>Array(xe).fill(!1)),je=[],Me=me/100*160,Be=(be,F,V,de,ye)=>{if(me===0)return 1;const pe=ce[F][be];let Oe=1;for(;;){const Se=Oe+1;if(F+Se>de||be+Se>V)break;let Ve=!0;for(let ke=0;ke<Se;ke++){const ze=be+Oe,ue=F+ke;if(De[ue][ze]){Ve=!1;break}if(dg(pe,ce[ue][ze])>Me){Ve=!1;break}}if(!Ve)break;for(let ke=0;ke<Oe;ke++){const ze=be+ke,ue=F+Oe;if(De[ue][ze]){Ve=!1;break}if(dg(pe,ce[ue][ze])>Me){Ve=!1;break}}if(!Ve)break;Oe=Se}return Oe};for(let be=0;be<N;be++)for(let F=0;F<xe;F++){if(De[be][F])continue;const V=Be(F,be,xe,N);je.push({x:F,y:be,size:V});for(let de=0;de<V;de++)for(let ye=0;ye<V;ye++)De[be+de][F+ye]=!0;if(V>1){const ye=P*16/100/100,pe=(V-ye)/2,Oe=V/2,Se=V/2,Ve=Array.from({length:V},()=>Array(V).fill(!1));for(let ke=0;ke<V;ke++)for(let ze=0;ze<V;ze++){const ue=Math.max(ze,Math.min(Oe,ze+1)),ee=Math.max(ke,Math.min(Se,ke+1)),re=Oe-ue,Qe=Se-ee;re*re+Qe*Qe<pe*pe-.001&&(Ve[ke][ze]=!0)}for(let ke=0;ke<V;ke++)for(let ze=0;ze<V;ze++){if(Ve[ke][ze])continue;let ue=1;for(;;){const ee=ue+1;if(ke+ee>V||ze+ee>V)break;let re=!0;for(let Qe=0;Qe<ee;Qe++)if(Ve[ke+Qe][ze+ue]){re=!1;break}if(!re)break;for(let Qe=0;Qe<ue;Qe++)if(Ve[ke+ue][ze+Qe]){re=!1;break}if(!re)break;ue=ee}je.push({x:F+ze,y:be+ke,size:ue});for(let ee=0;ee<ue;ee++)for(let re=0;re<ue;re++)Ve[ke+ee][ze+re]=!0}}}const Ae=[...je].sort((be,F)=>F.size-be.size),Ee=Math.ceil(Ae.length*.04),b=Math.min(Ee,5),L=new Set(Ae.slice(0,b));r.clearRect(0,0,y,d),r.drawImage(H,0,0);const fe=1+$*.93/100*.4,Le=y/xe,c=d/N,W=P*16/100/100,R=Le*W,T=c*W,le=[],J=je.reduce((be,F)=>Math.max(be,F.size),1),_e=Ye/100*J,lt=je.filter(be=>be.size>=_e).map(be=>{const{x:F,y:V,size:de}=be,ye=Le*de,pe=c*de,Oe=F*Le+ye/2,Se=V*c+pe/2,Ve=ye-R,ke=pe-T,ze=Math.min(Ve,ke)/2;return{centerX:Oe,centerY:Se,radius:ze,size:de,originalBlob:be}}).filter(be=>be.radius>.1);for(const be of lt){const{centerX:F,centerY:V,radius:de}=be;le.push({centerX:F,centerY:V,radius:de}),r.save(),r.beginPath(),r.arc(F,V,de,0,2*Math.PI),r.clip();const ye=de*2*fe,pe=de*2*fe,Oe=F+oe-ye/2,Se=V+X-pe/2;r.drawImage(Q,Oe,Se,ye,pe,F-de,V-de,de*2,de*2),r.restore()}if(he&&L.size>0){const be=E.getContext("2d",{willReadFrequently:!0});if(be){r.save(),r.globalCompositeOperation="overlay";for(const F of lt)if(L.has(F.originalBlob)){const{centerX:V,centerY:de,radius:ye}=F,pe=Math.round(V+oe),Oe=Math.round(de+X),Se=be.getImageData(pe,Oe,1,1).data,Ve=.299*Se[0]+.587*Se[1]+.114*Se[2];r.strokeStyle=Ve>128?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)";const ke=50,ue=36/100*(ye*.05)+1;r.lineWidth=Math.max(1,ue);const ee=ke/100*ye*.5;r.beginPath(),r.moveTo(V-ee,de),r.lineTo(V+ee,de),r.moveTo(V,de-ee),r.lineTo(V,de+ee),r.stroke()}r.restore()}}if(I&&Te>0&&(le.length>0||v)){const be=document.createElement("canvas");be.width=y,be.height=d;const F=be.getContext("2d",{colorSpace:"display-p3"});if(F){const de=1+ne*18/100/100*7,ye=Math.ceil(y/de),pe=Math.ceil(d/de),Oe=document.createElement("canvas");Oe.width=ye,Oe.height=pe;const Se=Oe.getContext("2d",{colorSpace:"display-p3"});if(Se){const Ve=Se.createImageData(ye,pe),ke=Ve.data,ze=128+Ln/100*127;for(let ee=0;ee<ke.length;ee+=4){const re=128+(Math.random()-.5)*ze;ke[ee]=ke[ee+1]=ke[ee+2]=re,ke[ee+3]=255}if(Se.putImageData(Ve,0,0),F.imageSmoothingEnabled=!1,F.drawImage(Oe,0,0,ye,pe,0,0,y,d),!v){const ee=document.createElement("canvas");ee.width=y,ee.height=d;const re=ee.getContext("2d",{colorSpace:"display-p3"});if(re){re.fillStyle="white",re.beginPath();for(const Qe of le)re.moveTo(Qe.centerX+Qe.radius,Qe.centerY),re.arc(Qe.centerX,Qe.centerY,Qe.radius,0,2*Math.PI);re.fill(),F.globalCompositeOperation="destination-in",F.drawImage(ee,0,0)}}r.save();const ue=Te*35/100;r.globalAlpha=ue/100,r.globalCompositeOperation="overlay",r.drawImage(be,0,0),r.restore()}}}},rm=({theme:r,isMobile:_,footerLinks:y,triggerShareToast:d,handleShare:E,showSharePopup:Q,setShowSharePopup:H,communityLink:oe,appUrl:X,shareVariant:S})=>{const{state:z,setState:P,undo:$,redo:me,resetHistory:I,canUndo:Te,canRedo:ne}=Li(Wa),[Ye,he]=g.useState(z),[v,xe]=g.useState(_?"phone":"desktop"),[N,se]=g.useState(!1),[we,q]=g.useState(!1),[ce,De]=g.useState("presets"),[je,Me]=g.useState(null),Be=g.useRef(null),Ae=g.useRef(null),Ee=g.useRef(null),b=g.useRef(null),[L,fe]=g.useState(!1),[Le,c]=g.useState(!0),[M,W]=g.useState(null),R=g.useRef(null),T=g.useMemo(()=>Ye[v],[Ye,v]),{imageSrc:le,image:J,isLoading:_e,isDownloading:Re,handleFileSelect:lt,handleDownload:be,clearImage:F}=Hi({featureName:"glass_dots",onFileSelectCallback:()=>{},triggerShareToast:d});g.useEffect(()=>{if(J){const k=Js.find(Z=>Z.id===1);if(k){const Z={phone:{...Wa.phone,...k.phone,isGrainEnabled:!0},desktop:{...Wa.desktop,...k.desktop,isGrainEnabled:!0}};I(Z),Me(k.id)}else I(Wa),Me(null)}else I(Wa),Me(null)},[J,I]),g.useEffect(()=>{he(z)},[z]);const V=g.useCallback(()=>{U("glass_dots_reset_defaults",{wallpaper_type:v});const k=je?Js.find(Z=>Z.id===je):null;P(Z=>{const Ue={cropOffsetX:Z[v].cropOffsetX,cropOffsetY:Z[v].cropOffsetY};let Pe={...Wa[v]};if(k){const tt=v==="phone"?k.phone:k.desktop;Pe={...Pe,...tt,isGrainEnabled:!0}}return{...Z,[v]:{...Pe,...Ue}}}),k||Me(null)},[v,P,je]),de=g.useCallback((k,Z=v)=>{P(Ue=>{const Pe={cropOffsetX:Ue[Z].cropOffsetX,cropOffsetY:Ue[Z].cropOffsetY},tt=Z==="phone"?k.phone:k.desktop,mt={...Wa[Z],...Pe,...tt,isGrainEnabled:!0};return{...Ue,[Z]:mt}})},[v,P]),ye=k=>{U("glass_dots_preset_apply",{preset:k.code,wallpaper_type:v}),Me(k.id),de(k,v)},pe=k=>{U("glass_dots_control_mode_change",{view_mode:k}),De(k)},Oe=k=>{if(U("glass_dots_device_type_change",{device_type:k}),xe(k),je&&ce==="presets"){const Z=Js.find(Ue=>Ue.id===je);Z&&de(Z,k)}};g.useEffect(()=>{const k=()=>{document.fullscreenElement||(se(!1),fe(!1))};return document.addEventListener("fullscreenchange",k),()=>document.removeEventListener("fullscreenchange",k)},[]);const Se=()=>{var k;U("glass_dots_fullscreen_enter"),Hn.flushSync(()=>se(!0)),(k=Ee.current)==null||k.requestFullscreen().catch(()=>se(!1))},Ve=g.useCallback(()=>{U("glass_dots_fullscreen_exit"),document.fullscreenElement?document.exitFullscreen():se(!1)},[]),[ke,ze]=g.useMemo(()=>v==="desktop"?[im,sm]:[am,nm],[v]),[ue,ee]=g.useMemo(()=>[ke,ze],[ke,ze]),re=g.useMemo(()=>J?Math.abs(J.width/J.height-ke/ze)>.01:!1,[J,ke,ze]);g.useEffect(()=>{if(!J)return;const k=N?Ae.current:Be.current;if(!k)return;const Z=k.getContext("2d",{colorSpace:"display-p3"});if(!Z)return;const{resolution:Ue,ior:Pe,cropOffsetX:tt,cropOffsetY:mt,isMonochrome:Ut,blurAmount:Gt,isBackgroundBlurEnabled:Qt}=T,jt=Math.floor(10+Ue/100*100),ml=ue/jt*(jt*1),K=1+Pe*.93/100*.4-1,ae=ml/2*K,Ke=ae,We=ae*(ee/ue),gt=ue+2*Ke,Ft=ee+2*We,At=document.createElement("canvas");At.width=gt,At.height=Ft;const Zt=At.getContext("2d",{willReadFrequently:!0});if(!Zt)return;const jl=J.width/J.height,pl=gt/Ft;let rl=0,Tt=0,Yt=J.width,il=J.height;jl>pl?(il=J.height,Yt=il*pl,rl=(J.width-Yt)*tt):(Yt=J.width,il=Yt/pl,Tt=(J.height-il)*mt),Zt.drawImage(J,rl,Tt,Yt,il,0,0,gt,Ft);const ll=document.createElement("canvas");ll.width=gt,ll.height=Ft;const El=ll.getContext("2d",{colorSpace:"display-p3"});if(!El)return;const Cl=(12+Gt*.88)/100*Math.max(gt,Ft)*.02,ol=[];Cl>0&&ol.push(`blur(${Cl}px)`),Ut&&ol.push("grayscale(100%)"),ol.length>0&&(El.filter=ol.join(" ")),El.drawImage(At,0,0);const ul=document.createElement("canvas");ul.width=ue,ul.height=ee;const Al=ul.getContext("2d",{colorSpace:"display-p3"});if(Al){if(Qt){const Kl=El;Al.drawImage(Kl.canvas,Ke,We,ue,ee,0,0,ue,ee)}else Ut&&(Al.filter="grayscale(100%)"),Al.drawImage(At,Ke,We,ue,ee,0,0,ue,ee),Al.filter="none";fg(Z,{canvasWidth:ue,canvasHeight:ee,sourceBleedCanvas:At,blurBleedCanvas:ll,finalBgCanvas:ul,bleedX:Ke,bleedY:We,settings:T})}},[J,N,ue,ee,T]);const Qe=g.useCallback(async(k={})=>{const{highQuality:Z=!1}=k;if(!J)return null;const Ue=Z?ke:ue,Pe=Z?ze:ee;return new Promise(tt=>{const mt=document.createElement("canvas");mt.width=Ue,mt.height=Pe;const Ut=mt.getContext("2d",{colorSpace:"display-p3"});if(!Ut)return tt(null);const Gt=z[v],{resolution:Qt,ior:jt,cropOffsetX:tl,cropOffsetY:ml,isMonochrome:p,blurAmount:K,isBackgroundBlurEnabled:ae}=Gt,Ke=Math.floor(10+Qt/100*100),gt=Ue/Ke*(Ke*1),At=1+jt*.93/100*.4-1,Zt=gt/2*At,jl=Zt,pl=Zt*(Pe/Ue),rl=Ue+2*jl,Tt=Pe+2*pl,Yt=document.createElement("canvas");Yt.width=rl,Yt.height=Tt;const il=Yt.getContext("2d",{willReadFrequently:!0});if(!il)return tt(null);const ll=J.width/J.height,El=rl/Tt;let Ia=0,Cl=0,ol=J.width,ul=J.height;ll>El?(ul=J.height,ol=ul*El,Ia=(J.width-ol)*tl):(ol=J.width,ul=ol/El,Cl=(J.height-ul)*ml),il.drawImage(J,Ia,Cl,ol,ul,0,0,rl,Tt);const Al=document.createElement("canvas");Al.width=rl,Al.height=Tt;const Kl=Al.getContext("2d",{colorSpace:"display-p3"});if(!Kl)return tt(null);const Gn=(12+K*.88)/100*Math.max(rl,Tt)*.02,en=[];Gn>0&&en.push(`blur(${Gn}px)`),p&&en.push("grayscale(100%)"),en.length>0&&(Kl.filter=en.join(" ")),Kl.drawImage(Yt,0,0);const Jl=document.createElement("canvas");Jl.width=Ue,Jl.height=Pe;const da=Jl.getContext("2d",{colorSpace:"display-p3"});if(!da)return tt(null);ae?da.drawImage(Kl.canvas,jl,pl,Ue,Pe,0,0,Ue,Pe):(p&&(da.filter="grayscale(100%)"),da.drawImage(Yt,jl,pl,Ue,Pe,0,0,Ue,Pe),da.filter="none"),fg(Ut,{canvasWidth:Ue,canvasHeight:Pe,sourceBleedCanvas:Yt,blurBleedCanvas:Al,finalBgCanvas:Jl,bleedX:jl,bleedY:pl,settings:Gt}),mt.toBlob(tn=>tt(tn),"image/png")})},[J,ke,ze,ue,ee,z,v]),G=()=>{const k={feature:"glass_dots",wallpaper_type:v,view_mode_on_download:ce,...T},Z=()=>d(N?()=>q(!0):void 0),Ue=`matrices-glassdots-${v}`;be(()=>Qe({highQuality:!0}),Ue,k,Z)},te=k=>lt(k,"click"),ve=()=>{var k;return(k=b.current)==null?void 0:k.click()},Fe=k=>{var Z;(Z=k.target.files)!=null&&Z[0]&&te(k.target.files[0]),k.target&&(k.target.value="")},Ne=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),He=g.useCallback(k=>{if(!re)return;k.preventDefault(),Object.assign(Ne.current,{isDragging:!0,hasMoved:!1,initialOffsetX:T.cropOffsetX,initialOffsetY:T.cropOffsetY});const Z="touches"in k?k.touches[0]:k;Ne.current.startX=Z.clientX,Ne.current.startY=Z.clientY,document.body.style.cursor="grabbing"},[re,T]),ot=g.useCallback(k=>{if(!Ne.current.isDragging||!J)return;Ne.current.hasMoved=!0;const Z="touches"in k?k.touches[0]:k,Ue=Z.clientX-Ne.current.startX,Pe=Z.clientY-Ne.current.startY,tt=N?Ae.current:Be.current;if(!tt)return;const mt=tt.getBoundingClientRect();if(mt.width<=0||mt.height<=0)return;const Ut=J.width/J.height,Gt=ke/ze;let Qt,jt;Ut>Gt?(jt=J.height,Qt=jt*Gt):(Qt=J.width,jt=Qt/Gt);const tl=J.width-Qt,ml=J.height-jt;let p=Ne.current.initialOffsetX;if(tl>0){const Ke=Ue/mt.width;p-=Ke*Qt/tl}let K=Ne.current.initialOffsetY;if(ml>0){const Ke=Pe/mt.height;K-=Ke*jt/ml}const ae={cropOffsetX:Math.max(0,Math.min(1,p)),cropOffsetY:Math.max(0,Math.min(1,K))};he(Ke=>({...Ke,[v]:{...Ke[v],...ae}}))},[J,ke,ze,v,N]),pt=g.useCallback(()=>{if(Ne.current.isDragging){Ne.current.isDragging=!1,Ne.current.hasMoved&&U("glass_dots_crop",{wallpaper_type:v});const{cropOffsetX:k,cropOffsetY:Z}=T;P(Ue=>({...Ue,[v]:{...Ue[v],cropOffsetX:k,cropOffsetY:Z}})),document.body.style.cursor="default"}},[T,v,P]);g.useEffect(()=>{const k=Ue=>ot(Ue),Z=()=>pt();return document.addEventListener("mousemove",k),document.addEventListener("mouseup",Z),document.addEventListener("touchmove",k),document.addEventListener("touchend",Z),document.addEventListener("touchcancel",Z),()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",Z),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",Z)}},[ot,pt]);const et=(k,Z)=>{he(Ue=>({...Ue,[v]:{...Ue[v],[k]:Z}})),Me(null)},Xe=g.useCallback((k,Z)=>{P(Ue=>({...Ue,[v]:{...Ue[v],[k]:Z}})),U("glass_dots_slider_change",{slider_name:k,value:Z,wallpaper_type:v})},[P,v]),at=(k,Z)=>{Xe(k,Z),U("glass_dots_toggle_change",{setting:k,enabled:Z,wallpaper_type:v})},D=[{key:"phone",label:"Phone"},{key:"desktop",label:"Desktop"}],ge=[{key:"presets",label:"Presets"},{key:"controls",label:"Full Control"}],dt=k=>{R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{W(k)},3600)},Ct=()=>{R.current&&clearTimeout(R.current),W(null)},Ht=()=>{U("glass_dots_shuffle",{wallpaper_type:v}),Me(null);const k=(jt=.5)=>Math.random()<jt,Z=(jt,tl)=>Math.floor(Math.random()*(tl-jt+1))+jt,Pe=Math.random()<.8?Z(26,100):Z(0,25);let tt=k();Pe<25&&(tt=!1);const mt=k(.2),Ut=Z(0,32),Gt=Z(0,100),Qt={resolution:Z(0,100),pixelGap:Z(0,100),blurAmount:Z(0,100),isMonochrome:mt,cropOffsetX:T.cropOffsetX,cropOffsetY:T.cropOffsetY,isGrainEnabled:!0,grainAmount:Z(0,100),grainSize:Z(0,100),ior:Gt,similaritySensitivity:Pe,isBackgroundBlurEnabled:Gt>=36?k():!1,lowerLimit:Ut,isMarkerEnabled:tt};P(jt=>({...jt,[v]:Qt}))},Vt=()=>s.jsx("div",{className:`p-4 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[Js.map(k=>s.jsxs("button",{onClick:()=>ye(k),onMouseEnter:()=>dt(k.id),onMouseLeave:Ct,className:`relative aspect-[4/3] flex flex-col items-center justify-center rounded-md border transition-colors duration-200 ${je===k.id?r==="dark"?"bg-white border-white text-nothing-dark":"bg-black border-black text-white":r==="dark"?"bg-gray-800 border-gray-700 hover:bg-gray-700 text-nothing-light":"bg-gray-100 border-gray-300 hover:bg-gray-200 text-day-text"}`,children:[s.jsx("span",{className:"text-2xl sm:text-3xl font-ndot mb-1",children:k.id}),s.jsx("span",{className:"text-xs font-bold tracking-wider",children:k.code}),M===k.id&&s.jsx("div",{className:`absolute -top-10 left-1/2 -translate-x-1/2 px-2 py-1 rounded text-xs whitespace-nowrap z-10 pointer-events-none shadow-lg ${r==="dark"?"bg-gray-700 text-white":"bg-gray-800 text-white"}`,children:k.label})]},k.id)),s.jsx("div",{}),s.jsxs("button",{onClick:Ht,onMouseEnter:()=>dt(0),onMouseLeave:Ct,className:`relative aspect-[4/3] flex flex-col items-center justify-center rounded-md border transition-colors duration-200 ${je===0?r==="dark"?"bg-white border-white text-nothing-dark":"bg-black border-black text-white":r==="dark"?"bg-gray-800 border-gray-700 hover:bg-gray-700 text-nothing-light":"bg-gray-100 border-gray-300 hover:bg-gray-200 text-day-text"}`,children:[s.jsx("span",{className:"text-2xl sm:text-3xl font-ndot mb-1",children:"0"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"16 3 21 3 21 8"}),s.jsx("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),s.jsx("polyline",{points:"21 16 21 21 16 21"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"4",y1:"4",x2:"9",y2:"9"})]}),M===0&&s.jsx("div",{className:`absolute -top-10 left-1/2 -translate-x-1/2 px-2 py-1 rounded text-xs whitespace-nowrap z-10 pointer-events-none shadow-lg ${r==="dark"?"bg-gray-700 text-white":"bg-gray-800 text-white"}`,children:"Randomize"})]}),s.jsx("div",{})]})}),$t=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(vt,{theme:r,isMobile:_,label:"Resolution",value:T.resolution,onChange:k=>et("resolution",k),onChangeCommitted:k=>Xe("resolution",k),onReset:()=>Xe("resolution",Ln),disabled:_e}),s.jsx(vt,{theme:r,isMobile:_,label:"Pixel Gap",value:T.pixelGap,onChange:k=>et("pixelGap",k),onChangeCommitted:k=>Xe("pixelGap",k),onReset:()=>Xe("pixelGap",50),disabled:_e}),s.jsx(vt,{theme:r,isMobile:_,label:"Lower Limit",value:T.lowerLimit,onChange:k=>et("lowerLimit",k),onChangeCommitted:k=>Xe("lowerLimit",k),onReset:()=>Xe("lowerLimit",0),disabled:_e}),s.jsx(vt,{theme:r,isMobile:_,label:"Size Variance",value:T.similaritySensitivity,onChange:k=>et("similaritySensitivity",k),onChangeCommitted:k=>Xe("similaritySensitivity",k),onReset:()=>Xe("similaritySensitivity",50),disabled:_e})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(vt,{theme:r,isMobile:_,label:"Glass Blur Amount",value:T.blurAmount,onChange:k=>et("blurAmount",k),onChangeCommitted:k=>Xe("blurAmount",k),onReset:()=>Xe("blurAmount",50),disabled:_e}),s.jsx(vt,{theme:r,isMobile:_,label:"Index of Refraction",value:T.ior,onChange:k=>et("ior",k),onChangeCommitted:k=>Xe("ior",k),onReset:()=>Xe("ior",50),disabled:_e})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`grain-toggle-${N}`,className:"text-sm",children:"Grain"}),s.jsx("button",{id:`grain-toggle-${N}`,role:"switch","aria-checked":T.isGrainEnabled,onClick:()=>at("isGrainEnabled",!T.isGrainEnabled),disabled:_e,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${T.isGrainEnabled?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${T.isGrainEnabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${T.isGrainEnabled?"max-h-96 opacity-100 pt-4 space-y-4":"max-h-0 opacity-0"}`,children:[s.jsx(vt,{theme:r,isMobile:_,label:"Grain Size",value:T.grainSize,onChange:k=>et("grainSize",k),onChangeCommitted:k=>Xe("grainSize",k),onReset:()=>Xe("grainSize",0),disabled:_e}),s.jsx(vt,{theme:r,isMobile:_,label:"Grain Amount",value:T.grainAmount,onChange:k=>et("grainAmount",k),onChangeCommitted:k=>Xe("grainAmount",k),onReset:()=>Xe("grainAmount",Ln),disabled:_e})]})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`marker-toggle-${N}`,className:"text-sm",children:"Markers"}),s.jsx("button",{id:`marker-toggle-${N}`,role:"switch","aria-checked":T.isMarkerEnabled,onClick:()=>at("isMarkerEnabled",!T.isMarkerEnabled),disabled:_e,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${T.isMarkerEnabled?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${T.isMarkerEnabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`bg-blur-toggle-${N}`,className:"text-sm",children:"Background Blur"}),s.jsx("button",{id:`bg-blur-toggle-${N}`,role:"switch","aria-checked":T.isBackgroundBlurEnabled,onClick:()=>at("isBackgroundBlurEnabled",!T.isBackgroundBlurEnabled),disabled:_e,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${T.isBackgroundBlurEnabled?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${T.isBackgroundBlurEnabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`mono-toggle-${N}`,className:"text-sm",children:"Monochrome"}),s.jsx("button",{id:`mono-toggle-${N}`,role:"switch","aria-checked":T.isMonochrome,onClick:()=>at("isMonochrome",!T.isMonochrome),disabled:_e,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${T.isMonochrome?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${T.isMonochrome?"translate-x-6":"translate-x-1"}`})})]})]})]}),zt=({isFullScreen:k=!1})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(hl,{options:D,selected:v,onSelect:Z=>Oe(Z),theme:r}),s.jsx(hl,{options:ge,selected:ce,onSelect:Z=>pe(Z),theme:r})]}),ce==="controls"&&s.jsxs("div",{className:`rounded-lg text-sm overflow-hidden transition-all duration-300 ${r==="dark"?"bg-black/40 text-nothing-gray-light":"bg-white/60 text-day-gray-dark"}`,children:[s.jsxs("button",{onClick:()=>c(!Le),className:"w-full p-4 flex items-center justify-between focus:outline-none",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:`w-4 h-4 transition-transform duration-300 ${Le?"rotate-180":""}`,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]}),s.jsx("div",{className:`grid transition-[grid-template-rows] duration-300 ease-out ${Le?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"px-4 pb-4",children:_?"Due to the feature's performance-intensive nature, there can be some unexpected hiccups in the Full Control mode. The sliders won't slide, so tap on the sliders instead of sliding. Firefox performs better than chromium-based browsers.":"Due to the feature's performance-intensive nature, the sliders won't slide. So tap on the sliders instead of sliding. Firefox performs better than chromium-based browsers."})})})]}),s.jsx(Pa,{onUndo:()=>{$(),U("glass_dots_undo")},onRedo:()=>{me(),U("glass_dots_redo")},canUndo:Te,canRedo:ne,theme:r}),ce==="presets"?s.jsx(Vt,{}):s.jsx($t,{})]}),A=le?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsx(zt,{}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:F,disabled:_e,className:`${ce==="controls"?"w-1/2":"w-full"} border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),ce==="controls"&&s.jsx("button",{onClick:V,disabled:_e,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:y})})]}):null;return{previewPanel:le?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:b,onChange:Fe,className:"hidden",accept:"image/*"}),s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[s.jsx("canvas",{ref:Be,width:ue,height:ee,className:`border-2 rounded-lg ${r==="dark"?"border-nothing-gray-dark":"border-gray-300"} ${v==="phone"?_?"w-4/5 h-auto":"max-h-full w-auto":"max-w-full max-h-full"}`,"aria-label":"Glass Dots Canvas",onMouseDown:He,onTouchStart:He,style:{cursor:re?"grab":"default",touchAction:re?"none":"auto"}}),s.jsxs("div",{className:"absolute bottom-3 right-3 z-10 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:Se,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Enter full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]}),N&&Hn.createPortal(s.jsxs("div",{ref:Ee,className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onClick:k=>{k.target===k.currentTarget&&!Ne.current.hasMoved&&(L?fe(!1):Ve())},children:[s.jsx("canvas",{ref:Ae,width:ue,height:ee,className:"max-w-full max-h-full","aria-label":"Full-screen Canvas Preview",onMouseDown:He,onTouchStart:He,style:{cursor:re?"grab":"default",touchAction:re?"none":"auto"}}),re&&s.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-2 py-1 rounded-md text-sm ${r==="dark"?"bg-nothing-dark/90 text-nothing-light":"bg-day-gray-light/90 text-day-text"} backdrop-blur-sm pointer-events-none`,children:" Drag to Crop"}),!_&&s.jsxs("div",{className:"fixed bottom-4 left-4 z-[51] w-80 flex flex-col items-start space-y-2",children:[L?s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-4 max-h-[calc(100vh-10rem)] flex flex-col space-y-4 shadow-2xl`,children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h3",{className:`font-bold text-lg ${r==="dark"?"text-white":"text-day-text"}`,children:"Controls"}),s.jsx("button",{onClick:()=>fe(!1),className:`p-2 ${r==="dark"?"text-white hover:bg-white/20":"text-day-text hover:bg-black/10"} rounded-full transition-colors`,"aria-label":"Collapse controls",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]}),s.jsxs("div",{className:"overflow-y-auto space-y-4 pr-2 -mr-2",children:[s.jsx(zt,{isFullScreen:!0}),s.jsx("div",{children:ce==="controls"&&s.jsx("button",{onClick:V,disabled:_e,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset controls to their default values",children:"Reset Controls"})})]})]}):s.jsxs("button",{onClick:()=>fe(!0),className:`w-full ${r==="dark"?"bg-nothing-dark/80 text-white hover:bg-nothing-dark":"bg-day-bg/90 text-day-text hover:bg-day-gray-light border border-gray-300/50"} backdrop-blur-sm font-semibold py-3 px-4 rounded-lg flex items-center justify-between shadow-lg transition-colors`,"aria-label":"Expand controls",children:[s.jsx("span",{children:"Controls"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})})]}),s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-2 flex flex-col items-stretch space-y-2 shadow-lg`,children:[s.jsx("button",{onClick:ve,disabled:_e,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Replace image",children:"Replace Image"}),s.jsx("button",{onClick:G,disabled:_e||Re,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download image",children:Re?"Generating...":"Download"})]})]}),s.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:Ve,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Exit full-screen",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})})})]}),s.jsx(Fa,{show:we,onClose:()=>q(!1),onShare:()=>{},theme:r,isMobile:!1,imageRendered:!!le,className:"z-[60] !bottom-24"}),s.jsx(Ps,{show:Q,onClose:()=>H(!1),theme:r,communityLink:oe,appUrl:X,variant:S})]}),document.body)]}):s.jsx(Zl,{onFileSelect:lt,isLoading:_e,theme:r,context:"glassDots",isMobile:_}),controlsPanel:A,imageSrc:le,isLoading:_e,handleFileSelect:lt,downloadButton:s.jsx("button",{onClick:G,disabled:_e||Re,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download image",children:Re?"Generating...":"Download"}),replaceButton:s.jsx(Zl,{onFileSelect:lt,isLoading:_e,compact:!0,theme:r,isMobile:_}),glassDotsWallpaperType:v,getCanvasBlob:Qe,undo:$,redo:me,canUndo:Te,canRedo:ne}},Bi=["valueAliasing","pfp","glassDots","wallpaper","photoWidget"],gg={wallpaper:"Matrix Wallpaper",pfp:"Glyph Mirror",photoWidget:"Photo Widget",valueAliasing:"Value Aliasing",glassDots:"Glass Dots"},hg={wallpaper:"MW",pfp:"GM",photoWidget:"PW",valueAliasing:"VA",glassDots:"GD"},fu="https://nothing.community/d/38047-introducing-matrices-a-handy-utility-to-create-matrix-styled-imagery",Un="https://udaign.github.io/matrices/",om=()=>{const[r,_]=g.useState(window.innerWidth<768),[y,d]=g.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),[E,Q]=g.useState("valueAliasing"),[H,oe]=g.useState(0),[X,S]=g.useState(!1),[z,P]=g.useState(!1),[$,me]=g.useState(""),[I,Te]=g.useState(!1),[ne,Ye]=g.useState(!1),[he,v]=g.useState(!1),[xe,N]=g.useState(!1),[se,we]=g.useState("default"),[q,ce]=g.useState(null),De=Bi.indexOf(E),je=g.useRef(null),Me=g.useRef(!1),Be=g.useRef(!1),[Ae,Ee]=g.useState(!1),[b,L]=g.useState(null),[fe,Le]=g.useState(!1),[c,M]=g.useState(!1),[W,R]=g.useState(!1),[T,le]=g.useState(!1),J=g.useRef(null),_e=g.useRef(null),Re=g.useRef(null),lt=g.useRef(null),be=g.useRef(null),F=y==="dark"?"font-medium text-nothing-light hover:text-white underline":"font-medium text-day-text hover:text-black underline",V=Bi.length,de=2/V*100,ye=(V-2)/V/(V-1)*100,pe=g.useMemo(()=>De*ye,[De,ye]);g.useEffect(()=>{const A=ie=>{ie.preventDefault(),ce(ie),U("pwa_install_available")};return window.addEventListener("beforeinstallprompt",A),()=>{window.removeEventListener("beforeinstallprompt",A)}},[]),g.useEffect(()=>{const A=ie=>{const qe=Be.current?"app_button":"browser_ui";U("pwa_install_success",{source:qe}),ce(null),Be.current=!1};return window.addEventListener("appinstalled",A),()=>{window.removeEventListener("appinstalled",A)}},[]);const Oe=()=>{q&&(U("pwa_install_prompt_click"),Be.current=!0,q.prompt(),q.userChoice.then(A=>{A.outcome==="accepted"?U("pwa_install_accepted"):(U("pwa_install_dismissed"),Be.current=!1),ce(null)}))},Se=A=>{A.preventDefault(),Q("valueAliasing"),Ne.activateEasterEgg(),Te(!1),U("easter_egg_unlocked")},Ve=async(A="default")=>{U("share_initiated",{variant:A,source:et?"with_image":"no_image"});const ie=et&&pt.getCanvasBlob?await pt.getCanvasBlob():null;if(navigator.share&&ie)try{const qe=new File([ie],"matrices-creation.png",{type:"image/png"}),ut=A==="special"?"Have you unlocked the secret theme in Matrices Value Aliasing yet?  On desktop, type 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/":`Created with Matrices. Link: ${Un}`,k={files:[qe],title:"Matrices for Nothing Community",text:ut,url:Un};if(navigator.canShare&&navigator.canShare(k)){await navigator.share(k),U("share_success_webshare_api",{method:"image",variant:A});return}}catch(qe){console.warn("Web Share API with image failed, falling back.",qe),U("share_error_webshare_api",{method:"image",error:qe.message,variant:A})}if(navigator.share)try{const qe=A==="special"?"Have you unlocked the secret theme in Matrices Value Aliasing yet?  On desktop, type 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/":`Create your own Nothing style dot-matrix imagery with Matrices: ${Un}`;await navigator.share({title:"Matrices for Nothing Community",text:qe,url:Un}),U("share_success_webshare_api",{method:"text",variant:A});return}catch(qe){console.warn("Web Share API text-only failed, falling back to popup.",qe),U("share_error_webshare_api",{method:"text",error:qe.message,variant:A})}we(A),N(!0),U("share_popup_opened",{variant:A})},ke=g.useCallback((A,ie=!1)=>{if(ie&&T&&!c){R(!0),M(!0),H+1===2&&!z&&P(!0);return}if(z)return;const qe=H+1;oe(qe),qe===2&&(A?A():S(!0),P(!0))},[H,z,T,c]),ze=g.useCallback(()=>{try{localStorage.setItem("easterEggUnlocked","true"),Ye(!0)}catch(A){console.error("Failed to save easter egg state to localStorage:",A)}},[]);g.useEffect(()=>{try{localStorage.getItem("easterEggUnlocked")==="true"&&Ye(!0)}catch(A){console.error("Failed to read easter egg state from localStorage:",A)}},[]);const ue=g.useCallback(A=>{Me.current=!1,r&&!ne&&!I&&E==="valueAliasing"&&A&&(je.current=window.setTimeout(()=>{Te(!0),U("easter_egg_primed",{method:"long_press"}),Me.current=!0},4800))},[r,ne,I,E]),ee=g.useCallback(()=>{je.current&&(clearTimeout(je.current),je.current=null)},[]),re=s.jsxs("div",{className:`text-sm ${y==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} opacity-80 space-y-1`,children:[s.jsxs("p",{children:[s.jsx("a",{href:"https://nothing.community/d/38047-introducing-matrices-a-handy-utility-to-create-matrix-styled-imagery",target:"_blank",rel:"noopener noreferrer",className:F,onClick:()=>U("discussion_visit"),children:he&&!r?"Feeling Nothing":"Feedback"}),s.jsx("span",{className:"mx-2",children:"|"}),s.jsx("a",{href:"mailto:udaybhaskar2283@gmail.com",className:F,onClick:()=>U("email_click"),children:"Email"}),s.jsx("span",{className:"mx-2",children:"|"}),s.jsx("button",{onClick:()=>{U("support_modal_opened"),Ee(!0)},className:F,children:"Support "}),s.jsx("span",{className:"mx-2",children:"|"}),s.jsx("a",{href:"https://nothing.community/u/Udaign",target:"_blank",rel:"noopener noreferrer",className:F,onClick:()=>U("community_profile_visit"),children:" Uday"})]}),s.jsxs("p",{children:["Made with love for ",s.jsx("span",{className:"font-ndot",children:"NOTHING COMMUNITY"}),"."]})]}),Qe={theme:y,isMobile:r,footerLinks:re,triggerShareToast:ke,handleShare:Ve,showSharePopup:xe,setShowSharePopup:N,communityLink:fu,appUrl:Un,shareVariant:se},G=H0(Qe),te=Q0(Qe),ve=Z0(Qe),Fe=rm(Qe),Ne=lm({...Qe,easterEggPrimed:I,setEasterEggPrimed:Te,isEasterEggPermanentlyUnlocked:ne,markEasterEggAsUnlocked:ze,setJustUnlockedSpecialTheme:le}),He={pfp:G,wallpaper:te,photoWidget:ve,valueAliasing:Ne,glassDots:Fe},ot=A=>{if(!b)return;const ie=b;Q(A),setTimeout(()=>{const qe=He[A];qe&&qe.handleFileSelect&&qe.handleFileSelect(ie,"share_target")},100),Le(!1),L(null)},pt=He[E],et=pt.imageSrc;g.useEffect(()=>{const A=ie=>{const qe=ie.target;if(["INPUT","TEXTAREA","SELECT"].includes(qe.tagName)||qe.isContentEditable)return;const ut=ie.ctrlKey&&!ie.shiftKey&&ie.key.toLowerCase()==="z",k=ie.ctrlKey&&ie.key.toLowerCase()==="y"||ie.ctrlKey&&ie.shiftKey&&ie.key.toLowerCase()==="z";if(ut||k){const Z=He[E];if(!Z.imageSrc)return;ie.preventDefault(),ut&&Z.canUndo?(Z.undo(),U(`${E}_undo`,{method:"keyboard_shortcut"})):k&&Z.canRedo&&(Z.redo(),U(`${E}_redo`,{method:"keyboard_shortcut"}))}};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[E,He]),g.useEffect(()=>{const A=ie=>{var k;const qe=(k=ie.clipboardData)==null?void 0:k.items;if(!qe)return;const ut=ie.target;if(!(["INPUT","TEXTAREA","SELECT"].includes(ut.tagName)||ut.isContentEditable)){for(const Z of Array.from(qe))if(Z.type.startsWith("image/")){const Ue=Z.getAsFile();if(Ue){switch(ie.preventDefault(),U("paste_image",{feature:E}),E){case"pfp":He.pfp.handleFileSelect(Ue,"paste");break;case"wallpaper":He.wallpaper.handleFileSelect(Ue,"paste");break;case"photoWidget":He.photoWidget.handleFileSelect(Ue,"paste");break;case"valueAliasing":He.valueAliasing.handleFileSelect(Ue,"paste");break;case"glassDots":He.glassDots.handleFileSelect(Ue,"paste");break}break}}}};return window.addEventListener("paste",A),()=>{window.removeEventListener("paste",A)}},[E,He]),g.useEffect(()=>{const A=ie=>{if(ie.data&&ie.data.type==="shared-image"&&ie.data.file){const qe=ie.data.file;U("share_target_received"),L(qe),Le(!0)}};return"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",A),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",A)}},[]),g.useEffect(()=>{const A=!I&&!Ne.isEasterEggActive&&!ne&&E==="valueAliasing"&&!!Ne.imageSrc;A!==he&&v(A)},[I,Ne.isEasterEggActive,ne,E,Ne.imageSrc,he]),g.useEffect(()=>{if(I||Ne.isEasterEggActive||ne)return;const A="feelingnothing",ie=qe=>{if(E!=="valueAliasing"||!Ne.imageSrc){$&&me("");return}if(qe.key.length>1||qe.metaKey||qe.ctrlKey||qe.altKey){$&&me("");return}const ut=$+qe.key.toLowerCase();if(A.startsWith(ut))me(ut),ut===A&&(Te(!0),U("easter_egg_primed",{method:"keyboard"}),me(""));else{const k=qe.key.toLowerCase();me(A.startsWith(k)?k:"")}};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[$,I,E,Ne.isEasterEggActive,Ne.imageSrc,ne]);const Xe=A=>{G.handleFileSelect(A,"click"),J.current&&(J.current.value="")},at=A=>{te.handleFileSelect(A,"click"),_e.current&&(_e.current.value="")},D=A=>{ve.handleFileSelect(A,"click"),Re.current&&(Re.current.value="")},ge=A=>{Ne.handleFileSelect(A,"click"),lt.current&&(lt.current.value="")},dt=A=>{Fe.handleFileSelect(A,"click"),be.current&&(be.current.value="")};g.useEffect(()=>{const A=()=>{_(window.innerWidth<768)};return window.addEventListener("resize",A),A(),()=>window.removeEventListener("resize",A)},[]),g.useEffect(()=>{const A=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";U("initial_theme_detected",{theme:A});const ie=window.matchMedia("(prefers-color-scheme: dark)"),qe=ut=>d(ut.matches?"dark":"light");return ie.addEventListener("change",qe),()=>ie.removeEventListener("change",qe)},[]),g.useEffect(()=>{document.body.className=y==="light"?"bg-day-bg":"bg-nothing-dark"},[y]);const Ct=()=>{if(Me.current){Me.current=!1;return}const A=y==="dark"?"light":"dark";U("theme_change",{theme:A}),d(A)},Ht=A=>{U("select_tab",{tab_name:A}),Q(A)},Vt={valueAliasing:s.jsxs(s.Fragment,{children:["Create value-aliased imagery. ",s.jsx("strong",{className:`font-bold ${y==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),pfp:s.jsxs(s.Fragment,{children:["Create glyph mirror styled profile pictures. ",s.jsx("strong",{className:`font-bold ${y==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),glassDots:s.jsxs(s.Fragment,{children:["Create imagery with a glossy, glass-like dot effect. ",s.jsx("strong",{className:`font-bold ${y==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),wallpaper:s.jsxs(s.Fragment,{children:["Create matrix styled wallpapers. ",s.jsx("strong",{className:`font-bold ${y==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),photoWidget:"Create matrix styled photo widgets."},$t=g.useMemo(()=>E==="wallpaper"&&He.wallpaper.imageSrc&&He.wallpaper.wallpaperType==="phone"||E==="valueAliasing"&&He.valueAliasing.imageSrc&&He.valueAliasing.valueAliasingType==="phone"?r?"py-8 px-6":"p-6":"p-4 sm:p-6",[E,He.wallpaper,He.valueAliasing,r]),zt=`flex items-center p-2 md:px-3 transition-colors duration-300 rounded-md text-sm font-semibold ${y==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`;return s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:J,onChange:A=>{var ie;return((ie=A.target.files)==null?void 0:ie[0])&&Xe(A.target.files[0])},className:"hidden",accept:"image/*",title:"Upload profile picture"}),s.jsx("input",{type:"file",ref:_e,onChange:A=>{var ie;return((ie=A.target.files)==null?void 0:ie[0])&&at(A.target.files[0])},className:"hidden",accept:"image/*",title:"Upload wallpaper image"}),s.jsx("input",{type:"file",ref:Re,onChange:A=>{var ie;return((ie=A.target.files)==null?void 0:ie[0])&&D(A.target.files[0])},className:"hidden",accept:"image/png",title:"Upload photo widget image"}),s.jsx("input",{type:"file",ref:lt,onChange:A=>{var ie;return((ie=A.target.files)==null?void 0:ie[0])&&ge(A.target.files[0])},className:"hidden",accept:"image/*",title:"Upload value aliasing image"}),s.jsx("input",{type:"file",ref:be,onChange:A=>{var ie;return((ie=A.target.files)==null?void 0:ie[0])&&dt(A.target.files[0])},className:"hidden",accept:"image/*",title:"Upload glass dots image"}),s.jsxs("div",{className:`min-h-[100dvh] md:h-screen w-full flex flex-col font-sans ${y==="dark"?"text-nothing-light bg-nothing-dark":"text-day-text bg-day-bg"} select-none`,children:[s.jsxs("header",{className:`flex-shrink-0 sticky top-0 z-30 flex justify-between items-center p-4 border-b ${y==="dark"?"bg-nothing-dark border-nothing-gray-dark":"bg-day-bg border-gray-300"}`,children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-normal page-title",children:"MATRICES"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[r&&q&&s.jsxs("button",{onClick:Oe,className:zt,"aria-label":"Install app",children:[s.jsx("span",{children:"Install"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 ml-2",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"7 10 12 15 17 10"}),s.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})]}),I?s.jsxs("button",{onClick:Se,className:`${zt} easter-egg-glow`,"aria-label":"Unlock Secret Theme",children:[s.jsx("span",{className:"hidden md:inline",children:"Unlock Secret"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 md:ml-2",children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})]}):s.jsxs("button",{onClick:()=>{U("community_thread_header_click"),window.open(fu,"_blank","noopener,noreferrer")},className:zt,"aria-label":"Visit Community Thread",children:[s.jsx("span",{className:"hidden md:inline",children:"Join Discussion"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 md:ml-2",children:[s.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),s.jsx("polyline",{points:"15 3 21 3 21 9"}),s.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}),s.jsx("button",{onClick:Ct,onMouseDown:()=>ue(He.valueAliasing.imageSrc),onMouseUp:ee,onMouseLeave:ee,onTouchStart:()=>ue(He.valueAliasing.imageSrc),onTouchEnd:ee,className:`p-2 transition-colors duration-300 rounded-md ${y==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":`Switch to ${y==="dark"?"light":"dark"} mode`,children:y==="dark"?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-sun h-6 w-6",children:[s.jsx("circle",{cx:"12",cy:"12",r:"5"}),s.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),s.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),s.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),s.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),s.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),s.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),s.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),s.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-moon h-6 w-6",children:s.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]})]}),s.jsx("div",{className:"block md:hidden pt-4 sm:pt-6",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:`relative flex w-full border-b ${y==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,style:{"--active-tab-width":`${de}%`,"--inactive-tab-width":`${ye}%`,"--underline-left":`${pe}%`},children:[Bi.map(A=>{const ie=E===A;return s.jsx("button",{onClick:()=>Ht(A),className:`
                      text-center py-3 text-base transition-[width,color,font-weight] duration-500 ease-in-out focus:outline-none focus:ring-0
                      tab
                      ${ie?`active ${y==="dark"?"text-nothing-light font-bold":"text-day-text font-bold"}`:y==="dark"?"text-nothing-gray-light hover:text-nothing-light font-normal":"text-day-gray-dark hover:text-day-text font-normal"}
                    `,"aria-pressed":ie?"true":"false",children:s.jsxs("span",{className:`truncate px-2 ${ie?"":"page-title text-xl"} flex items-center justify-center`,children:[ie?gg[A]:hg[A],A==="glassDots"&&s.jsx("span",{className:`ml-1 text-[0.6rem] px-1 rounded-sm font-bold leading-tight font-sans ${y==="dark"?"bg-white text-nothing-dark":"bg-black text-white"}`,children:"NEW"})]})},A)}),s.jsx("div",{className:`absolute bottom-[-1px] h-1 ${y==="dark"?"bg-white":"bg-black"} underline-bar`,"aria-hidden":"true"})]}),s.jsx("p",{className:`text-center w-full text-sm leading-normal transition-opacity duration-300 px-4 sm:px-6 ${y==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:Vt[E]}),s.jsx("hr",{className:`mt-4 ${y==="dark"?"border-nothing-gray-dark":"border-gray-300"}`})]})}),s.jsxs("main",{className:"flex-grow w-full flex flex-col md:flex-row min-h-0 md:pt-0 md:overflow-hidden",children:[s.jsx("div",{className:`md:w-2/3 w-full flex flex-col ${et?"":"flex-grow md:flex-grow-0"} border-b md:border-b-0 md:border-r ${y==="dark"?"border-nothing-gray-dark":"border-gray-300"} md:overflow-y-auto`,children:s.jsx("div",{className:`flex-grow ${$t} ${et?"min-h-0":"min-h-[50vh] md:min-h-0"} flex flex-col items-center justify-center`,children:Object.entries(He).map(([A,ie])=>s.jsx("div",{className:`w-full h-full flex-grow flex flex-col items-center justify-center ${E===A?"flex":"hidden"}`,children:ie.previewPanel},A))})}),s.jsxs("div",{className:"md:w-1/3 w-full flex flex-col",children:[s.jsx("div",{className:"hidden md:block flex-shrink-0 py-4 sm:py-6 md:py-8 md:pb-4",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"relative flex border-b dark:border-nothing-gray-dark border-gray-300",style:{"--active-tab-width":`${de}%`,"--inactive-tab-width":`${ye}%`,"--underline-left":`${pe}%`},children:[Bi.map(A=>{const ie=E===A;return s.jsx("button",{onClick:()=>Ht(A),className:`
                          text-center py-3 text-base transition-[width,color,font-weight] duration-500 ease-in-out focus:outline-none focus:ring-0
                          tab
                          ${ie?`active ${y==="dark"?"text-nothing-light font-bold":"text-day-text font-bold"}`:y==="dark"?"text-nothing-gray-light hover:text-nothing-light font-normal":"text-day-gray-dark hover:text-day-text font-normal"}
                        `,"aria-pressed":ie?"true":"false",children:s.jsxs("span",{className:`truncate px-2 ${ie?"":"page-title text-xl"} flex items-center justify-center`,children:[ie?gg[A]:hg[A],A==="glassDots"&&s.jsx("span",{className:`ml-1 text-[0.6rem] px-1 rounded-sm font-bold leading-tight font-sans ${y==="dark"?"bg-white text-nothing-dark":"bg-black text-white"}`,children:"NEW"})]})},A)}),s.jsx("div",{className:`absolute bottom-[-1px] h-1 ${y==="dark"?"bg-white":"bg-black"} underline-bar`,"aria-hidden":"true"})]}),s.jsx("p",{className:`text-center w-full text-sm leading-normal transition-opacity duration-300 ${y==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:Vt[E]}),s.jsx("hr",{className:`mt-2 ${y==="dark"?"border-nothing-gray-dark":"border-gray-300"}`})]})}),s.jsxs("div",{className:"flex-grow md:overflow-y-auto md:relative md:overflow-hidden",children:[s.jsx("div",{className:"hidden md:flex md:absolute md:top-0 md:left-0 md:w-full md:h-full transition-transform duration-300 ease-in-out controls-panel-container",style:{"--panel-translate-x":`-${De*100}%`},children:Bi.map(A=>s.jsx("div",{className:"w-full flex-shrink-0 h-full overflow-y-auto",children:He[A].controlsPanel},A))}),s.jsx("div",{className:"block md:hidden",children:pt.controlsPanel}),!r&&s.jsxs(s.Fragment,{children:[s.jsx(Fa,{show:X,onClose:()=>S(!1),onShare:Ve,theme:y,isMobile:r,imageRendered:!!et}),s.jsx(Fa,{show:W,onClose:()=>R(!1),onShare:()=>Ve("special"),theme:y,isMobile:r,imageRendered:!!et,variant:"special"})]})]})]})]}),et&&s.jsxs("div",{className:`flex-shrink-0 hidden md:flex flex-col md:flex-row border-t ${y==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:[s.jsx("div",{className:`md:w-2/3 w-full p-4 border-b md:border-b-0 md:border-r ${y==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:pt.replaceButton}),s.jsx("div",{className:"md:w-1/3 w-full flex",children:pt.downloadButton})]}),s.jsx("footer",{className:`hidden md:block flex-shrink-0 text-center p-4 border-t ${y==="dark"?"border-nothing-gray-dark":"border-gray-300"} tracking-wide`,children:re}),s.jsx("div",{className:`block md:hidden ${et?"sticky bottom-0":""} z-20 w-full ${y==="dark"?"bg-nothing-dark":"bg-day-bg"}`,children:et?s.jsxs("div",{className:`flex border-t ${y==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:[s.jsx("div",{className:`w-1/2 border-r ${y==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:s.jsx("button",{onClick:()=>{var A,ie,qe,ut,k;E==="pfp"&&((A=J.current)==null||A.click()),E==="wallpaper"&&((ie=_e.current)==null||ie.click()),E==="photoWidget"&&((qe=Re.current)==null||qe.click()),E==="valueAliasing"&&((ut=lt.current)==null||ut.click()),E==="glassDots"&&((k=be.current)==null||k.click())},disabled:pt.isLoading,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${y==="dark"?"bg-nothing-dark text-nothing-light hover:bg-nothing-gray-dark":"bg-day-bg text-day-text hover:bg-day-gray-light"}`,children:"Replace Image"})}),s.jsx("div",{className:"w-1/2",children:pt.downloadButton})]}):s.jsx("footer",{className:`text-center tracking-wide p-4 border-t ${y==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:re})}),r&&s.jsxs(s.Fragment,{children:[s.jsx(Fa,{show:X,onClose:()=>S(!1),onShare:Ve,theme:y,isMobile:r,imageRendered:!!et}),s.jsx(Fa,{show:W,onClose:()=>R(!1),onShare:()=>Ve("special"),theme:y,isMobile:r,imageRendered:!!et,variant:"special"})]}),s.jsx(Ps,{show:xe,onClose:()=>N(!1),theme:y,communityLink:fu,appUrl:Un,variant:se}),s.jsx(U0,{show:Ae,onClose:()=>Ee(!1),theme:y}),s.jsx(B0,{show:fe,onClose:()=>{Le(!1),L(null),U("share_target_dismissed")},onSelect:ot,theme:y})]})]})},vg=document.getElementById("root");if(!vg)throw new Error("Could not find root element to mount to");const um=D0.createRoot(vg);um.render(s.jsx(C0.StrictMode,{children:s.jsx(om,{})}));
