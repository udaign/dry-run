(function(){const k=document.createElement("link").relList;if(k&&k.supports&&k.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))d(E);new MutationObserver(E=>{for(const Z of E)if(Z.type==="childList")for(const L of Z.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&d(L)}).observe(document,{childList:!0,subtree:!0});function v(E){const Z={};return E.integrity&&(Z.integrity=E.integrity),E.referrerPolicy&&(Z.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?Z.credentials="include":E.crossOrigin==="anonymous"?Z.credentials="omit":Z.credentials="same-origin",Z}function d(E){if(E.ep)return;E.ep=!0;const Z=v(E);fetch(E.href,Z)}})();function mg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var eu={exports:{}},Ni={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function k0(){if(Vf)return Ni;Vf=1;var r=Symbol.for("react.transitional.element"),k=Symbol.for("react.fragment");function v(d,E,Z){var L=null;if(Z!==void 0&&(L=""+Z),E.key!==void 0&&(L=""+E.key),"key"in E){Z={};for(var re in E)re!=="key"&&(Z[re]=E[re])}else Z=E;return E=Z.ref,{$$typeof:r,type:d,key:L,ref:E!==void 0?E:null,props:Z}}return Ni.Fragment=k,Ni.jsx=v,Ni.jsxs=v,Ni}var $f;function j0(){return $f||($f=1,eu.exports=k0()),eu.exports}var s=j0(),tu={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf;function E0(){if(Qf)return Pe;Qf=1;var r=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),F=Symbol.iterator;function $(c){return c===null||typeof c!="object"?null:(c=F&&c[F]||c["@@iterator"],typeof c=="function"?c:null)}var pe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Re={};function ne(c,M,J){this.props=c,this.context=M,this.refs=Re,this.updater=J||pe}ne.prototype.isReactComponent={},ne.prototype.setState=function(c,M){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,M,"setState")},ne.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function $e(){}$e.prototype=ne.prototype;function ge(c,M,J){this.props=c,this.context=M,this.refs=Re,this.updater=J||pe}var x=ge.prototype=new $e;x.constructor=ge,P(x,ne.prototype),x.isPureReactComponent=!0;var xe=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function we(c,M,J,R,T,ee){return J=ee.ref,{$$typeof:r,type:c,key:M,ref:J!==void 0?J:null,props:ee}}function V(c,M){return we(c.type,M,void 0,void 0,void 0,c.props)}function he(c){return typeof c=="object"&&c!==null&&c.$$typeof===r}function De(c){var M={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(J){return M[J]})}var Oe=/\/+/g;function ze(c,M){return typeof c=="object"&&c!==null&&c.key!=null?De(""+c.key):M.toString(36)}function Be(){}function Te(c){switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:switch(typeof c.status=="string"?c.then(Be,Be):(c.status="pending",c.then(function(M){c.status==="pending"&&(c.status="fulfilled",c.value=M)},function(M){c.status==="pending"&&(c.status="rejected",c.reason=M)})),c.status){case"fulfilled":return c.value;case"rejected":throw c.reason}}throw c}function Ee(c,M,J,R,T){var ee=typeof c;(ee==="undefined"||ee==="boolean")&&(c=null);var K=!1;if(c===null)K=!0;else switch(ee){case"bigint":case"string":case"number":K=!0;break;case"object":switch(c.$$typeof){case r:case k:K=!0;break;case z:return K=c._init,Ee(K(c._payload),M,J,R,T)}}if(K)return T=T(c),K=R===""?"."+ze(c,0):R,xe(T)?(J="",K!=null&&(J=K.replace(Oe,"$&/")+"/"),Ee(T,M,J,"",function(me){return me})):T!=null&&(he(T)&&(T=V(T,J+(T.key==null||c&&c.key===T.key?"":(""+T.key).replace(Oe,"$&/")+"/")+K)),M.push(T)),1;K=0;var ke=R===""?".":R+":";if(xe(c))for(var Ae=0;Ae<c.length;Ae++)R=c[Ae],ee=ke+ze(R,Ae),K+=Ee(R,M,J,ee,T);else if(Ae=$(c),typeof Ae=="function")for(c=Ae.call(c),Ae=0;!(R=c.next()).done;)R=R.value,ee=ke+ze(R,Ae++),K+=Ee(R,M,J,ee,T);else if(ee==="object"){if(typeof c.then=="function")return Ee(Te(c),M,J,R,T);throw M=String(c),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return K}function b(c,M,J){if(c==null)return c;var R=[],T=0;return Ee(c,R,"","",function(ee){return M.call(J,ee,T++)}),R}function B(c){if(c._status===-1){var M=c._result;M=M(),M.then(function(J){(c._status===0||c._status===-1)&&(c._status=1,c._result=J)},function(J){(c._status===0||c._status===-1)&&(c._status=2,c._result=J)}),c._status===-1&&(c._status=0,c._result=M)}if(c._status===1)return c._result.default;throw c._result}var ce=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function He(){}return Pe.Children={map:b,forEach:function(c,M,J){b(c,function(){M.apply(this,arguments)},J)},count:function(c){var M=0;return b(c,function(){M++}),M},toArray:function(c){return b(c,function(M){return M})||[]},only:function(c){if(!he(c))throw Error("React.Children.only expected to receive a single React element child.");return c}},Pe.Component=ne,Pe.Fragment=v,Pe.Profiler=E,Pe.PureComponent=ge,Pe.StrictMode=d,Pe.Suspense=q,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(c){return A.H.useMemoCache(c)}},Pe.cache=function(c){return function(){return c.apply(null,arguments)}},Pe.cloneElement=function(c,M,J){if(c==null)throw Error("The argument must be a React element, but you passed "+c+".");var R=P({},c.props),T=c.key,ee=void 0;if(M!=null)for(K in M.ref!==void 0&&(ee=void 0),M.key!==void 0&&(T=""+M.key),M)!se.call(M,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&M.ref===void 0||(R[K]=M[K]);var K=arguments.length-2;if(K===1)R.children=J;else if(1<K){for(var ke=Array(K),Ae=0;Ae<K;Ae++)ke[Ae]=arguments[Ae+2];R.children=ke}return we(c.type,T,void 0,void 0,ee,R)},Pe.createContext=function(c){return c={$$typeof:L,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null},c.Provider=c,c.Consumer={$$typeof:Z,_context:c},c},Pe.createElement=function(c,M,J){var R,T={},ee=null;if(M!=null)for(R in M.key!==void 0&&(ee=""+M.key),M)se.call(M,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(T[R]=M[R]);var K=arguments.length-2;if(K===1)T.children=J;else if(1<K){for(var ke=Array(K),Ae=0;Ae<K;Ae++)ke[Ae]=arguments[Ae+2];T.children=ke}if(c&&c.defaultProps)for(R in K=c.defaultProps,K)T[R]===void 0&&(T[R]=K[R]);return we(c,ee,void 0,void 0,null,T)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(c){return{$$typeof:re,render:c}},Pe.isValidElement=he,Pe.lazy=function(c){return{$$typeof:z,_payload:{_status:-1,_result:c},_init:B}},Pe.memo=function(c,M){return{$$typeof:_,type:c,compare:M===void 0?null:M}},Pe.startTransition=function(c){var M=A.T,J={};A.T=J;try{var R=c(),T=A.S;T!==null&&T(J,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(He,ce)}catch(ee){ce(ee)}finally{A.T=M}},Pe.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Pe.use=function(c){return A.H.use(c)},Pe.useActionState=function(c,M,J){return A.H.useActionState(c,M,J)},Pe.useCallback=function(c,M){return A.H.useCallback(c,M)},Pe.useContext=function(c){return A.H.useContext(c)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(c,M){return A.H.useDeferredValue(c,M)},Pe.useEffect=function(c,M,J){var R=A.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return R.useEffect(c,M)},Pe.useId=function(){return A.H.useId()},Pe.useImperativeHandle=function(c,M,J){return A.H.useImperativeHandle(c,M,J)},Pe.useInsertionEffect=function(c,M){return A.H.useInsertionEffect(c,M)},Pe.useLayoutEffect=function(c,M){return A.H.useLayoutEffect(c,M)},Pe.useMemo=function(c,M){return A.H.useMemo(c,M)},Pe.useOptimistic=function(c,M){return A.H.useOptimistic(c,M)},Pe.useReducer=function(c,M,J){return A.H.useReducer(c,M,J)},Pe.useRef=function(c){return A.H.useRef(c)},Pe.useState=function(c){return A.H.useState(c)},Pe.useSyncExternalStore=function(c,M,J){return A.H.useSyncExternalStore(c,M,J)},Pe.useTransition=function(){return A.H.useTransition()},Pe.version="19.1.1",Pe}var Zf;function du(){return Zf||(Zf=1,tu.exports=E0()),tu.exports}var g=du();const C0=mg(g);var lu={exports:{}},Ti={},au={exports:{}},nu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf;function A0(){return Kf||(Kf=1,(function(r){function k(b,B){var ce=b.length;b.push(B);e:for(;0<ce;){var He=ce-1>>>1,c=b[He];if(0<E(c,B))b[He]=B,b[ce]=c,ce=He;else break e}}function v(b){return b.length===0?null:b[0]}function d(b){if(b.length===0)return null;var B=b[0],ce=b.pop();if(ce!==B){b[0]=ce;e:for(var He=0,c=b.length,M=c>>>1;He<M;){var J=2*(He+1)-1,R=b[J],T=J+1,ee=b[T];if(0>E(R,ce))T<c&&0>E(ee,R)?(b[He]=ee,b[T]=ce,He=T):(b[He]=R,b[J]=ce,He=J);else if(T<c&&0>E(ee,ce))b[He]=ee,b[T]=ce,He=T;else break e}}return B}function E(b,B){var ce=b.sortIndex-B.sortIndex;return ce!==0?ce:b.id-B.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var Z=performance;r.unstable_now=function(){return Z.now()}}else{var L=Date,re=L.now();r.unstable_now=function(){return L.now()-re}}var q=[],_=[],z=1,F=null,$=3,pe=!1,P=!1,Re=!1,ne=!1,$e=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function xe(b){for(var B=v(_);B!==null;){if(B.callback===null)d(_);else if(B.startTime<=b)d(_),B.sortIndex=B.expirationTime,k(q,B);else break;B=v(_)}}function A(b){if(Re=!1,xe(b),!P)if(v(q)!==null)P=!0,se||(se=!0,ze());else{var B=v(_);B!==null&&Ee(A,B.startTime-b)}}var se=!1,we=-1,V=5,he=-1;function De(){return ne?!0:!(r.unstable_now()-he<V)}function Oe(){if(ne=!1,se){var b=r.unstable_now();he=b;var B=!0;try{e:{P=!1,Re&&(Re=!1,ge(we),we=-1),pe=!0;var ce=$;try{t:{for(xe(b),F=v(q);F!==null&&!(F.expirationTime>b&&De());){var He=F.callback;if(typeof He=="function"){F.callback=null,$=F.priorityLevel;var c=He(F.expirationTime<=b);if(b=r.unstable_now(),typeof c=="function"){F.callback=c,xe(b),B=!0;break t}F===v(q)&&d(q),xe(b)}else d(q);F=v(q)}if(F!==null)B=!0;else{var M=v(_);M!==null&&Ee(A,M.startTime-b),B=!1}}break e}finally{F=null,$=ce,pe=!1}B=void 0}}finally{B?ze():se=!1}}}var ze;if(typeof x=="function")ze=function(){x(Oe)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Te=Be.port2;Be.port1.onmessage=Oe,ze=function(){Te.postMessage(null)}}else ze=function(){$e(Oe,0)};function Ee(b,B){we=$e(function(){b(r.unstable_now())},B)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(b){b.callback=null},r.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<b?Math.floor(1e3/b):5},r.unstable_getCurrentPriorityLevel=function(){return $},r.unstable_next=function(b){switch($){case 1:case 2:case 3:var B=3;break;default:B=$}var ce=$;$=B;try{return b()}finally{$=ce}},r.unstable_requestPaint=function(){ne=!0},r.unstable_runWithPriority=function(b,B){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var ce=$;$=b;try{return B()}finally{$=ce}},r.unstable_scheduleCallback=function(b,B,ce){var He=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?He+ce:He):ce=He,b){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return c=ce+c,b={id:z++,callback:B,priorityLevel:b,startTime:ce,expirationTime:c,sortIndex:-1},ce>He?(b.sortIndex=ce,k(_,b),v(q)===null&&b===v(_)&&(Re?(ge(we),we=-1):Re=!0,Ee(A,ce-He))):(b.sortIndex=c,k(q,b),P||pe||(P=!0,se||(se=!0,ze()))),b},r.unstable_shouldYield=De,r.unstable_wrapCallback=function(b){var B=$;return function(){var ce=$;$=B;try{return b.apply(this,arguments)}finally{$=ce}}}})(nu)),nu}var Jf;function N0(){return Jf||(Jf=1,au.exports=A0()),au.exports}var iu={exports:{}},ll={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf;function T0(){if(Wf)return ll;Wf=1;var r=du();function k(q){var _="https://react.dev/errors/"+q;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var z=2;z<arguments.length;z++)_+="&args[]="+encodeURIComponent(arguments[z])}return"Minified React error #"+q+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(){}var d={d:{f:v,r:function(){throw Error(k(522))},D:v,C:v,L:v,m:v,X:v,S:v,M:v},p:0,findDOMNode:null},E=Symbol.for("react.portal");function Z(q,_,z){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:F==null?null:""+F,children:q,containerInfo:_,implementation:z}}var L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function re(q,_){if(q==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ll.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,ll.createPortal=function(q,_){var z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(k(299));return Z(q,_,null,z)},ll.flushSync=function(q){var _=L.T,z=d.p;try{if(L.T=null,d.p=2,q)return q()}finally{L.T=_,d.p=z,d.d.f()}},ll.preconnect=function(q,_){typeof q=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,d.d.C(q,_))},ll.prefetchDNS=function(q){typeof q=="string"&&d.d.D(q)},ll.preinit=function(q,_){if(typeof q=="string"&&_&&typeof _.as=="string"){var z=_.as,F=re(z,_.crossOrigin),$=typeof _.integrity=="string"?_.integrity:void 0,pe=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;z==="style"?d.d.S(q,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:F,integrity:$,fetchPriority:pe}):z==="script"&&d.d.X(q,{crossOrigin:F,integrity:$,fetchPriority:pe,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ll.preinitModule=function(q,_){if(typeof q=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var z=re(_.as,_.crossOrigin);d.d.M(q,{crossOrigin:z,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&d.d.M(q)},ll.preload=function(q,_){if(typeof q=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var z=_.as,F=re(z,_.crossOrigin);d.d.L(q,z,{crossOrigin:F,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ll.preloadModule=function(q,_){if(typeof q=="string")if(_){var z=re(_.as,_.crossOrigin);d.d.m(q,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:z,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else d.d.m(q)},ll.requestFormReset=function(q){d.d.r(q)},ll.unstable_batchedUpdates=function(q,_){return q(_)},ll.useFormState=function(q,_,z){return L.H.useFormState(q,_,z)},ll.useFormStatus=function(){return L.H.useHostTransitionStatus()},ll.version="19.1.1",ll}var Ff;function pg(){if(Ff)return iu.exports;Ff=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(k){console.error(k)}}return r(),iu.exports=T0(),iu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function M0(){if(Pf)return Ti;Pf=1;var r=N0(),k=du(),v=pg();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function E(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Z(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function L(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function re(e){if(Z(e)!==e)throw Error(d(188))}function q(e){var t=e.alternate;if(!t){if(t=Z(e),t===null)throw Error(d(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return re(n),e;if(i===a)return re(n),t;i=i.sibling}throw Error(d(188))}if(l.return!==a.return)l=n,a=i;else{for(var o=!1,u=n.child;u;){if(u===l){o=!0,l=n,a=i;break}if(u===a){o=!0,a=n,l=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===l){o=!0,l=i,a=n;break}if(u===a){o=!0,a=i,l=n;break}u=u.sibling}if(!o)throw Error(d(189))}}if(l.alternate!==a)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var z=Object.assign,F=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),pe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),$e=Symbol.for("react.provider"),ge=Symbol.for("react.consumer"),x=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=Oe&&e[Oe]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function Te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case ne:return"Profiler";case Re:return"StrictMode";case A:return"Suspense";case se:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case pe:return"Portal";case x:return(e.displayName||"Context")+".Provider";case ge:return(e._context.displayName||"Context")+".Consumer";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case we:return t=e.displayName||null,t!==null?t:Te(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return Te(e(t))}catch{}}return null}var Ee=Array.isArray,b=k.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=v.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},He=[],c=-1;function M(e){return{current:e}}function J(e){0>c||(e.current=He[c],He[c]=null,c--)}function R(e,t){c++,He[c]=e.current,e.current=t}var T=M(null),ee=M(null),K=M(null),ke=M(null);function Ae(e,t){switch(R(K,t),R(ee,e),R(T,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=yf(t),e=vf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(T),R(T,e)}function me(){J(T),J(ee),J(K)}function be(e){e.memoizedState!==null&&R(ke,e);var t=T.current,l=vf(t,e.type);t!==l&&(R(ee,e),R(T,l))}function W(e){ee.current===e&&(J(T),J(ee)),ke.current===e&&(J(ke),ki._currentValue=ce)}var Q=Object.prototype.hasOwnProperty,ye=r.unstable_scheduleCallback,Ne=r.unstable_cancelCallback,fe=r.unstable_shouldYield,Ue=r.unstable_requestPaint,Se=r.unstable_now,je=r.unstable_getCurrentPriorityLevel,Le=r.unstable_ImmediatePriority,Ve=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,te=r.unstable_LowPriority,oe=r.unstable_IdlePriority,ut=r.log,G=r.unstable_setDisableYieldValue,I=null,ve=null;function We(e){if(typeof ut=="function"&&G(e),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(I,e)}catch{}}var Me=Math.clz32?Math.clz32:mt,Ge=Math.log,st=Math.LN2;function mt(e){return e>>>=0,e===0?32:31-(Ge(e)/st|0)|0}var Ie=256,qe=4194304;function nt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function D(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~i,a!==0?n=nt(a):(o&=u,o!==0?n=nt(o):l||(l=u&~e,l!==0&&(n=nt(l))))):(u=a&~i,u!==0?n=nt(u):o!==0?n=nt(o):l||(l=a&~e,l!==0&&(n=nt(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function de(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ft(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(){var e=Ie;return Ie<<=1,(Ie&4194048)===0&&(Ie=256),e}function Ht(){var e=qe;return qe<<=1,(qe&62914560)===0&&(qe=4194304),e}function Lt(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Xt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qt(e,t,l,a,n,i){var o=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,f=e.expirationTimes,S=e.hiddenUpdates;for(l=o&~l;0<l;){var O=31-Me(l),X=1<<O;u[O]=0,f[O]=-1;var j=S[O];if(j!==null)for(S[O]=null,O=0;O<j.length;O++){var C=j[O];C!==null&&(C.lane&=-536870913)}l&=~X}a!==0&&N(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function N(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Me(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&4194090}function ie(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-Me(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function w(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ue(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _e(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Hf(e.type))}function Ye(e,t){var l=B.p;try{return B.p=e,t()}finally{B.p=l}}var rt=Math.random().toString(36).slice(2),it="__reactFiber$"+rt,ht="__reactProps$"+rt,jt="__reactContainer$"+rt,zt="__reactEvents$"+rt,Vt="__reactListeners$"+rt,El="__reactHandles$"+rt,gl="__reactResources$"+rt,al="__reactMarker$"+rt;function hl(e){delete e[it],delete e[ht],delete e[zt],delete e[Vt],delete e[El]}function p(e){var t=e[it];if(t)return t;for(var l=e.parentNode;l;){if(t=l[jt]||l[it]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=_f(e);e!==null;){if(l=e[it])return l;e=_f(e)}return t}e=l,l=e.parentNode}return null}function Y(e){if(e=e[it]||e[jt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function le(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Fe(e){var t=e[gl];return t||(t=e[gl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[al]=!0}var ct=new Set,el={};function Mt(e,t){Rt(e,t),Rt(e+"Capture",t)}function Rt(e,t){for(el[e]=t,e=0;e<t.length;e++)ct.add(t[e])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},$t={};function At(e){return Q.call($t,e)?!0:Q.call(ml,e)?!1:sl.test(e)?$t[e]=!0:(ml[e]=!0,!1)}function pl(e,t,l){if(At(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function nl(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function bl(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}var Zl,yl;function Jt(e){if(Zl===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Zl=t&&t[1]||"",yl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zl+e+yl}var rl=!1;function Ll(e,t){if(!e||rl)return"";rl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(C){var j=C}Reflect.construct(e,[],X)}else{try{X.call()}catch(C){j=C}e.call(X.prototype)}}else{try{throw Error()}catch(C){j=C}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(C){if(C&&j&&typeof C.stack=="string")return[C.stack,j.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),o=i[0],u=i[1];if(o&&u){var f=o.split(`
`),S=u.split(`
`);for(n=a=0;a<f.length&&!f[a].includes("DetermineComponentFrameRoot");)a++;for(;n<S.length&&!S[n].includes("DetermineComponentFrameRoot");)n++;if(a===f.length||n===S.length)for(a=f.length-1,n=S.length-1;1<=a&&0<=n&&f[a]!==S[n];)n--;for(;1<=a&&0<=n;a--,n--)if(f[a]!==S[n]){if(a!==1||n!==1)do if(a--,n--,0>n||f[a]!==S[n]){var O=`
`+f[a].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=a&&0<=n);break}}}finally{rl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Jt(l):""}function fu(e){switch(e.tag){case 26:case 27:case 5:return Jt(e.type);case 16:return Jt("Lazy");case 13:return Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return Ll(e.type,!1);case 11:return Ll(e.type.render,!1);case 1:return Ll(e.type,!0);case 31:return Jt("Activity");default:return""}}function Un(e){try{var t="";do t+=fu(e),e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ma(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ra(e){var t=Ma(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fa(e){e._valueTracker||(e._valueTracker=Ra(e))}function gu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Ma(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xg=/[\n"\\]/g;function Cl(e){return e.replace(xg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ws(e,t,l,a,n,i,o,u){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Wt(t)):e.value!==""+Wt(t)&&(e.value=""+Wt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Fs(e,o,Wt(t)):l!=null?Fs(e,o,Wt(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+Wt(u):e.removeAttribute("name")}function hu(e,t,l,a,n,i,o,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;l=l!=null?""+Wt(l):"",t=t!=null?""+Wt(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function Fs(e,t,l){t==="number"&&Bi(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Pa(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Wt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function mu(e,t,l){if(t!=null&&(t=""+Wt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Wt(l):""}function pu(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(d(92));if(Ee(a)){if(1<a.length)throw Error(d(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Wt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a)}function Ia(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var wg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||wg.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function yu(e,t,l){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&bu(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&bu(e,i,t[i])}function Ps(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_g=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hi(e){return _g.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Is=null;function er(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var en=null,tn=null;function vu(e){var t=Y(e);if(t&&(e=t.stateNode)){var l=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ws(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Cl(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[ht]||null;if(!n)throw Error(d(90));Ws(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&gu(a)}break e;case"textarea":mu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Pa(e,!!l.multiple,t,!1)}}}var tr=!1;function xu(e,t,l){if(tr)return e(t,l);tr=!0;try{var a=e(t);return a}finally{if(tr=!1,(en!==null||tn!==null)&&(_s(),en&&(t=en,e=tn,tn=en=null,vu(t),e)))for(t=0;t<e.length;t++)vu(e[t])}}function Bn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[ht]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(d(231,t,typeof l));return l}var Kl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(Kl)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{lr=!1}var ua=null,ar=null,Li=null;function wu(){if(Li)return Li;var e,t=ar,l=t.length,a,n="value"in ua?ua.value:ua.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var o=l-e;for(a=1;a<=o&&t[l-a]===n[i-a];a++);return Li=n.slice(e,1<a?1-a:void 0)}function Gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function Su(){return!1}function ol(e){function t(l,a,n,i,o){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yi:Su,this.isPropagationStopped=Su,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=ol(Oa),Ln=z({},Oa,{view:0,detail:0}),kg=ol(Ln),nr,ir,Gn,qi=z({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gn&&(Gn&&e.type==="mousemove"?(nr=e.screenX-Gn.screenX,ir=e.screenY-Gn.screenY):ir=nr=0,Gn=e),nr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),_u=ol(qi),jg=z({},qi,{dataTransfer:0}),Eg=ol(jg),Cg=z({},Ln,{relatedTarget:0}),sr=ol(Cg),Ag=z({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ng=ol(Ag),Tg=z({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mg=ol(Tg),Rg=z({},Oa,{data:0}),ku=ol(Rg),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zg[e])?!!t[e]:!1}function rr(){return Ug}var Bg=z({},Ln,{key:function(e){if(e.key){var t=Og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(e){return e.type==="keypress"?Gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hg=ol(Bg),Lg=z({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=ol(Lg),Gg=z({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),Yg=ol(Gg),Xg=z({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),qg=ol(Xg),Vg=z({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$g=ol(Vg),Qg=z({},Oa,{newState:0,oldState:0}),Zg=ol(Qg),Kg=[9,13,27,32],or=Kl&&"CompositionEvent"in window,Yn=null;Kl&&"documentMode"in document&&(Yn=document.documentMode);var Jg=Kl&&"TextEvent"in window&&!Yn,Eu=Kl&&(!or||Yn&&8<Yn&&11>=Yn),Cu=" ",Au=!1;function Nu(e,t){switch(e){case"keyup":return Kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ln=!1;function Wg(e,t){switch(e){case"compositionend":return Tu(t);case"keypress":return t.which!==32?null:(Au=!0,Cu);case"textInput":return e=t.data,e===Cu&&Au?null:e;default:return null}}function Fg(e,t){if(ln)return e==="compositionend"||!or&&Nu(e,t)?(e=wu(),Li=ar=ua=null,ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eu&&t.locale!=="ko"?null:t.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pg[e.type]:t==="textarea"}function Ru(e,t,l,a){en?tn?tn.push(a):tn=[a]:en=a,t=Ns(t,"onChange"),0<t.length&&(l=new Xi("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Xn=null,qn=null;function Ig(e){gf(e,0)}function Vi(e){var t=le(e);if(gu(t))return e}function Ou(e,t){if(e==="change")return t}var Du=!1;if(Kl){var ur;if(Kl){var cr="oninput"in document;if(!cr){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),cr=typeof zu.oninput=="function"}ur=cr}else ur=!1;Du=ur&&(!document.documentMode||9<document.documentMode)}function Uu(){Xn&&(Xn.detachEvent("onpropertychange",Bu),qn=Xn=null)}function Bu(e){if(e.propertyName==="value"&&Vi(qn)){var t=[];Ru(t,qn,e,er(e)),xu(Ig,t)}}function eh(e,t,l){e==="focusin"?(Uu(),Xn=t,qn=l,Xn.attachEvent("onpropertychange",Bu)):e==="focusout"&&Uu()}function th(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vi(qn)}function lh(e,t){if(e==="click")return Vi(t)}function ah(e,t){if(e==="input"||e==="change")return Vi(t)}function nh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vl=typeof Object.is=="function"?Object.is:nh;function Vn(e,t){if(vl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Q.call(t,n)||!vl(e[n],t[n]))return!1}return!0}function Hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lu(e,t){var l=Hu(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hu(l)}}function Gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bi(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Bi(e.document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ih=Kl&&"documentMode"in document&&11>=document.documentMode,an=null,fr=null,$n=null,gr=!1;function Xu(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gr||an==null||an!==Bi(a)||(a=an,"selectionStart"in a&&dr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),$n&&Vn($n,a)||($n=a,a=Ns(fr,"onSelect"),0<a.length&&(t=new Xi("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=an)))}function Da(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var nn={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},hr={},qu={};Kl&&(qu=document.createElement("div").style,"AnimationEvent"in window||(delete nn.animationend.animation,delete nn.animationiteration.animation,delete nn.animationstart.animation),"TransitionEvent"in window||delete nn.transitionend.transition);function za(e){if(hr[e])return hr[e];if(!nn[e])return e;var t=nn[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in qu)return hr[e]=t[l];return e}var Vu=za("animationend"),$u=za("animationiteration"),Qu=za("animationstart"),sh=za("transitionrun"),rh=za("transitionstart"),oh=za("transitioncancel"),Zu=za("transitionend"),Ku=new Map,mr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mr.push("scrollEnd");function Ul(e,t){Ku.set(e,t),Mt(t,[e])}var Ju=new WeakMap;function Al(e,t){if(typeof e=="object"&&e!==null){var l=Ju.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Un(t)},Ju.set(e,t),t)}return{value:e,source:t,stack:Un(t)}}var Nl=[],sn=0,pr=0;function $i(){for(var e=sn,t=pr=sn=0;t<e;){var l=Nl[t];Nl[t++]=null;var a=Nl[t];Nl[t++]=null;var n=Nl[t];Nl[t++]=null;var i=Nl[t];if(Nl[t++]=null,a!==null&&n!==null){var o=a.pending;o===null?n.next=n:(n.next=o.next,o.next=n),a.pending=n}i!==0&&Wu(l,n,i)}}function Qi(e,t,l,a){Nl[sn++]=e,Nl[sn++]=t,Nl[sn++]=l,Nl[sn++]=a,pr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function br(e,t,l,a){return Qi(e,t,l,a),Zi(e)}function rn(e,t){return Qi(e,null,null,t),Zi(e)}function Wu(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Me(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function Zi(e){if(50<pi)throw pi=0,ko=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var on={};function uh(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xl(e,t,l,a){return new uh(e,t,l,a)}function yr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jl(e,t){var l=e.alternate;return l===null?(l=xl(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Fu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ki(e,t,l,a,n,i){var o=0;if(a=e,typeof e=="function")yr(e)&&(o=1);else if(typeof e=="string")o=d0(e,l,T.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=xl(31,l,t,n),e.elementType=he,e.lanes=i,e;case P:return Ua(l.children,n,i,t);case Re:o=8,n|=24;break;case ne:return e=xl(12,l,t,n|2),e.elementType=ne,e.lanes=i,e;case A:return e=xl(13,l,t,n),e.elementType=A,e.lanes=i,e;case se:return e=xl(19,l,t,n),e.elementType=se,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $e:case x:o=10;break e;case ge:o=9;break e;case xe:o=11;break e;case we:o=14;break e;case V:o=16,a=null;break e}o=29,l=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=xl(o,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Ua(e,t,l,a){return e=xl(7,e,a,t),e.lanes=l,e}function vr(e,t,l){return e=xl(6,e,null,t),e.lanes=l,e}function xr(e,t,l){return t=xl(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var un=[],cn=0,Ji=null,Wi=0,Tl=[],Ml=0,Ba=null,Wl=1,Fl="";function Ha(e,t){un[cn++]=Wi,un[cn++]=Ji,Ji=e,Wi=t}function Pu(e,t,l){Tl[Ml++]=Wl,Tl[Ml++]=Fl,Tl[Ml++]=Ba,Ba=e;var a=Wl;e=Fl;var n=32-Me(a)-1;a&=~(1<<n),l+=1;var i=32-Me(t)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,Wl=1<<32-Me(t)+n|l<<n|a,Fl=i+e}else Wl=1<<i|l<<n|a,Fl=e}function wr(e){e.return!==null&&(Ha(e,1),Pu(e,1,0))}function Sr(e){for(;e===Ji;)Ji=un[--cn],un[cn]=null,Wi=un[--cn],un[cn]=null;for(;e===Ba;)Ba=Tl[--Ml],Tl[Ml]=null,Fl=Tl[--Ml],Tl[Ml]=null,Wl=Tl[--Ml],Tl[Ml]=null}var il=null,Nt=null,gt=!1,La=null,Gl=!1,_r=Error(d(519));function Ga(e){var t=Error(d(418,""));throw Kn(Al(t,e)),_r}function Iu(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[it]=e,t[ht]=a,l){case"dialog":at("cancel",t),at("close",t);break;case"iframe":case"object":case"embed":at("load",t);break;case"video":case"audio":for(l=0;l<yi.length;l++)at(yi[l],t);break;case"source":at("error",t);break;case"img":case"image":case"link":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"input":at("invalid",t),hu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Fa(t);break;case"select":at("invalid",t);break;case"textarea":at("invalid",t),pu(t,a.value,a.defaultValue,a.children),Fa(t)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||bf(t.textContent,l)?(a.popover!=null&&(at("beforetoggle",t),at("toggle",t)),a.onScroll!=null&&at("scroll",t),a.onScrollEnd!=null&&at("scrollend",t),a.onClick!=null&&(t.onclick=Ts),t=!0):t=!1,t||Ga(e)}function ec(e){for(il=e.return;il;)switch(il.tag){case 5:case 13:Gl=!1;return;case 27:case 3:Gl=!0;return;default:il=il.return}}function Qn(e){if(e!==il)return!1;if(!gt)return ec(e),gt=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Go(e.type,e.memoizedProps)),l=!l),l&&Nt&&Ga(e),ec(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(t===0){Nt=Hl(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++;e=e.nextSibling}Nt=null}}else t===27?(t=Nt,ja(e.type)?(e=Vo,Vo=null,Nt=e):Nt=t):Nt=il?Hl(e.stateNode.nextSibling):null;return!0}function Zn(){Nt=il=null,gt=!1}function tc(){var e=La;return e!==null&&(dl===null?dl=e:dl.push.apply(dl,e),La=null),e}function Kn(e){La===null?La=[e]:La.push(e)}var kr=M(null),Ya=null,Pl=null;function ca(e,t,l){R(kr,t._currentValue),t._currentValue=l}function Il(e){e._currentValue=kr.current,J(kr)}function jr(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Er(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var o=n.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=n;for(var f=0;f<t.length;f++)if(u.context===t[f]){i.lanes|=l,u=i.alternate,u!==null&&(u.lanes|=l),jr(i.return,l,e),a||(o=null);break e}i=u.next}}else if(n.tag===18){if(o=n.return,o===null)throw Error(d(341));o.lanes|=l,i=o.alternate,i!==null&&(i.lanes|=l),jr(o,l,e),o=null}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}}function Jn(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var o=n.alternate;if(o===null)throw Error(d(387));if(o=o.memoizedProps,o!==null){var u=n.type;vl(n.pendingProps.value,o.value)||(e!==null?e.push(u):e=[u])}}else if(n===ke.current){if(o=n.alternate,o===null)throw Error(d(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(ki):e=[ki])}n=n.return}e!==null&&Er(t,e,l,a),t.flags|=262144}function Fi(e){for(e=e.firstContext;e!==null;){if(!vl(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xa(e){Ya=e,Pl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tl(e){return lc(Ya,e)}function Pi(e,t){return Ya===null&&Xa(e),lc(e,t)}function lc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Pl===null){if(e===null)throw Error(d(308));Pl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pl=Pl.next=t;return l}var ch=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},dh=r.unstable_scheduleCallback,fh=r.unstable_NormalPriority,Gt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cr(){return{controller:new ch,data:new Map,refCount:0}}function Wn(e){e.refCount--,e.refCount===0&&dh(fh,function(){e.controller.abort()})}var Fn=null,Ar=0,dn=0,fn=null;function gh(e,t){if(Fn===null){var l=Fn=[];Ar=0,dn=Mo(),fn={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Ar++,t.then(ac,ac),t}function ac(){if(--Ar===0&&Fn!==null){fn!==null&&(fn.status="fulfilled");var e=Fn;Fn=null,dn=0,fn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hh(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var nc=b.S;b.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&gh(e,t),nc!==null&&nc(e,t)};var qa=M(null);function Nr(){var e=qa.current;return e!==null?e:_t.pooledCache}function Ii(e,t){t===null?R(qa,qa.current):R(qa,t.pool)}function ic(){var e=Nr();return e===null?null:{parent:Gt._currentValue,pool:e}}var Pn=Error(d(460)),sc=Error(d(474)),es=Error(d(542)),Tr={then:function(){}};function rc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ts(){}function oc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(ts,ts),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cc(e),e;default:if(typeof t.status=="string")t.then(ts,ts);else{if(e=_t,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cc(e),e}throw In=t,Pn}}var In=null;function uc(){if(In===null)throw Error(d(459));var e=In;return In=null,e}function cc(e){if(e===Pn||e===es)throw Error(d(483))}var da=!1;function Mr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ga(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(pt&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Zi(e),Wu(e,null,l),t}return Qi(e,a,t,l),Zi(e)}function ei(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,ie(e,l)}}function Or(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var o={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=o:i=i.next=o,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Dr=!1;function ti(){if(Dr){var e=fn;if(e!==null)throw e}}function li(e,t,l,a){Dr=!1;var n=e.updateQueue;da=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var f=u,S=f.next;f.next=null,o===null?i=S:o.next=S,o=f;var O=e.alternate;O!==null&&(O=O.updateQueue,u=O.lastBaseUpdate,u!==o&&(u===null?O.firstBaseUpdate=S:u.next=S,O.lastBaseUpdate=f))}if(i!==null){var X=n.baseState;o=0,O=S=f=null,u=i;do{var j=u.lane&-536870913,C=j!==u.lane;if(C?(ot&j)===j:(a&j)===j){j!==0&&j===dn&&(Dr=!0),O!==null&&(O=O.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var Je=e,Qe=u;j=t;var wt=l;switch(Qe.tag){case 1:if(Je=Qe.payload,typeof Je=="function"){X=Je.call(wt,X,j);break e}X=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Qe.payload,j=typeof Je=="function"?Je.call(wt,X,j):Je,j==null)break e;X=z({},X,j);break e;case 2:da=!0}}j=u.callback,j!==null&&(e.flags|=64,C&&(e.flags|=8192),C=n.callbacks,C===null?n.callbacks=[j]:C.push(j))}else C={lane:j,tag:u.tag,payload:u.payload,callback:u.callback,next:null},O===null?(S=O=C,f=X):O=O.next=C,o|=j;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;C=u,u=C.next,C.next=null,n.lastBaseUpdate=C,n.shared.pending=null}}while(!0);O===null&&(f=X),n.baseState=f,n.firstBaseUpdate=S,n.lastBaseUpdate=O,i===null&&(n.shared.lanes=0),wa|=o,e.lanes=o,e.memoizedState=X}}function dc(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function fc(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)dc(l[e],t)}var gn=M(null),ls=M(0);function gc(e,t){e=sa,R(ls,e),R(gn,t),sa=e|t.baseLanes}function zr(){R(ls,sa),R(gn,gn.current)}function Ur(){sa=ls.current,J(gn),J(ls)}var ha=0,et=null,vt=null,Ut=null,as=!1,hn=!1,Va=!1,ns=0,ai=0,mn=null,mh=0;function Ot(){throw Error(d(321))}function Br(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!vl(e[l],t[l]))return!1;return!0}function Hr(e,t,l,a,n,i){return ha=i,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,b.H=e===null||e.memoizedState===null?Wc:Fc,Va=!1,i=l(a,n),Va=!1,hn&&(i=mc(t,l,a,n)),hc(e),i}function hc(e){b.H=cs;var t=vt!==null&&vt.next!==null;if(ha=0,Ut=vt=et=null,as=!1,ai=0,mn=null,t)throw Error(d(300));e===null||Qt||(e=e.dependencies,e!==null&&Fi(e)&&(Qt=!0))}function mc(e,t,l,a){et=e;var n=0;do{if(hn&&(mn=null),ai=0,hn=!1,25<=n)throw Error(d(301));if(n+=1,Ut=vt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}b.H=Sh,i=t(l,a)}while(hn);return i}function ph(){var e=b.H,t=e.useState()[0];return t=typeof t.then=="function"?ni(t):t,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(et.flags|=1024),t}function Lr(){var e=ns!==0;return ns=0,e}function Gr(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Yr(e){if(as){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}as=!1}ha=0,Ut=vt=et=null,hn=!1,ai=ns=0,mn=null}function ul(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?et.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function Bt(){if(vt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Ut===null?et.memoizedState:Ut.next;if(t!==null)Ut=t,vt=e;else{if(e===null)throw et.alternate===null?Error(d(467)):Error(d(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ut===null?et.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function Xr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ni(e){var t=ai;return ai+=1,mn===null&&(mn=[]),e=oc(mn,e,t),t=et,(Ut===null?t.memoizedState:Ut.next)===null&&(t=t.alternate,b.H=t===null||t.memoizedState===null?Wc:Fc),e}function is(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ni(e);if(e.$$typeof===x)return tl(e)}throw Error(d(438,String(e)))}function qr(e){var t=null,l=et.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=et.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Xr(),et.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=De;return t.index++,l}function ea(e,t){return typeof t=="function"?t(e):t}function ss(e){var t=Bt();return Vr(t,vt,e)}function Vr(e,t,l){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var u=o=null,f=null,S=t,O=!1;do{var X=S.lane&-536870913;if(X!==S.lane?(ot&X)===X:(ha&X)===X){var j=S.revertLane;if(j===0)f!==null&&(f=f.next={lane:0,revertLane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),X===dn&&(O=!0);else if((ha&j)===j){S=S.next,j===dn&&(O=!0);continue}else X={lane:0,revertLane:S.revertLane,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},f===null?(u=f=X,o=i):f=f.next=X,et.lanes|=j,wa|=j;X=S.action,Va&&l(i,X),i=S.hasEagerState?S.eagerState:l(i,X)}else j={lane:X,revertLane:S.revertLane,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},f===null?(u=f=j,o=i):f=f.next=j,et.lanes|=X,wa|=X;S=S.next}while(S!==null&&S!==t);if(f===null?o=i:f.next=u,!vl(i,e.memoizedState)&&(Qt=!0,O&&(l=fn,l!==null)))throw l;e.memoizedState=i,e.baseState=o,e.baseQueue=f,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function $r(e){var t=Bt(),l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);vl(i,t.memoizedState)||(Qt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function pc(e,t,l){var a=et,n=Bt(),i=gt;if(i){if(l===void 0)throw Error(d(407));l=l()}else l=t();var o=!vl((vt||n).memoizedState,l);o&&(n.memoizedState=l,Qt=!0),n=n.queue;var u=vc.bind(null,a,n,e);if(ii(2048,8,u,[e]),n.getSnapshot!==t||o||Ut!==null&&Ut.memoizedState.tag&1){if(a.flags|=2048,pn(9,rs(),yc.bind(null,a,n,l,t),null),_t===null)throw Error(d(349));i||(ha&124)!==0||bc(a,t,l)}return l}function bc(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=et.updateQueue,t===null?(t=Xr(),et.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function yc(e,t,l,a){t.value=l,t.getSnapshot=a,xc(t)&&wc(e)}function vc(e,t,l){return l(function(){xc(t)&&wc(e)})}function xc(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!vl(e,l)}catch{return!0}}function wc(e){var t=rn(e,2);t!==null&&jl(t,e,2)}function Qr(e){var t=ul();if(typeof e=="function"){var l=e;if(e=l(),Va){We(!0);try{l()}finally{We(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:e},t}function Sc(e,t,l,a){return e.baseState=l,Vr(e,vt,typeof a=="function"?a:ea)}function bh(e,t,l,a,n){if(us(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};b.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,_c(t,i)):(i.next=l.next,t.pending=l.next=i)}}function _c(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=b.T,o={};b.T=o;try{var u=l(n,a),f=b.S;f!==null&&f(o,u),kc(e,t,u)}catch(S){Zr(e,t,S)}finally{b.T=i}}else try{i=l(n,a),kc(e,t,i)}catch(S){Zr(e,t,S)}}function kc(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){jc(e,t,a)},function(a){return Zr(e,t,a)}):jc(e,t,l)}function jc(e,t,l){t.status="fulfilled",t.value=l,Ec(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,_c(e,l)))}function Zr(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Ec(t),t=t.next;while(t!==a)}e.action=null}function Ec(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cc(e,t){return t}function Ac(e,t){if(gt){var l=_t.formState;if(l!==null){e:{var a=et;if(gt){if(Nt){t:{for(var n=Nt,i=Gl;n.nodeType!==8;){if(!i){n=null;break t}if(n=Hl(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Nt=Hl(n.nextSibling),a=n.data==="F!";break e}}Ga(a)}a=!1}a&&(t=l[0])}}return l=ul(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:t},l.queue=a,l=Zc.bind(null,et,a),a.dispatch=l,a=Qr(!1),i=Pr.bind(null,et,!1,a.queue),a=ul(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=bh.bind(null,et,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Nc(e){var t=Bt();return Tc(t,vt,e)}function Tc(e,t,l){if(t=Vr(e,t,Cc)[0],e=ss(ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ni(t)}catch(o){throw o===Pn?es:o}else a=t;t=Bt();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(et.flags|=2048,pn(9,rs(),yh.bind(null,n,l),null)),[a,i,e]}function yh(e,t){e.action=t}function Mc(e){var t=Bt(),l=vt;if(l!==null)return Tc(t,l,e);Bt(),t=t.memoizedState,l=Bt();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function pn(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=et.updateQueue,t===null&&(t=Xr(),et.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function rs(){return{destroy:void 0,resource:void 0}}function Rc(){return Bt().memoizedState}function os(e,t,l,a){var n=ul();a=a===void 0?null:a,et.flags|=e,n.memoizedState=pn(1|t,rs(),l,a)}function ii(e,t,l,a){var n=Bt();a=a===void 0?null:a;var i=n.memoizedState.inst;vt!==null&&a!==null&&Br(a,vt.memoizedState.deps)?n.memoizedState=pn(t,i,l,a):(et.flags|=e,n.memoizedState=pn(1|t,i,l,a))}function Oc(e,t){os(8390656,8,e,t)}function Dc(e,t){ii(2048,8,e,t)}function zc(e,t){return ii(4,2,e,t)}function Uc(e,t){return ii(4,4,e,t)}function Bc(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hc(e,t,l){l=l!=null?l.concat([e]):null,ii(4,4,Bc.bind(null,t,e),l)}function Kr(){}function Lc(e,t){var l=Bt();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Br(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Gc(e,t){var l=Bt();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Br(t,a[1]))return a[0];if(a=e(),Va){We(!0);try{e()}finally{We(!1)}}return l.memoizedState=[a,t],a}function Jr(e,t,l){return l===void 0||(ha&1073741824)!==0?e.memoizedState=t:(e.memoizedState=l,e=qd(),et.lanes|=e,wa|=e,l)}function Yc(e,t,l,a){return vl(l,t)?l:gn.current!==null?(e=Jr(e,l,a),vl(e,t)||(Qt=!0),e):(ha&42)===0?(Qt=!0,e.memoizedState=l):(e=qd(),et.lanes|=e,wa|=e,t)}function Xc(e,t,l,a,n){var i=B.p;B.p=i!==0&&8>i?i:8;var o=b.T,u={};b.T=u,Pr(e,!1,t,l);try{var f=n(),S=b.S;if(S!==null&&S(u,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var O=hh(f,a);si(e,t,O,kl(e))}else si(e,t,a,kl(e))}catch(X){si(e,t,{then:function(){},status:"rejected",reason:X},kl())}finally{B.p=i,b.T=o}}function vh(){}function Wr(e,t,l,a){if(e.tag!==5)throw Error(d(476));var n=qc(e).queue;Xc(e,n,t,ce,l===null?vh:function(){return Vc(e),l(a)})}function qc(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:ce},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vc(e){var t=qc(e).next.queue;si(e,t,{},kl())}function Fr(){return tl(ki)}function $c(){return Bt().memoizedState}function Qc(){return Bt().memoizedState}function xh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=kl();e=fa(l);var a=ga(t,e,l);a!==null&&(jl(a,t,l),ei(a,t,l)),t={cache:Cr()},e.payload=t;return}t=t.return}}function wh(e,t,l){var a=kl();l={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},us(e)?Kc(t,l):(l=br(e,t,l,a),l!==null&&(jl(l,e,a),Jc(l,t,a)))}function Zc(e,t,l){var a=kl();si(e,t,l,a)}function si(e,t,l,a){var n={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(us(e))Kc(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,u=i(o,l);if(n.hasEagerState=!0,n.eagerState=u,vl(u,o))return Qi(e,t,n,0),_t===null&&$i(),!1}catch{}finally{}if(l=br(e,t,n,a),l!==null)return jl(l,e,a),Jc(l,t,a),!0}return!1}function Pr(e,t,l,a){if(a={lane:2,revertLane:Mo(),action:a,hasEagerState:!1,eagerState:null,next:null},us(e)){if(t)throw Error(d(479))}else t=br(e,l,a,2),t!==null&&jl(t,e,2)}function us(e){var t=e.alternate;return e===et||t!==null&&t===et}function Kc(e,t){hn=as=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Jc(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,ie(e,l)}}var cs={readContext:tl,use:is,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},Wc={readContext:tl,use:is,useCallback:function(e,t){return ul().memoizedState=[e,t===void 0?null:t],e},useContext:tl,useEffect:Oc,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,os(4194308,4,Bc.bind(null,t,e),l)},useLayoutEffect:function(e,t){return os(4194308,4,e,t)},useInsertionEffect:function(e,t){os(4,2,e,t)},useMemo:function(e,t){var l=ul();t=t===void 0?null:t;var a=e();if(Va){We(!0);try{e()}finally{We(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=ul();if(l!==void 0){var n=l(t);if(Va){We(!0);try{l(t)}finally{We(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=wh.bind(null,et,e),[a.memoizedState,e]},useRef:function(e){var t=ul();return e={current:e},t.memoizedState=e},useState:function(e){e=Qr(e);var t=e.queue,l=Zc.bind(null,et,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Kr,useDeferredValue:function(e,t){var l=ul();return Jr(l,e,t)},useTransition:function(){var e=Qr(!1);return e=Xc.bind(null,et,e.queue,!0,!1),ul().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=et,n=ul();if(gt){if(l===void 0)throw Error(d(407));l=l()}else{if(l=t(),_t===null)throw Error(d(349));(ot&124)!==0||bc(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,Oc(vc.bind(null,a,i,e),[e]),a.flags|=2048,pn(9,rs(),yc.bind(null,a,i,l,t),null),l},useId:function(){var e=ul(),t=_t.identifierPrefix;if(gt){var l=Fl,a=Wl;l=(a&~(1<<32-Me(a)-1)).toString(32)+l,t=""+t+"R"+l,l=ns++,0<l&&(t+="H"+l.toString(32)),t+=""}else l=mh++,t=""+t+"r"+l.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Fr,useFormState:Ac,useActionState:Ac,useOptimistic:function(e){var t=ul();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Pr.bind(null,et,!0,l),l.dispatch=t,[e,t]},useMemoCache:qr,useCacheRefresh:function(){return ul().memoizedState=xh.bind(null,et)}},Fc={readContext:tl,use:is,useCallback:Lc,useContext:tl,useEffect:Dc,useImperativeHandle:Hc,useInsertionEffect:zc,useLayoutEffect:Uc,useMemo:Gc,useReducer:ss,useRef:Rc,useState:function(){return ss(ea)},useDebugValue:Kr,useDeferredValue:function(e,t){var l=Bt();return Yc(l,vt.memoizedState,e,t)},useTransition:function(){var e=ss(ea)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:ni(e),t]},useSyncExternalStore:pc,useId:$c,useHostTransitionStatus:Fr,useFormState:Nc,useActionState:Nc,useOptimistic:function(e,t){var l=Bt();return Sc(l,vt,e,t)},useMemoCache:qr,useCacheRefresh:Qc},Sh={readContext:tl,use:is,useCallback:Lc,useContext:tl,useEffect:Dc,useImperativeHandle:Hc,useInsertionEffect:zc,useLayoutEffect:Uc,useMemo:Gc,useReducer:$r,useRef:Rc,useState:function(){return $r(ea)},useDebugValue:Kr,useDeferredValue:function(e,t){var l=Bt();return vt===null?Jr(l,e,t):Yc(l,vt.memoizedState,e,t)},useTransition:function(){var e=$r(ea)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:ni(e),t]},useSyncExternalStore:pc,useId:$c,useHostTransitionStatus:Fr,useFormState:Mc,useActionState:Mc,useOptimistic:function(e,t){var l=Bt();return vt!==null?Sc(l,vt,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:qr,useCacheRefresh:Qc},bn=null,ri=0;function ds(e){var t=ri;return ri+=1,bn===null&&(bn=[]),oc(bn,e,t)}function oi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fs(e,t){throw t.$$typeof===F?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pc(e){var t=e._init;return t(e._payload)}function Ic(e){function t(m,h){if(e){var y=m.deletions;y===null?(m.deletions=[h],m.flags|=16):y.push(h)}}function l(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function a(m){for(var h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function n(m,h){return m=Jl(m,h),m.index=0,m.sibling=null,m}function i(m,h,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<h?(m.flags|=67108866,h):y):(m.flags|=67108866,h)):(m.flags|=1048576,h)}function o(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function u(m,h,y,U){return h===null||h.tag!==6?(h=vr(y,m.mode,U),h.return=m,h):(h=n(h,y),h.return=m,h)}function f(m,h,y,U){var Ce=y.type;return Ce===P?O(m,h,y.props.children,U,y.key):h!==null&&(h.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===V&&Pc(Ce)===h.type)?(h=n(h,y.props),oi(h,y),h.return=m,h):(h=Ki(y.type,y.key,y.props,null,m.mode,U),oi(h,y),h.return=m,h)}function S(m,h,y,U){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=xr(y,m.mode,U),h.return=m,h):(h=n(h,y.children||[]),h.return=m,h)}function O(m,h,y,U,Ce){return h===null||h.tag!==7?(h=Ua(y,m.mode,U,Ce),h.return=m,h):(h=n(h,y),h.return=m,h)}function X(m,h,y){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=vr(""+h,m.mode,y),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case $:return y=Ki(h.type,h.key,h.props,null,m.mode,y),oi(y,h),y.return=m,y;case pe:return h=xr(h,m.mode,y),h.return=m,h;case V:var U=h._init;return h=U(h._payload),X(m,h,y)}if(Ee(h)||ze(h))return h=Ua(h,m.mode,y,null),h.return=m,h;if(typeof h.then=="function")return X(m,ds(h),y);if(h.$$typeof===x)return X(m,Pi(m,h),y);fs(m,h)}return null}function j(m,h,y,U){var Ce=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return Ce!==null?null:u(m,h,""+y,U);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $:return y.key===Ce?f(m,h,y,U):null;case pe:return y.key===Ce?S(m,h,y,U):null;case V:return Ce=y._init,y=Ce(y._payload),j(m,h,y,U)}if(Ee(y)||ze(y))return Ce!==null?null:O(m,h,y,U,null);if(typeof y.then=="function")return j(m,h,ds(y),U);if(y.$$typeof===x)return j(m,h,Pi(m,y),U);fs(m,y)}return null}function C(m,h,y,U,Ce){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return m=m.get(y)||null,u(h,m,""+U,Ce);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case $:return m=m.get(U.key===null?y:U.key)||null,f(h,m,U,Ce);case pe:return m=m.get(U.key===null?y:U.key)||null,S(h,m,U,Ce);case V:var tt=U._init;return U=tt(U._payload),C(m,h,y,U,Ce)}if(Ee(U)||ze(U))return m=m.get(y)||null,O(h,m,U,Ce,null);if(typeof U.then=="function")return C(m,h,y,ds(U),Ce);if(U.$$typeof===x)return C(m,h,y,Pi(h,U),Ce);fs(h,U)}return null}function Je(m,h,y,U){for(var Ce=null,tt=null,Xe=h,Ze=h=0,Kt=null;Xe!==null&&Ze<y.length;Ze++){Xe.index>Ze?(Kt=Xe,Xe=null):Kt=Xe.sibling;var dt=j(m,Xe,y[Ze],U);if(dt===null){Xe===null&&(Xe=Kt);break}e&&Xe&&dt.alternate===null&&t(m,Xe),h=i(dt,h,Ze),tt===null?Ce=dt:tt.sibling=dt,tt=dt,Xe=Kt}if(Ze===y.length)return l(m,Xe),gt&&Ha(m,Ze),Ce;if(Xe===null){for(;Ze<y.length;Ze++)Xe=X(m,y[Ze],U),Xe!==null&&(h=i(Xe,h,Ze),tt===null?Ce=Xe:tt.sibling=Xe,tt=Xe);return gt&&Ha(m,Ze),Ce}for(Xe=a(Xe);Ze<y.length;Ze++)Kt=C(Xe,m,Ze,y[Ze],U),Kt!==null&&(e&&Kt.alternate!==null&&Xe.delete(Kt.key===null?Ze:Kt.key),h=i(Kt,h,Ze),tt===null?Ce=Kt:tt.sibling=Kt,tt=Kt);return e&&Xe.forEach(function(Ta){return t(m,Ta)}),gt&&Ha(m,Ze),Ce}function Qe(m,h,y,U){if(y==null)throw Error(d(151));for(var Ce=null,tt=null,Xe=h,Ze=h=0,Kt=null,dt=y.next();Xe!==null&&!dt.done;Ze++,dt=y.next()){Xe.index>Ze?(Kt=Xe,Xe=null):Kt=Xe.sibling;var Ta=j(m,Xe,dt.value,U);if(Ta===null){Xe===null&&(Xe=Kt);break}e&&Xe&&Ta.alternate===null&&t(m,Xe),h=i(Ta,h,Ze),tt===null?Ce=Ta:tt.sibling=Ta,tt=Ta,Xe=Kt}if(dt.done)return l(m,Xe),gt&&Ha(m,Ze),Ce;if(Xe===null){for(;!dt.done;Ze++,dt=y.next())dt=X(m,dt.value,U),dt!==null&&(h=i(dt,h,Ze),tt===null?Ce=dt:tt.sibling=dt,tt=dt);return gt&&Ha(m,Ze),Ce}for(Xe=a(Xe);!dt.done;Ze++,dt=y.next())dt=C(Xe,m,Ze,dt.value,U),dt!==null&&(e&&dt.alternate!==null&&Xe.delete(dt.key===null?Ze:dt.key),h=i(dt,h,Ze),tt===null?Ce=dt:tt.sibling=dt,tt=dt);return e&&Xe.forEach(function(_0){return t(m,_0)}),gt&&Ha(m,Ze),Ce}function wt(m,h,y,U){if(typeof y=="object"&&y!==null&&y.type===P&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $:e:{for(var Ce=y.key;h!==null;){if(h.key===Ce){if(Ce=y.type,Ce===P){if(h.tag===7){l(m,h.sibling),U=n(h,y.props.children),U.return=m,m=U;break e}}else if(h.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===V&&Pc(Ce)===h.type){l(m,h.sibling),U=n(h,y.props),oi(U,y),U.return=m,m=U;break e}l(m,h);break}else t(m,h);h=h.sibling}y.type===P?(U=Ua(y.props.children,m.mode,U,y.key),U.return=m,m=U):(U=Ki(y.type,y.key,y.props,null,m.mode,U),oi(U,y),U.return=m,m=U)}return o(m);case pe:e:{for(Ce=y.key;h!==null;){if(h.key===Ce)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){l(m,h.sibling),U=n(h,y.children||[]),U.return=m,m=U;break e}else{l(m,h);break}else t(m,h);h=h.sibling}U=xr(y,m.mode,U),U.return=m,m=U}return o(m);case V:return Ce=y._init,y=Ce(y._payload),wt(m,h,y,U)}if(Ee(y))return Je(m,h,y,U);if(ze(y)){if(Ce=ze(y),typeof Ce!="function")throw Error(d(150));return y=Ce.call(y),Qe(m,h,y,U)}if(typeof y.then=="function")return wt(m,h,ds(y),U);if(y.$$typeof===x)return wt(m,h,Pi(m,y),U);fs(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,h!==null&&h.tag===6?(l(m,h.sibling),U=n(h,y),U.return=m,m=U):(l(m,h),U=vr(y,m.mode,U),U.return=m,m=U),o(m)):l(m,h)}return function(m,h,y,U){try{ri=0;var Ce=wt(m,h,y,U);return bn=null,Ce}catch(Xe){if(Xe===Pn||Xe===es)throw Xe;var tt=xl(29,Xe,null,m.mode);return tt.lanes=U,tt.return=m,tt}finally{}}}var yn=Ic(!0),ed=Ic(!1),Rl=M(null),Yl=null;function ma(e){var t=e.alternate;R(Yt,Yt.current&1),R(Rl,e),Yl===null&&(t===null||gn.current!==null||t.memoizedState!==null)&&(Yl=e)}function td(e){if(e.tag===22){if(R(Yt,Yt.current),R(Rl,e),Yl===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Yl=e)}}else pa()}function pa(){R(Yt,Yt.current),R(Rl,Rl.current)}function ta(e){J(Rl),Yl===e&&(Yl=null),J(Yt)}var Yt=M(0);function gs(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||qo(l)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ir(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:z({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var eo={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=kl(),n=fa(a);n.payload=t,l!=null&&(n.callback=l),t=ga(e,n,a),t!==null&&(jl(t,e,a),ei(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=kl(),n=fa(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=ga(e,n,a),t!==null&&(jl(t,e,a),ei(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=kl(),a=fa(l);a.tag=2,t!=null&&(a.callback=t),t=ga(e,a,l),t!==null&&(jl(t,e,l),ei(t,e,l))}};function ld(e,t,l,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!Vn(l,a)||!Vn(n,i):!0}function ad(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function $a(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=z({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}var hs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function nd(e){hs(e)}function id(e){console.error(e)}function sd(e){hs(e)}function ms(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function rd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function to(e,t,l){return l=fa(l),l.tag=3,l.payload={element:null},l.callback=function(){ms(e,t)},l}function od(e){return e=fa(e),e.tag=3,e}function ud(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){rd(t,l,a)}}var o=l.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){rd(t,l,a),typeof n!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function _h(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Jn(t,l,n,!0),l=Rl.current,l!==null){switch(l.tag){case 13:return Yl===null?Eo():l.alternate===null&&Tt===0&&(Tt=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===Tr?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Ao(e,a,n)),!1;case 22:return l.flags|=65536,a===Tr?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Ao(e,a,n)),!1}throw Error(d(435,l.tag))}return Ao(e,a,n),Eo(),!1}if(gt)return t=Rl.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==_r&&(e=Error(d(422),{cause:a}),Kn(Al(e,l)))):(a!==_r&&(t=Error(d(423),{cause:a}),Kn(Al(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Al(a,l),n=to(e.stateNode,a,n),Or(e,n),Tt!==4&&(Tt=2)),!1;var i=Error(d(520),{cause:a});if(i=Al(i,l),mi===null?mi=[i]:mi.push(i),Tt!==4&&(Tt=2),t===null)return!0;a=Al(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=to(l.stateNode,a,e),Or(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Sa===null||!Sa.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=od(n),ud(n,e,l,a),Or(l,n),!1}l=l.return}while(l!==null);return!1}var cd=Error(d(461)),Qt=!1;function Ft(e,t,l,a){t.child=e===null?ed(t,null,l,a):yn(t,e.child,l,a)}function dd(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}else o=a;return Xa(t),a=Hr(e,t,l,o,i,n),u=Lr(),e!==null&&!Qt?(Gr(e,t,n),la(e,t,n)):(gt&&u&&wr(t),t.flags|=1,Ft(e,t,a,n),t.child)}function fd(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!yr(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,gd(e,t,i,a,n)):(e=Ki(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!uo(e,n)){var o=i.memoizedProps;if(l=l.compare,l=l!==null?l:Vn,l(o,a)&&e.ref===t.ref)return la(e,t,n)}return t.flags|=1,e=Jl(i,a),e.ref=t.ref,e.return=t,t.child=e}function gd(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(Vn(i,a)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=a=i,uo(e,n))(e.flags&131072)!==0&&(Qt=!0);else return t.lanes=e.lanes,la(e,t,n)}return lo(e,t,l,a,n)}function hd(e,t,l){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=i!==null?i.baseLanes|l:l,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~a}else t.childLanes=0,t.child=null;return md(e,t,a,l)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ii(t,i!==null?i.cachePool:null),i!==null?gc(t,i):zr(),td(t);else return t.lanes=t.childLanes=536870912,md(e,t,i!==null?i.baseLanes|l:l,l)}else i!==null?(Ii(t,i.cachePool),gc(t,i),pa(),t.memoizedState=null):(e!==null&&Ii(t,null),zr(),pa());return Ft(e,t,n,l),t.child}function md(e,t,l,a){var n=Nr();return n=n===null?null:{parent:Gt._currentValue,pool:n},t.memoizedState={baseLanes:l,cachePool:n},e!==null&&Ii(t,null),zr(),td(t),e!==null&&Jn(e,t,a,!0),null}function ps(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(d(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function lo(e,t,l,a,n){return Xa(t),l=Hr(e,t,l,a,void 0,n),a=Lr(),e!==null&&!Qt?(Gr(e,t,n),la(e,t,n)):(gt&&a&&wr(t),t.flags|=1,Ft(e,t,l,n),t.child)}function pd(e,t,l,a,n,i){return Xa(t),t.updateQueue=null,l=mc(t,a,l,n),hc(e),a=Lr(),e!==null&&!Qt?(Gr(e,t,i),la(e,t,i)):(gt&&a&&wr(t),t.flags|=1,Ft(e,t,l,i),t.child)}function bd(e,t,l,a,n){if(Xa(t),t.stateNode===null){var i=on,o=l.contextType;typeof o=="object"&&o!==null&&(i=tl(o)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=eo,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Mr(t),o=l.contextType,i.context=typeof o=="object"&&o!==null?tl(o):on,i.state=t.memoizedState,o=l.getDerivedStateFromProps,typeof o=="function"&&(Ir(t,l,o,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&eo.enqueueReplaceState(i,i.state,null),li(t,a,i,n),ti(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,f=$a(l,u);i.props=f;var S=i.context,O=l.contextType;o=on,typeof O=="object"&&O!==null&&(o=tl(O));var X=l.getDerivedStateFromProps;O=typeof X=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,O||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||S!==o)&&ad(t,i,a,o),da=!1;var j=t.memoizedState;i.state=j,li(t,a,i,n),ti(),S=t.memoizedState,u||j!==S||da?(typeof X=="function"&&(Ir(t,l,X,a),S=t.memoizedState),(f=da||ld(t,l,f,a,j,S,o))?(O||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=S),i.props=a,i.state=S,i.context=o,a=f):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Rr(e,t),o=t.memoizedProps,O=$a(l,o),i.props=O,X=t.pendingProps,j=i.context,S=l.contextType,f=on,typeof S=="object"&&S!==null&&(f=tl(S)),u=l.getDerivedStateFromProps,(S=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==X||j!==f)&&ad(t,i,a,f),da=!1,j=t.memoizedState,i.state=j,li(t,a,i,n),ti();var C=t.memoizedState;o!==X||j!==C||da||e!==null&&e.dependencies!==null&&Fi(e.dependencies)?(typeof u=="function"&&(Ir(t,l,u,a),C=t.memoizedState),(O=da||ld(t,l,O,a,j,C,f)||e!==null&&e.dependencies!==null&&Fi(e.dependencies))?(S||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,C,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,C,f)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=C),i.props=a,i.state=C,i.context=f,a=O):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,ps(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=yn(t,e.child,null,n),t.child=yn(t,null,l,n)):Ft(e,t,l,n),t.memoizedState=i.state,e=t.child):e=la(e,t,n),e}function yd(e,t,l,a){return Zn(),t.flags|=256,Ft(e,t,l,a),t.child}var ao={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function no(e){return{baseLanes:e,cachePool:ic()}}function io(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Ol),e}function vd(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Yt.current&2)!==0),o&&(n=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(gt){if(n?ma(t):pa(),gt){var u=Nt,f;if(f=u){e:{for(f=u,u=Gl;f.nodeType!==8;){if(!u){u=null;break e}if(f=Hl(f.nextSibling),f===null){u=null;break e}}u=f}u!==null?(t.memoizedState={dehydrated:u,treeContext:Ba!==null?{id:Wl,overflow:Fl}:null,retryLane:536870912,hydrationErrors:null},f=xl(18,null,null,0),f.stateNode=u,f.return=t,t.child=f,il=t,Nt=null,f=!0):f=!1}f||Ga(t)}if(u=t.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return qo(u)?t.lanes=32:t.lanes=536870912,null;ta(t)}return u=a.children,a=a.fallback,n?(pa(),n=t.mode,u=bs({mode:"hidden",children:u},n),a=Ua(a,n,l,null),u.return=t,a.return=t,u.sibling=a,t.child=u,n=t.child,n.memoizedState=no(l),n.childLanes=io(e,o,l),t.memoizedState=ao,a):(ma(t),so(t,u))}if(f=e.memoizedState,f!==null&&(u=f.dehydrated,u!==null)){if(i)t.flags&256?(ma(t),t.flags&=-257,t=ro(e,t,l)):t.memoizedState!==null?(pa(),t.child=e.child,t.flags|=128,t=null):(pa(),n=a.fallback,u=t.mode,a=bs({mode:"visible",children:a.children},u),n=Ua(n,u,l,null),n.flags|=2,a.return=t,n.return=t,a.sibling=n,t.child=a,yn(t,e.child,null,l),a=t.child,a.memoizedState=no(l),a.childLanes=io(e,o,l),t.memoizedState=ao,t=n);else if(ma(t),qo(u)){if(o=u.nextSibling&&u.nextSibling.dataset,o)var S=o.dgst;o=S,a=Error(d(419)),a.stack="",a.digest=o,Kn({value:a,source:null,stack:null}),t=ro(e,t,l)}else if(Qt||Jn(e,t,l,!1),o=(l&e.childLanes)!==0,Qt||o){if(o=_t,o!==null&&(a=l&-l,a=(a&42)!==0?1:w(a),a=(a&(o.suspendedLanes|l))!==0?0:a,a!==0&&a!==f.retryLane))throw f.retryLane=a,rn(e,a),jl(o,e,a),cd;u.data==="$?"||Eo(),t=ro(e,t,l)}else u.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=f.treeContext,Nt=Hl(u.nextSibling),il=t,gt=!0,La=null,Gl=!1,e!==null&&(Tl[Ml++]=Wl,Tl[Ml++]=Fl,Tl[Ml++]=Ba,Wl=e.id,Fl=e.overflow,Ba=t),t=so(t,a.children),t.flags|=4096);return t}return n?(pa(),n=a.fallback,u=t.mode,f=e.child,S=f.sibling,a=Jl(f,{mode:"hidden",children:a.children}),a.subtreeFlags=f.subtreeFlags&65011712,S!==null?n=Jl(S,n):(n=Ua(n,u,l,null),n.flags|=2),n.return=t,a.return=t,a.sibling=n,t.child=a,a=n,n=t.child,u=e.child.memoizedState,u===null?u=no(l):(f=u.cachePool,f!==null?(S=Gt._currentValue,f=f.parent!==S?{parent:S,pool:S}:f):f=ic(),u={baseLanes:u.baseLanes|l,cachePool:f}),n.memoizedState=u,n.childLanes=io(e,o,l),t.memoizedState=ao,a):(ma(t),l=e.child,e=l.sibling,l=Jl(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=l,t.memoizedState=null,l)}function so(e,t){return t=bs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bs(e,t){return e=xl(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ro(e,t,l){return yn(t,e.child,null,l),e=so(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),jr(e.return,t,l)}function oo(e,t,l,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=l,i.tailMode=n)}function wd(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(Ft(e,t,a.children,l),a=Yt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xd(e,l,t);else if(e.tag===19)xd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(R(Yt,a),n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&gs(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),oo(t,!1,n,l,i);break;case"backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&gs(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}oo(t,!0,l,null,i);break;case"together":oo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),wa|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Jn(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,l=Jl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Jl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function uo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Fi(e)))}function kh(e,t,l){switch(t.tag){case 3:Ae(t,t.stateNode.containerInfo),ca(t,Gt,e.memoizedState.cache),Zn();break;case 27:case 5:be(t);break;case 4:Ae(t,t.stateNode.containerInfo);break;case 10:ca(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ma(t),t.flags|=128,null):(l&t.child.childLanes)!==0?vd(e,t,l):(ma(t),e=la(e,t,l),e!==null?e.sibling:null);ma(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Jn(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return wd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),R(Yt,Yt.current),a)break;return null;case 22:case 23:return t.lanes=0,hd(e,t,l);case 24:ca(t,Gt,e.memoizedState.cache)}return la(e,t,l)}function Sd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qt=!0;else{if(!uo(e,l)&&(t.flags&128)===0)return Qt=!1,kh(e,t,l);Qt=(e.flags&131072)!==0}else Qt=!1,gt&&(t.flags&1048576)!==0&&Pu(t,Wi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,n=a._init;if(a=n(a._payload),t.type=a,typeof a=="function")yr(a)?(e=$a(a,e),t.tag=1,t=bd(null,t,a,e,l)):(t.tag=0,t=lo(null,t,a,e,l));else{if(a!=null){if(n=a.$$typeof,n===xe){t.tag=11,t=dd(null,t,a,e,l);break e}else if(n===we){t.tag=14,t=fd(null,t,a,e,l);break e}}throw t=Te(a)||a,Error(d(306,t,""))}}return t;case 0:return lo(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=$a(a,t.pendingProps),bd(e,t,a,n,l);case 3:e:{if(Ae(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,Rr(e,t),li(t,a,null,l);var o=t.memoizedState;if(a=o.cache,ca(t,Gt,a),a!==i.cache&&Er(t,[Gt],l,!0),ti(),a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=yd(e,t,a,l);break e}else if(a!==n){n=Al(Error(d(424)),t),Kn(n),t=yd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Nt=Hl(e.firstChild),il=t,gt=!0,La=null,Gl=!0,l=ed(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Zn(),a===n){t=la(e,t,l);break e}Ft(e,t,a,l)}t=t.child}return t;case 26:return ps(e,t),e===null?(l=Cf(t.type,null,t.pendingProps,null))?t.memoizedState=l:gt||(l=t.type,e=t.pendingProps,a=Ms(K.current).createElement(l),a[it]=t,a[ht]=e,It(a,l,e),Ke(a),t.stateNode=a):t.memoizedState=Cf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&gt&&(a=t.stateNode=kf(t.type,t.pendingProps,K.current),il=t,Gl=!0,n=Nt,ja(t.type)?(Vo=n,Nt=Hl(a.firstChild)):Nt=n),Ft(e,t,t.pendingProps.children,l),ps(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&gt&&((n=a=Nt)&&(a=Ph(a,t.type,t.pendingProps,Gl),a!==null?(t.stateNode=a,il=t,Nt=Hl(a.firstChild),Gl=!1,n=!0):n=!1),n||Ga(t)),be(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Go(n,i)?a=null:o!==null&&Go(n,o)&&(t.flags|=32),t.memoizedState!==null&&(n=Hr(e,t,ph,null,null,l),ki._currentValue=n),ps(e,t),Ft(e,t,a,l),t.child;case 6:return e===null&&gt&&((e=l=Nt)&&(l=Ih(l,t.pendingProps,Gl),l!==null?(t.stateNode=l,il=t,Nt=null,e=!0):e=!1),e||Ga(t)),null;case 13:return vd(e,t,l);case 4:return Ae(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=yn(t,null,a,l):Ft(e,t,a,l),t.child;case 11:return dd(e,t,t.type,t.pendingProps,l);case 7:return Ft(e,t,t.pendingProps,l),t.child;case 8:return Ft(e,t,t.pendingProps.children,l),t.child;case 12:return Ft(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,ca(t,t.type,a.value),Ft(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Xa(t),n=tl(n),a=a(n),t.flags|=1,Ft(e,t,a,l),t.child;case 14:return fd(e,t,t.type,t.pendingProps,l);case 15:return gd(e,t,t.type,t.pendingProps,l);case 19:return wd(e,t,l);case 31:return a=t.pendingProps,l=t.mode,a={mode:a.mode,children:a.children},e===null?(l=bs(a,l),l.ref=t.ref,t.child=l,l.return=t,t=l):(l=Jl(e.child,a),l.ref=t.ref,t.child=l,l.return=t,t=l),t;case 22:return hd(e,t,l);case 24:return Xa(t),a=tl(Gt),e===null?(n=Nr(),n===null&&(n=_t,i=Cr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},Mr(t),ca(t,Gt,n)):((e.lanes&l)!==0&&(Rr(e,t),li(t,null,null,l),ti()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ca(t,Gt,a)):(a=i.cache,ca(t,Gt,a),a!==n.cache&&Er(t,[Gt],l,!0))),Ft(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function aa(e){e.flags|=4}function _d(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rf(t)){if(t=Rl.current,t!==null&&((ot&4194048)===ot?Yl!==null:(ot&62914560)!==ot&&(ot&536870912)===0||t!==Yl))throw In=Tr,sc;e.flags|=8192}}function ys(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ht():536870912,e.lanes|=t,Sn|=t)}function ui(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function jh(e,t,l){var a=t.pendingProps;switch(Sr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Et(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Il(Gt),me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Qn(t)?aa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tc())),Et(t),null;case 26:return l=t.memoizedState,e===null?(aa(t),l!==null?(Et(t),_d(t,l)):(Et(t),t.flags&=-16777217)):l?l!==e.memoizedState?(aa(t),Et(t),_d(t,l)):(Et(t),t.flags&=-16777217):(e.memoizedProps!==a&&aa(t),Et(t),t.flags&=-16777217),null;case 27:W(t),l=K.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&aa(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Et(t),null}e=T.current,Qn(t)?Iu(t):(e=kf(n,a,l),t.stateNode=e,aa(t))}return Et(t),null;case 5:if(W(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&aa(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Et(t),null}if(e=T.current,Qn(t))Iu(t);else{switch(n=Ms(K.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?n.createElement("select",{is:a.is}):n.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?n.createElement(l,{is:a.is}):n.createElement(l)}}e[it]=t,e[ht]=a;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(It(e,l,a),l){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&aa(t)}}return Et(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&aa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=K.current,Qn(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=il,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[it]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||bf(e.nodeValue,l)),e||Ga(t)}else e=Ms(e).createTextNode(a),e[it]=t,t.stateNode=e}return Et(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Qn(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(d(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(d(317));n[it]=t}else Zn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Et(t),n=!1}else n=tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(ta(t),t):(ta(t),null)}if(ta(t),(t.flags&128)!==0)return t.lanes=l,t;if(l=a!==null,e=e!==null&&e.memoizedState!==null,l){a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool);var i=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)}return l!==e&&l&&(t.child.flags|=8192),ys(t,t.updateQueue),Et(t),null;case 4:return me(),e===null&&zo(t.stateNode.containerInfo),Et(t),null;case 10:return Il(t.type),Et(t),null;case 19:if(J(Yt),n=t.memoizedState,n===null)return Et(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)ui(n,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=gs(e),i!==null){for(t.flags|=128,ui(n,!1),e=i.updateQueue,t.updateQueue=e,ys(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Fu(l,e),l=l.sibling;return R(Yt,Yt.current&1|2),t.child}e=e.sibling}n.tail!==null&&Se()>ws&&(t.flags|=128,a=!0,ui(n,!1),t.lanes=4194304)}else{if(!a)if(e=gs(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ys(t,e),ui(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!gt)return Et(t),null}else 2*Se()-n.renderingStartTime>ws&&l!==536870912&&(t.flags|=128,a=!0,ui(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Se(),t.sibling=null,e=Yt.current,R(Yt,a?e&1|2:e&1),t):(Et(t),null);case 22:case 23:return ta(t),Ur(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),l=t.updateQueue,l!==null&&ys(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&J(qa),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Il(Gt),Et(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Eh(e,t){switch(Sr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Il(Gt),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return W(t),null;case 13:if(ta(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(Yt),null;case 4:return me(),null;case 10:return Il(t.type),null;case 22:case 23:return ta(t),Ur(),e!==null&&J(qa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Il(Gt),null;case 25:return null;default:return null}}function kd(e,t){switch(Sr(t),t.tag){case 3:Il(Gt),me();break;case 26:case 27:case 5:W(t);break;case 4:me();break;case 13:ta(t);break;case 19:J(Yt);break;case 10:Il(t.type);break;case 22:case 23:ta(t),Ur(),e!==null&&J(qa);break;case 24:Il(Gt)}}function ci(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,o=l.inst;a=i(),o.destroy=a}l=l.next}while(l!==n)}}catch(u){St(t,t.return,u)}}function ba(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var o=a.inst,u=o.destroy;if(u!==void 0){o.destroy=void 0,n=t;var f=l,S=u;try{S()}catch(O){St(n,f,O)}}}a=a.next}while(a!==i)}}catch(O){St(t,t.return,O)}}function jd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{fc(t,l)}catch(a){St(e,e.return,a)}}}function Ed(e,t,l){l.props=$a(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){St(e,t,a)}}function di(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){St(e,t,n)}}function Xl(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){St(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){St(e,t,n)}else l.current=null}function Cd(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){St(e,e.return,n)}}function co(e,t,l){try{var a=e.stateNode;Zh(a,e.type,l,t),a[ht]=t}catch(n){St(e,e.return,n)}}function Ad(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ja(e.type)||e.tag===4}function fo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function go(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Ts));else if(a!==4&&(a===27&&ja(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(go(e,t,l),e=e.sibling;e!==null;)go(e,t,l),e=e.sibling}function vs(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&ja(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(vs(e,t,l),e=e.sibling;e!==null;)vs(e,t,l),e=e.sibling}function Nd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);It(t,a,l),t[it]=e,t[ht]=l}catch(i){St(e,e.return,i)}}var na=!1,Dt=!1,ho=!1,Td=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function Ch(e,t){if(e=e.containerInfo,Ho=Bs,e=Yu(e),dr(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var o=0,u=-1,f=-1,S=0,O=0,X=e,j=null;t:for(;;){for(var C;X!==l||n!==0&&X.nodeType!==3||(u=o+n),X!==i||a!==0&&X.nodeType!==3||(f=o+a),X.nodeType===3&&(o+=X.nodeValue.length),(C=X.firstChild)!==null;)j=X,X=C;for(;;){if(X===e)break t;if(j===l&&++S===n&&(u=o),j===i&&++O===a&&(f=o),(C=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=C}l=u===-1||f===-1?null:{start:u,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lo={focusedElem:e,selectionRange:l},Bs=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){switch(t=Zt,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var Je=$a(l.type,n,l.elementType===l.type);e=a.getSnapshotBeforeUpdate(Je,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(Qe){St(l,l.return,Qe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Xo(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}}function Md(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:ya(e,l),a&4&&ci(5,l);break;case 1:if(ya(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(o){St(l,l.return,o)}else{var n=$a(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){St(l,l.return,o)}}a&64&&jd(l),a&512&&di(l,l.return);break;case 3:if(ya(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{fc(e,t)}catch(o){St(l,l.return,o)}}break;case 27:t===null&&a&4&&Nd(l);case 26:case 5:ya(e,l),t===null&&a&4&&Cd(l),a&512&&di(l,l.return);break;case 12:ya(e,l);break;case 13:ya(e,l),a&4&&Dd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Uh.bind(null,l),e0(e,l))));break;case 22:if(a=l.memoizedState!==null||na,!a){t=t!==null&&t.memoizedState!==null||Dt,n=na;var i=Dt;na=a,(Dt=t)&&!i?va(e,l,(l.subtreeFlags&8772)!==0):ya(e,l),na=n,Dt=i}break;case 30:break;default:ya(e,l)}}function Rd(e){var t=e.alternate;t!==null&&(e.alternate=null,Rd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var kt=null,cl=!1;function ia(e,t,l){for(l=l.child;l!==null;)Od(e,t,l),l=l.sibling}function Od(e,t,l){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(I,l)}catch{}switch(l.tag){case 26:Dt||Xl(l,t),ia(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Dt||Xl(l,t);var a=kt,n=cl;ja(l.type)&&(kt=l.stateNode,cl=!1),ia(e,t,l),xi(l.stateNode),kt=a,cl=n;break;case 5:Dt||Xl(l,t);case 6:if(a=kt,n=cl,kt=null,ia(e,t,l),kt=a,cl=n,kt!==null)if(cl)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(i){St(l,t,i)}else try{kt.removeChild(l.stateNode)}catch(i){St(l,t,i)}break;case 18:kt!==null&&(cl?(e=kt,Sf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ai(e)):Sf(kt,l.stateNode));break;case 4:a=kt,n=cl,kt=l.stateNode.containerInfo,cl=!0,ia(e,t,l),kt=a,cl=n;break;case 0:case 11:case 14:case 15:Dt||ba(2,l,t),Dt||ba(4,l,t),ia(e,t,l);break;case 1:Dt||(Xl(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Ed(l,t,a)),ia(e,t,l);break;case 21:ia(e,t,l);break;case 22:Dt=(a=Dt)||l.memoizedState!==null,ia(e,t,l),Dt=a;break;default:ia(e,t,l)}}function Dd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ai(e)}catch(l){St(t,t.return,l)}}function Ah(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Td),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Td),t;default:throw Error(d(435,e.tag))}}function mo(e,t){var l=Ah(e);t.forEach(function(a){var n=Bh.bind(null,e,a);l.has(a)||(l.add(a),a.then(n,n))})}function wl(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 27:if(ja(u.type)){kt=u.stateNode,cl=!1;break e}break;case 5:kt=u.stateNode,cl=!1;break e;case 3:case 4:kt=u.stateNode.containerInfo,cl=!0;break e}u=u.return}if(kt===null)throw Error(d(160));Od(i,o,n),kt=null,cl=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)zd(t,e),t=t.sibling}var Bl=null;function zd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wl(t,e),Sl(e),a&4&&(ba(3,e,e.return),ci(3,e),ba(5,e,e.return));break;case 1:wl(t,e),Sl(e),a&512&&(Dt||l===null||Xl(l,l.return)),a&64&&na&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Bl;if(wl(t,e),Sl(e),a&512&&(Dt||l===null||Xl(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[al]||i[it]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),It(i,a,l),i[it]=e,Ke(i),a=i;break e;case"link":var o=Tf("link","href",n).get(a+(l.href||""));if(o){for(var u=0;u<o.length;u++)if(i=o[u],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){o.splice(u,1);break t}}i=n.createElement(a),It(i,a,l),n.head.appendChild(i);break;case"meta":if(o=Tf("meta","content",n).get(a+(l.content||""))){for(u=0;u<o.length;u++)if(i=o[u],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){o.splice(u,1);break t}}i=n.createElement(a),It(i,a,l),n.head.appendChild(i);break;default:throw Error(d(468,a))}i[it]=e,Ke(i),a=i}e.stateNode=a}else Mf(n,e.type,e.stateNode);else e.stateNode=Nf(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Mf(n,e.type,e.stateNode):Nf(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&co(e,e.memoizedProps,l.memoizedProps)}break;case 27:wl(t,e),Sl(e),a&512&&(Dt||l===null||Xl(l,l.return)),l!==null&&a&4&&co(e,e.memoizedProps,l.memoizedProps);break;case 5:if(wl(t,e),Sl(e),a&512&&(Dt||l===null||Xl(l,l.return)),e.flags&32){n=e.stateNode;try{Ia(n,"")}catch(C){St(e,e.return,C)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,co(e,n,l!==null?l.memoizedProps:n)),a&1024&&(ho=!0);break;case 6:if(wl(t,e),Sl(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(C){St(e,e.return,C)}}break;case 3:if(Ds=null,n=Bl,Bl=Rs(t.containerInfo),wl(t,e),Bl=n,Sl(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(C){St(e,e.return,C)}ho&&(ho=!1,Ud(e));break;case 4:a=Bl,Bl=Rs(e.stateNode.containerInfo),wl(t,e),Sl(e),Bl=a;break;case 12:wl(t,e),Sl(e);break;case 13:wl(t,e),Sl(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wo=Se()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,mo(e,a)));break;case 22:n=e.memoizedState!==null;var f=l!==null&&l.memoizedState!==null,S=na,O=Dt;if(na=S||n,Dt=O||f,wl(t,e),Dt=O,na=S,Sl(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||f||na||Dt||Qa(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){f=l=t;try{if(i=f.stateNode,n)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{u=f.stateNode;var X=f.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;u.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(C){St(f,f.return,C)}}}else if(t.tag===6){if(l===null){f=t;try{f.stateNode.nodeValue=n?"":f.memoizedProps}catch(C){St(f,f.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,mo(e,l))));break;case 19:wl(t,e),Sl(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,mo(e,a)));break;case 30:break;case 21:break;default:wl(t,e),Sl(e)}}function Sl(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Ad(a)){l=a;break}a=a.return}if(l==null)throw Error(d(160));switch(l.tag){case 27:var n=l.stateNode,i=fo(e);vs(e,i,n);break;case 5:var o=l.stateNode;l.flags&32&&(Ia(o,""),l.flags&=-33);var u=fo(e);vs(e,u,o);break;case 3:case 4:var f=l.stateNode.containerInfo,S=fo(e);go(e,S,f);break;default:throw Error(d(161))}}catch(O){St(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ud(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ud(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ya(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Md(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ba(4,t,t.return),Qa(t);break;case 1:Xl(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Ed(t,t.return,l),Qa(t);break;case 27:xi(t.stateNode);case 26:case 5:Xl(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function va(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:va(n,i,l),ci(4,i);break;case 1:if(va(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(S){St(a,a.return,S)}if(a=i,n=a.updateQueue,n!==null){var u=a.stateNode;try{var f=n.shared.hiddenCallbacks;if(f!==null)for(n.shared.hiddenCallbacks=null,n=0;n<f.length;n++)dc(f[n],u)}catch(S){St(a,a.return,S)}}l&&o&64&&jd(i),di(i,i.return);break;case 27:Nd(i);case 26:case 5:va(n,i,l),l&&a===null&&o&4&&Cd(i),di(i,i.return);break;case 12:va(n,i,l);break;case 13:va(n,i,l),l&&o&4&&Dd(n,i);break;case 22:i.memoizedState===null&&va(n,i,l),di(i,i.return);break;case 30:break;default:va(n,i,l)}t=t.sibling}}function po(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Wn(l))}function bo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wn(e))}function ql(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bd(e,t,l,a),t=t.sibling}function Bd(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,l,a),n&2048&&ci(9,t);break;case 1:ql(e,t,l,a);break;case 3:ql(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wn(e)));break;case 12:if(n&2048){ql(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,u=i.onPostCommit;typeof u=="function"&&u(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){St(t,t.return,f)}}else ql(e,t,l,a);break;case 13:ql(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?ql(e,t,l,a):fi(e,t):i._visibility&2?ql(e,t,l,a):(i._visibility|=2,vn(e,t,l,a,(t.subtreeFlags&10256)!==0)),n&2048&&po(o,t);break;case 24:ql(e,t,l,a),n&2048&&bo(t.alternate,t);break;default:ql(e,t,l,a)}}function vn(e,t,l,a,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,o=t,u=l,f=a,S=o.flags;switch(o.tag){case 0:case 11:case 15:vn(i,o,u,f,n),ci(8,o);break;case 23:break;case 22:var O=o.stateNode;o.memoizedState!==null?O._visibility&2?vn(i,o,u,f,n):fi(i,o):(O._visibility|=2,vn(i,o,u,f,n)),n&&S&2048&&po(o.alternate,o);break;case 24:vn(i,o,u,f,n),n&&S&2048&&bo(o.alternate,o);break;default:vn(i,o,u,f,n)}t=t.sibling}}function fi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:fi(l,a),n&2048&&po(a.alternate,a);break;case 24:fi(l,a),n&2048&&bo(a.alternate,a);break;default:fi(l,a)}t=t.sibling}}var gi=8192;function xn(e){if(e.subtreeFlags&gi)for(e=e.child;e!==null;)Hd(e),e=e.sibling}function Hd(e){switch(e.tag){case 26:xn(e),e.flags&gi&&e.memoizedState!==null&&g0(Bl,e.memoizedState,e.memoizedProps);break;case 5:xn(e);break;case 3:case 4:var t=Bl;Bl=Rs(e.stateNode.containerInfo),xn(e),Bl=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=gi,gi=16777216,xn(e),gi=t):xn(e));break;default:xn(e)}}function Ld(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Zt=a,Yd(a,e)}Ld(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gd(e),e=e.sibling}function Gd(e){switch(e.tag){case 0:case 11:case 15:hi(e),e.flags&2048&&ba(9,e,e.return);break;case 3:hi(e);break;case 12:hi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xs(e)):hi(e);break;default:hi(e)}}function xs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Zt=a,Yd(a,e)}Ld(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ba(8,t,t.return),xs(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,xs(t));break;default:xs(t)}e=e.sibling}}function Yd(e,t){for(;Zt!==null;){var l=Zt;switch(l.tag){case 0:case 11:case 15:ba(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Wn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Zt=a;else e:for(l=e;Zt!==null;){a=Zt;var n=a.sibling,i=a.return;if(Rd(a),a===l){Zt=null;break e}if(n!==null){n.return=i,Zt=n;break e}Zt=i}}}var Nh={getCacheForType:function(e){var t=tl(Gt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l}},Th=typeof WeakMap=="function"?WeakMap:Map,pt=0,_t=null,lt=null,ot=0,bt=0,_l=null,xa=!1,wn=!1,yo=!1,sa=0,Tt=0,wa=0,Za=0,vo=0,Ol=0,Sn=0,mi=null,dl=null,xo=!1,wo=0,ws=1/0,Ss=null,Sa=null,Pt=0,_a=null,_n=null,kn=0,So=0,_o=null,Xd=null,pi=0,ko=null;function kl(){if((pt&2)!==0&&ot!==0)return ot&-ot;if(b.T!==null){var e=dn;return e!==0?e:Mo()}return _e()}function qd(){Ol===0&&(Ol=(ot&536870912)===0||gt?Ct():536870912);var e=Rl.current;return e!==null&&(e.flags|=32),Ol}function jl(e,t,l){(e===_t&&(bt===2||bt===9)||e.cancelPendingCommit!==null)&&(jn(e,0),ka(e,ot,Ol,!1)),Xt(e,l),((pt&2)===0||e!==_t)&&(e===_t&&((pt&2)===0&&(Za|=l),Tt===4&&ka(e,ot,Ol,!1)),Vl(e))}function Vd(e,t,l){if((pt&6)!==0)throw Error(d(327));var a=!l&&(t&124)===0&&(t&e.expiredLanes)===0||de(e,t),n=a?Oh(e,t):Co(e,t,!0),i=a;do{if(n===0){wn&&!a&&ka(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!Mh(l)){n=Co(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var u=e;n=mi;var f=u.current.memoizedState.isDehydrated;if(f&&(jn(u,o).flags|=256),o=Co(u,o,!1),o!==2){if(yo&&!f){u.errorRecoveryDisabledLanes|=i,Za|=i,n=4;break e}i=dl,dl=n,i!==null&&(dl===null?dl=i:dl.push.apply(dl,i))}n=o}if(i=!1,n!==2)continue}}if(n===1){jn(e,0),ka(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:ka(a,t,Ol,!xa);break e;case 2:dl=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(n=wo+300-Se(),10<n)){if(ka(a,t,Ol,!xa),D(a,0,!0)!==0)break e;a.timeoutHandle=xf($d.bind(null,a,l,dl,Ss,xo,t,Ol,Za,Sn,xa,i,2,-0,0),n);break e}$d(a,l,dl,Ss,xo,t,Ol,Za,Sn,xa,i,0,-0,0)}}break}while(!0);Vl(e)}function $d(e,t,l,a,n,i,o,u,f,S,O,X,j,C){if(e.timeoutHandle=-1,X=t.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(_i={stylesheets:null,count:0,unsuspend:f0},Hd(t),X=h0(),X!==null)){e.cancelPendingCommit=X(Pd.bind(null,e,t,i,l,a,n,o,u,f,O,1,j,C)),ka(e,i,o,!S);return}Pd(e,t,i,l,a,n,o,u,f)}function Mh(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!vl(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ka(e,t,l,a){t&=~vo,t&=~Za,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-Me(n),o=1<<i;a[i]=-1,n&=~o}l!==0&&N(e,l,t)}function _s(){return(pt&6)===0?(bi(0),!1):!0}function jo(){if(lt!==null){if(bt===0)var e=lt.return;else e=lt,Pl=Ya=null,Yr(e),bn=null,ri=0,e=lt;for(;e!==null;)kd(e.alternate,e),e=e.return;lt=null}}function jn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Jh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),jo(),_t=e,lt=l=Jl(e.current,null),ot=t,bt=0,_l=null,xa=!1,wn=de(e,t),yo=!1,Sn=Ol=vo=Za=wa=Tt=0,dl=mi=null,xo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-Me(a),i=1<<n;t|=e[n],a&=~i}return sa=t,$i(),l}function Qd(e,t){et=null,b.H=cs,t===Pn||t===es?(t=uc(),bt=3):t===sc?(t=uc(),bt=4):bt=t===cd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_l=t,lt===null&&(Tt=1,ms(e,Al(t,e.current)))}function Zd(){var e=b.H;return b.H=cs,e===null?cs:e}function Kd(){var e=b.A;return b.A=Nh,e}function Eo(){Tt=4,xa||(ot&4194048)!==ot&&Rl.current!==null||(wn=!0),(wa&134217727)===0&&(Za&134217727)===0||_t===null||ka(_t,ot,Ol,!1)}function Co(e,t,l){var a=pt;pt|=2;var n=Zd(),i=Kd();(_t!==e||ot!==t)&&(Ss=null,jn(e,t)),t=!1;var o=Tt;e:do try{if(bt!==0&&lt!==null){var u=lt,f=_l;switch(bt){case 8:jo(),o=6;break e;case 3:case 2:case 9:case 6:Rl.current===null&&(t=!0);var S=bt;if(bt=0,_l=null,En(e,u,f,S),l&&wn){o=0;break e}break;default:S=bt,bt=0,_l=null,En(e,u,f,S)}}Rh(),o=Tt;break}catch(O){Qd(e,O)}while(!0);return t&&e.shellSuspendCounter++,Pl=Ya=null,pt=a,b.H=n,b.A=i,lt===null&&(_t=null,ot=0,$i()),o}function Rh(){for(;lt!==null;)Jd(lt)}function Oh(e,t){var l=pt;pt|=2;var a=Zd(),n=Kd();_t!==e||ot!==t?(Ss=null,ws=Se()+500,jn(e,t)):wn=de(e,t);e:do try{if(bt!==0&&lt!==null){t=lt;var i=_l;t:switch(bt){case 1:bt=0,_l=null,En(e,t,i,1);break;case 2:case 9:if(rc(i)){bt=0,_l=null,Wd(t);break}t=function(){bt!==2&&bt!==9||_t!==e||(bt=7),Vl(e)},i.then(t,t);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:rc(i)?(bt=0,_l=null,Wd(t)):(bt=0,_l=null,En(e,t,i,7));break;case 5:var o=null;switch(lt.tag){case 26:o=lt.memoizedState;case 5:case 27:var u=lt;if(!o||Rf(o)){bt=0,_l=null;var f=u.sibling;if(f!==null)lt=f;else{var S=u.return;S!==null?(lt=S,ks(S)):lt=null}break t}}bt=0,_l=null,En(e,t,i,5);break;case 6:bt=0,_l=null,En(e,t,i,6);break;case 8:jo(),Tt=6;break e;default:throw Error(d(462))}}Dh();break}catch(O){Qd(e,O)}while(!0);return Pl=Ya=null,b.H=a,b.A=n,pt=l,lt!==null?0:(_t=null,ot=0,$i(),Tt)}function Dh(){for(;lt!==null&&!fe();)Jd(lt)}function Jd(e){var t=Sd(e.alternate,e,sa);e.memoizedProps=e.pendingProps,t===null?ks(e):lt=t}function Wd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=pd(l,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=pd(l,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:Yr(t);default:kd(l,t),t=lt=Fu(t,sa),t=Sd(l,t,sa)}e.memoizedProps=e.pendingProps,t===null?ks(e):lt=t}function En(e,t,l,a){Pl=Ya=null,Yr(t),bn=null,ri=0;var n=t.return;try{if(_h(e,n,t,l,ot)){Tt=1,ms(e,Al(l,e.current)),lt=null;return}}catch(i){if(n!==null)throw lt=n,i;Tt=1,ms(e,Al(l,e.current)),lt=null;return}t.flags&32768?(gt||a===1?e=!0:wn||(ot&536870912)!==0?e=!1:(xa=e=!0,(a===2||a===9||a===3||a===6)&&(a=Rl.current,a!==null&&a.tag===13&&(a.flags|=16384))),Fd(t,e)):ks(t)}function ks(e){var t=e;do{if((t.flags&32768)!==0){Fd(t,xa);return}e=t.return;var l=jh(t.alternate,t,sa);if(l!==null){lt=l;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);Tt===0&&(Tt=5)}function Fd(e,t){do{var l=Eh(e.alternate,e);if(l!==null){l.flags&=32767,lt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){lt=e;return}lt=e=l}while(e!==null);Tt=6,lt=null}function Pd(e,t,l,a,n,i,o,u,f){e.cancelPendingCommit=null;do js();while(Pt!==0);if((pt&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=pr,qt(e,l,i,o,u,f),e===_t&&(lt=_t=null,ot=0),_n=t,_a=e,kn=l,So=i,_o=n,Xd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Hh(ae,function(){return af(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=b.T,b.T=null,n=B.p,B.p=2,o=pt,pt|=4;try{Ch(e,t,l)}finally{pt=o,B.p=n,b.T=a}}Pt=1,Id(),ef(),tf()}}function Id(){if(Pt===1){Pt=0;var e=_a,t=_n,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=b.T,b.T=null;var a=B.p;B.p=2;var n=pt;pt|=4;try{zd(t,e);var i=Lo,o=Yu(e.containerInfo),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Gu(u.ownerDocument.documentElement,u)){if(f!==null&&dr(u)){var S=f.start,O=f.end;if(O===void 0&&(O=S),"selectionStart"in u)u.selectionStart=S,u.selectionEnd=Math.min(O,u.value.length);else{var X=u.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var C=j.getSelection(),Je=u.textContent.length,Qe=Math.min(f.start,Je),wt=f.end===void 0?Qe:Math.min(f.end,Je);!C.extend&&Qe>wt&&(o=wt,wt=Qe,Qe=o);var m=Lu(u,Qe),h=Lu(u,wt);if(m&&h&&(C.rangeCount!==1||C.anchorNode!==m.node||C.anchorOffset!==m.offset||C.focusNode!==h.node||C.focusOffset!==h.offset)){var y=X.createRange();y.setStart(m.node,m.offset),C.removeAllRanges(),Qe>wt?(C.addRange(y),C.extend(h.node,h.offset)):(y.setEnd(h.node,h.offset),C.addRange(y))}}}}for(X=[],C=u;C=C.parentNode;)C.nodeType===1&&X.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<X.length;u++){var U=X[u];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Bs=!!Ho,Lo=Ho=null}finally{pt=n,B.p=a,b.T=l}}e.current=t,Pt=2}}function ef(){if(Pt===2){Pt=0;var e=_a,t=_n,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=b.T,b.T=null;var a=B.p;B.p=2;var n=pt;pt|=4;try{Md(e,t.alternate,t)}finally{pt=n,B.p=a,b.T=l}}Pt=3}}function tf(){if(Pt===4||Pt===3){Pt=0,Ue();var e=_a,t=_n,l=kn,a=Xd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pt=5:(Pt=0,_n=_a=null,lf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Sa=null),ue(l),t=t.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(I,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=b.T,n=B.p,B.p=2,b.T=null;try{for(var i=e.onRecoverableError,o=0;o<a.length;o++){var u=a[o];i(u.value,{componentStack:u.stack})}}finally{b.T=t,B.p=n}}(kn&3)!==0&&js(),Vl(e),n=e.pendingLanes,(l&4194090)!==0&&(n&42)!==0?e===ko?pi++:(pi=0,ko=e):pi=0,bi(0)}}function lf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wn(t)))}function js(e){return Id(),ef(),tf(),af()}function af(){if(Pt!==5)return!1;var e=_a,t=So;So=0;var l=ue(kn),a=b.T,n=B.p;try{B.p=32>l?32:l,b.T=null,l=_o,_o=null;var i=_a,o=kn;if(Pt=0,_n=_a=null,kn=0,(pt&6)!==0)throw Error(d(331));var u=pt;if(pt|=4,Gd(i.current),Bd(i,i.current,o,l),pt=u,bi(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(I,i)}catch{}return!0}finally{B.p=n,b.T=a,lf(e,t)}}function nf(e,t,l){t=Al(l,t),t=to(e.stateNode,t,2),e=ga(e,t,2),e!==null&&(Xt(e,2),Vl(e))}function St(e,t,l){if(e.tag===3)nf(e,e,l);else for(;t!==null;){if(t.tag===3){nf(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Sa===null||!Sa.has(a))){e=Al(l,e),l=od(2),a=ga(t,l,2),a!==null&&(ud(l,a,t,e),Xt(a,2),Vl(a));break}}t=t.return}}function Ao(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Th;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(yo=!0,n.add(l),e=zh.bind(null,e,t,l),t.then(e,e))}function zh(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,_t===e&&(ot&l)===l&&(Tt===4||Tt===3&&(ot&62914560)===ot&&300>Se()-wo?(pt&2)===0&&jn(e,0):vo|=l,Sn===ot&&(Sn=0)),Vl(e)}function sf(e,t){t===0&&(t=Ht()),e=rn(e,t),e!==null&&(Xt(e,t),Vl(e))}function Uh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),sf(e,l)}function Bh(e,t){var l=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),sf(e,l)}function Hh(e,t){return ye(e,t)}var Es=null,Cn=null,No=!1,Cs=!1,To=!1,Ka=0;function Vl(e){e!==Cn&&e.next===null&&(Cn===null?Es=Cn=e:Cn=Cn.next=e),Cs=!0,No||(No=!0,Gh())}function bi(e,t){if(!To&&Cs){To=!0;do for(var l=!1,a=Es;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var o=a.suspendedLanes,u=a.pingedLanes;i=(1<<31-Me(42|e)+1)-1,i&=n&~(o&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,cf(a,i))}else i=ot,i=D(a,a===_t?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||de(a,i)||(l=!0,cf(a,i));a=a.next}while(l);To=!1}}function Lh(){rf()}function rf(){Cs=No=!1;var e=0;Ka!==0&&(Kh()&&(e=Ka),Ka=0);for(var t=Se(),l=null,a=Es;a!==null;){var n=a.next,i=of(a,t);i===0?(a.next=null,l===null?Es=n:l.next=n,n===null&&(Cn=l)):(l=a,(e!==0||(i&3)!==0)&&(Cs=!0)),a=n}bi(e)}function of(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-Me(i),u=1<<o,f=n[o];f===-1?((u&l)===0||(u&a)!==0)&&(n[o]=ft(u,t)):f<=t&&(e.expiredLanes|=u),i&=~u}if(t=_t,l=ot,l=D(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(bt===2||bt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ne(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||de(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Ne(a),ue(l)){case 2:case 8:l=Ve;break;case 32:l=ae;break;case 268435456:l=oe;break;default:l=ae}return a=uf.bind(null,e),l=ye(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Ne(a),e.callbackPriority=2,e.callbackNode=null,2}function uf(e,t){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(js()&&e.callbackNode!==l)return null;var a=ot;return a=D(e,e===_t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Vd(e,a,t),of(e,Se()),e.callbackNode!=null&&e.callbackNode===l?uf.bind(null,e):null)}function cf(e,t){if(js())return null;Vd(e,t,!0)}function Gh(){Wh(function(){(pt&6)!==0?ye(Le,Lh):rf()})}function Mo(){return Ka===0&&(Ka=Ct()),Ka}function df(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hi(""+e)}function ff(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Yh(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=df((n[ht]||null).action),o=a.submitter;o&&(t=(t=o[ht]||null)?df(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var u=new Xi("action","action",null,a,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ka!==0){var f=o?ff(n,o):new FormData(n);Wr(l,{pending:!0,data:f,method:n.method,action:i},null,f)}}else typeof i=="function"&&(u.preventDefault(),f=o?ff(n,o):new FormData(n),Wr(l,{pending:!0,data:f,method:n.method,action:i},i,f))},currentTarget:n}]})}}for(var Ro=0;Ro<mr.length;Ro++){var Oo=mr[Ro],Xh=Oo.toLowerCase(),qh=Oo[0].toUpperCase()+Oo.slice(1);Ul(Xh,"on"+qh)}Ul(Vu,"onAnimationEnd"),Ul($u,"onAnimationIteration"),Ul(Qu,"onAnimationStart"),Ul("dblclick","onDoubleClick"),Ul("focusin","onFocus"),Ul("focusout","onBlur"),Ul(sh,"onTransitionRun"),Ul(rh,"onTransitionStart"),Ul(oh,"onTransitionCancel"),Ul(Zu,"onTransitionEnd"),Rt("onMouseEnter",["mouseout","mouseover"]),Rt("onMouseLeave",["mouseout","mouseover"]),Rt("onPointerEnter",["pointerout","pointerover"]),Rt("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yi));function gf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var u=a[o],f=u.instance,S=u.currentTarget;if(u=u.listener,f!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=S;try{i(n)}catch(O){hs(O)}n.currentTarget=null,i=f}else for(o=0;o<a.length;o++){if(u=a[o],f=u.instance,S=u.currentTarget,u=u.listener,f!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=S;try{i(n)}catch(O){hs(O)}n.currentTarget=null,i=f}}}}function at(e,t){var l=t[zt];l===void 0&&(l=t[zt]=new Set);var a=e+"__bubble";l.has(a)||(hf(t,e,2,!1),l.add(a))}function Do(e,t,l){var a=0;t&&(a|=4),hf(l,e,a,t)}var As="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[As]){e[As]=!0,ct.forEach(function(l){l!=="selectionchange"&&(Vh.has(l)||Do(l,!1,e),Do(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[As]||(t[As]=!0,Do("selectionchange",!1,t))}}function hf(e,t,l,a){switch(Hf(t)){case 2:var n=b0;break;case 8:n=y0;break;default:n=Jo}l=n.bind(null,t,l,e),n=void 0,!lr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Uo(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var u=a.stateNode.containerInfo;if(u===n)break;if(o===4)for(o=a.return;o!==null;){var f=o.tag;if((f===3||f===4)&&o.stateNode.containerInfo===n)return;o=o.return}for(;u!==null;){if(o=p(u),o===null)return;if(f=o.tag,f===5||f===6||f===26||f===27){a=i=o;continue e}u=u.parentNode}}a=a.return}xu(function(){var S=i,O=er(l),X=[];e:{var j=Ku.get(e);if(j!==void 0){var C=Xi,Je=e;switch(e){case"keypress":if(Gi(l)===0)break e;case"keydown":case"keyup":C=Hg;break;case"focusin":Je="focus",C=sr;break;case"focusout":Je="blur",C=sr;break;case"beforeblur":case"afterblur":C=sr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Yg;break;case Vu:case $u:case Qu:C=Ng;break;case Zu:C=qg;break;case"scroll":case"scrollend":C=kg;break;case"wheel":C=$g;break;case"copy":case"cut":case"paste":C=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=ju;break;case"toggle":case"beforetoggle":C=Zg}var Qe=(t&4)!==0,wt=!Qe&&(e==="scroll"||e==="scrollend"),m=Qe?j!==null?j+"Capture":null:j;Qe=[];for(var h=S,y;h!==null;){var U=h;if(y=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||y===null||m===null||(U=Bn(h,m),U!=null&&Qe.push(vi(h,U,y))),wt)break;h=h.return}0<Qe.length&&(j=new C(j,Je,null,l,O),X.push({event:j,listeners:Qe}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",j&&l!==Is&&(Je=l.relatedTarget||l.fromElement)&&(p(Je)||Je[jt]))break e;if((C||j)&&(j=O.window===O?O:(j=O.ownerDocument)?j.defaultView||j.parentWindow:window,C?(Je=l.relatedTarget||l.toElement,C=S,Je=Je?p(Je):null,Je!==null&&(wt=Z(Je),Qe=Je.tag,Je!==wt||Qe!==5&&Qe!==27&&Qe!==6)&&(Je=null)):(C=null,Je=S),C!==Je)){if(Qe=_u,U="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(Qe=ju,U="onPointerLeave",m="onPointerEnter",h="pointer"),wt=C==null?j:le(C),y=Je==null?j:le(Je),j=new Qe(U,h+"leave",C,l,O),j.target=wt,j.relatedTarget=y,U=null,p(O)===S&&(Qe=new Qe(m,h+"enter",Je,l,O),Qe.target=y,Qe.relatedTarget=wt,U=Qe),wt=U,C&&Je)t:{for(Qe=C,m=Je,h=0,y=Qe;y;y=An(y))h++;for(y=0,U=m;U;U=An(U))y++;for(;0<h-y;)Qe=An(Qe),h--;for(;0<y-h;)m=An(m),y--;for(;h--;){if(Qe===m||m!==null&&Qe===m.alternate)break t;Qe=An(Qe),m=An(m)}Qe=null}else Qe=null;C!==null&&mf(X,j,C,Qe,!1),Je!==null&&wt!==null&&mf(X,wt,Je,Qe,!0)}}e:{if(j=S?le(S):window,C=j.nodeName&&j.nodeName.toLowerCase(),C==="select"||C==="input"&&j.type==="file")var Ce=Ou;else if(Mu(j))if(Du)Ce=ah;else{Ce=th;var tt=eh}else C=j.nodeName,!C||C.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?S&&Ps(S.elementType)&&(Ce=Ou):Ce=lh;if(Ce&&(Ce=Ce(e,S))){Ru(X,Ce,l,O);break e}tt&&tt(e,j,S),e==="focusout"&&S&&j.type==="number"&&S.memoizedProps.value!=null&&Fs(j,"number",j.value)}switch(tt=S?le(S):window,e){case"focusin":(Mu(tt)||tt.contentEditable==="true")&&(an=tt,fr=S,$n=null);break;case"focusout":$n=fr=an=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,Xu(X,l,O);break;case"selectionchange":if(ih)break;case"keydown":case"keyup":Xu(X,l,O)}var Xe;if(or)e:{switch(e){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else ln?Nu(e,l)&&(Ze="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(Eu&&l.locale!=="ko"&&(ln||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&ln&&(Xe=wu()):(ua=O,ar="value"in ua?ua.value:ua.textContent,ln=!0)),tt=Ns(S,Ze),0<tt.length&&(Ze=new ku(Ze,e,null,l,O),X.push({event:Ze,listeners:tt}),Xe?Ze.data=Xe:(Xe=Tu(l),Xe!==null&&(Ze.data=Xe)))),(Xe=Jg?Wg(e,l):Fg(e,l))&&(Ze=Ns(S,"onBeforeInput"),0<Ze.length&&(tt=new ku("onBeforeInput","beforeinput",null,l,O),X.push({event:tt,listeners:Ze}),tt.data=Xe)),Yh(X,e,S,l,O)}gf(X,t)})}function vi(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ns(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Bn(e,l),n!=null&&a.unshift(vi(e,n,i)),n=Bn(e,t),n!=null&&a.push(vi(e,n,i))),e.tag===3)return a;e=e.return}return[]}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mf(e,t,l,a,n){for(var i=t._reactName,o=[];l!==null&&l!==a;){var u=l,f=u.alternate,S=u.stateNode;if(u=u.tag,f!==null&&f===a)break;u!==5&&u!==26&&u!==27||S===null||(f=S,n?(S=Bn(l,i),S!=null&&o.unshift(vi(l,S,f))):n||(S=Bn(l,i),S!=null&&o.push(vi(l,S,f)))),l=l.return}o.length!==0&&e.push({event:t,listeners:o})}var $h=/\r\n?/g,Qh=/\u0000|\uFFFD/g;function pf(e){return(typeof e=="string"?e:""+e).replace($h,`
`).replace(Qh,"")}function bf(e,t){return t=pf(t),pf(e)===t}function Ts(){}function xt(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ia(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ia(e,""+a);break;case"className":nl(e,"class",a);break;case"tabIndex":nl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":nl(e,l,a);break;case"style":yu(e,a,i);break;case"data":if(t!=="object"){nl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Hi(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&xt(e,t,"name",n.name,n,null),xt(e,t,"formEncType",n.formEncType,n,null),xt(e,t,"formMethod",n.formMethod,n,null),xt(e,t,"formTarget",n.formTarget,n,null)):(xt(e,t,"encType",n.encType,n,null),xt(e,t,"method",n.method,n,null),xt(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Hi(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Ts);break;case"onScroll":a!=null&&at("scroll",e);break;case"onScrollEnd":a!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Hi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":at("beforetoggle",e),at("toggle",e),pl(e,"popover",a);break;case"xlinkActuate":bl(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":bl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":bl(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":bl(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":bl(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":bl(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":bl(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":bl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":bl(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":pl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Sg.get(l)||l,pl(e,l,a))}}function Bo(e,t,l,a,n,i){switch(l){case"style":yu(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ia(e,a):(typeof a=="number"||typeof a=="bigint")&&Ia(e,""+a);break;case"onScroll":a!=null&&at("scroll",e);break;case"onScrollEnd":a!=null&&at("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[ht]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):pl(e,l,a)}}}function It(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var o=l[i];if(o!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:xt(e,t,i,o,l,null)}}n&&xt(e,t,"srcSet",l.srcSet,l,null),a&&xt(e,t,"src",l.src,l,null);return;case"input":at("invalid",e);var u=i=o=n=null,f=null,S=null;for(a in l)if(l.hasOwnProperty(a)){var O=l[a];if(O!=null)switch(a){case"name":n=O;break;case"type":o=O;break;case"checked":f=O;break;case"defaultChecked":S=O;break;case"value":i=O;break;case"defaultValue":u=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(d(137,t));break;default:xt(e,t,a,O,l,null)}}hu(e,i,u,f,S,o,n,!1),Fa(e);return;case"select":at("invalid",e),a=o=i=null;for(n in l)if(l.hasOwnProperty(n)&&(u=l[n],u!=null))switch(n){case"value":i=u;break;case"defaultValue":o=u;break;case"multiple":a=u;default:xt(e,t,n,u,l,null)}t=i,l=o,e.multiple=!!a,t!=null?Pa(e,!!a,t,!1):l!=null&&Pa(e,!!a,l,!0);return;case"textarea":at("invalid",e),i=n=a=null;for(o in l)if(l.hasOwnProperty(o)&&(u=l[o],u!=null))switch(o){case"value":a=u;break;case"defaultValue":n=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(d(91));break;default:xt(e,t,o,u,l,null)}pu(e,a,n,i),Fa(e);return;case"option":for(f in l)if(l.hasOwnProperty(f)&&(a=l[f],a!=null))switch(f){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:xt(e,t,f,a,l,null)}return;case"dialog":at("beforetoggle",e),at("toggle",e),at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(a=0;a<yi.length;a++)at(yi[a],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(S in l)if(l.hasOwnProperty(S)&&(a=l[S],a!=null))switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:xt(e,t,S,a,l,null)}return;default:if(Ps(t)){for(O in l)l.hasOwnProperty(O)&&(a=l[O],a!==void 0&&Bo(e,t,O,a,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(a=l[u],a!=null&&xt(e,t,u,a,l,null))}function Zh(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,o=null,u=null,f=null,S=null,O=null;for(C in l){var X=l[C];if(l.hasOwnProperty(C)&&X!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":f=X;default:a.hasOwnProperty(C)||xt(e,t,C,null,a,X)}}for(var j in a){var C=a[j];if(X=l[j],a.hasOwnProperty(j)&&(C!=null||X!=null))switch(j){case"type":i=C;break;case"name":n=C;break;case"checked":S=C;break;case"defaultChecked":O=C;break;case"value":o=C;break;case"defaultValue":u=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(d(137,t));break;default:C!==X&&xt(e,t,j,C,a,X)}}Ws(e,o,u,f,S,O,i,n);return;case"select":C=o=u=j=null;for(i in l)if(f=l[i],l.hasOwnProperty(i)&&f!=null)switch(i){case"value":break;case"multiple":C=f;default:a.hasOwnProperty(i)||xt(e,t,i,null,a,f)}for(n in a)if(i=a[n],f=l[n],a.hasOwnProperty(n)&&(i!=null||f!=null))switch(n){case"value":j=i;break;case"defaultValue":u=i;break;case"multiple":o=i;default:i!==f&&xt(e,t,n,i,a,f)}t=u,l=o,a=C,j!=null?Pa(e,!!l,j,!1):!!a!=!!l&&(t!=null?Pa(e,!!l,t,!0):Pa(e,!!l,l?[]:"",!1));return;case"textarea":C=j=null;for(u in l)if(n=l[u],l.hasOwnProperty(u)&&n!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:xt(e,t,u,null,a,n)}for(o in a)if(n=a[o],i=l[o],a.hasOwnProperty(o)&&(n!=null||i!=null))switch(o){case"value":j=n;break;case"defaultValue":C=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(d(91));break;default:n!==i&&xt(e,t,o,n,a,i)}mu(e,j,C);return;case"option":for(var Je in l)if(j=l[Je],l.hasOwnProperty(Je)&&j!=null&&!a.hasOwnProperty(Je))switch(Je){case"selected":e.selected=!1;break;default:xt(e,t,Je,null,a,j)}for(f in a)if(j=a[f],C=l[f],a.hasOwnProperty(f)&&j!==C&&(j!=null||C!=null))switch(f){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:xt(e,t,f,j,a,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in l)j=l[Qe],l.hasOwnProperty(Qe)&&j!=null&&!a.hasOwnProperty(Qe)&&xt(e,t,Qe,null,a,j);for(S in a)if(j=a[S],C=l[S],a.hasOwnProperty(S)&&j!==C&&(j!=null||C!=null))switch(S){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(d(137,t));break;default:xt(e,t,S,j,a,C)}return;default:if(Ps(t)){for(var wt in l)j=l[wt],l.hasOwnProperty(wt)&&j!==void 0&&!a.hasOwnProperty(wt)&&Bo(e,t,wt,void 0,a,j);for(O in a)j=a[O],C=l[O],!a.hasOwnProperty(O)||j===C||j===void 0&&C===void 0||Bo(e,t,O,j,a,C);return}}for(var m in l)j=l[m],l.hasOwnProperty(m)&&j!=null&&!a.hasOwnProperty(m)&&xt(e,t,m,null,a,j);for(X in a)j=a[X],C=l[X],!a.hasOwnProperty(X)||j===C||j==null&&C==null||xt(e,t,X,j,a,C)}var Ho=null,Lo=null;function Ms(e){return e.nodeType===9?e:e.ownerDocument}function yf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yo=null;function Kh(){var e=window.event;return e&&e.type==="popstate"?e===Yo?!1:(Yo=e,!0):(Yo=null,!1)}var xf=typeof setTimeout=="function"?setTimeout:void 0,Jh=typeof clearTimeout=="function"?clearTimeout:void 0,wf=typeof Promise=="function"?Promise:void 0,Wh=typeof queueMicrotask=="function"?queueMicrotask:typeof wf<"u"?function(e){return wf.resolve(null).then(e).catch(Fh)}:xf;function Fh(e){setTimeout(function(){throw e})}function ja(e){return e==="head"}function Sf(e,t){var l=t,a=0,n=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(0<a&&8>a){l=a;var o=e.ownerDocument;if(l&1&&xi(o.documentElement),l&2&&xi(o.body),l&4)for(l=o.head,xi(l),o=l.firstChild;o;){var u=o.nextSibling,f=o.nodeName;o[al]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&o.rel.toLowerCase()==="stylesheet"||l.removeChild(o),o=u}}if(n===0){e.removeChild(i),Ai(t);return}n--}else l==="$"||l==="$?"||l==="$!"?n++:a=l.charCodeAt(0)-48;else a=0;l=i}while(l);Ai(t)}function Xo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Xo(l),hl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Ph(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[al])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Hl(e.nextSibling),e===null)break}return null}function Ih(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Hl(e.nextSibling),e===null))return null;return e}function qo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function e0(e,t){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Hl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Vo=null;function _f(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}function kf(e,t,l){switch(t=Ms(l),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function xi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hl(e)}var Dl=new Map,jf=new Set;function Rs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ra=B.d;B.d={f:t0,r:l0,D:a0,C:n0,L:i0,m:s0,X:o0,S:r0,M:u0};function t0(){var e=ra.f(),t=_s();return e||t}function l0(e){var t=Y(e);t!==null&&t.tag===5&&t.type==="form"?Vc(t):ra.r(e)}var Nn=typeof document>"u"?null:document;function Ef(e,t,l){var a=Nn;if(a&&typeof t=="string"&&t){var n=Cl(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),jf.has(n)||(jf.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),It(t,"link",e),Ke(t),a.head.appendChild(t)))}}function a0(e){ra.D(e),Ef("dns-prefetch",e,null)}function n0(e,t){ra.C(e,t),Ef("preconnect",e,t)}function i0(e,t,l){ra.L(e,t,l);var a=Nn;if(a&&e&&t){var n='link[rel="preload"][as="'+Cl(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Cl(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Cl(l.imageSizes)+'"]')):n+='[href="'+Cl(e)+'"]';var i=n;switch(t){case"style":i=Tn(e);break;case"script":i=Mn(e)}Dl.has(i)||(e=z({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Dl.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(wi(i))||t==="script"&&a.querySelector(Si(i))||(t=a.createElement("link"),It(t,"link",e),Ke(t),a.head.appendChild(t)))}}function s0(e,t){ra.m(e,t);var l=Nn;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Cl(a)+'"][href="'+Cl(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Mn(e)}if(!Dl.has(i)&&(e=z({rel:"modulepreload",href:e},t),Dl.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Si(i)))return}a=l.createElement("link"),It(a,"link",e),Ke(a),l.head.appendChild(a)}}}function r0(e,t,l){ra.S(e,t,l);var a=Nn;if(a&&e){var n=Fe(a).hoistableStyles,i=Tn(e);t=t||"default";var o=n.get(i);if(!o){var u={loading:0,preload:null};if(o=a.querySelector(wi(i)))u.loading=5;else{e=z({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Dl.get(i))&&$o(e,l);var f=o=a.createElement("link");Ke(f),It(f,"link",e),f._p=new Promise(function(S,O){f.onload=S,f.onerror=O}),f.addEventListener("load",function(){u.loading|=1}),f.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Os(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:u},n.set(i,o)}}}function o0(e,t){ra.X(e,t);var l=Nn;if(l&&e){var a=Fe(l).hoistableScripts,n=Mn(e),i=a.get(n);i||(i=l.querySelector(Si(n)),i||(e=z({src:e,async:!0},t),(t=Dl.get(n))&&Qo(e,t),i=l.createElement("script"),Ke(i),It(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function u0(e,t){ra.M(e,t);var l=Nn;if(l&&e){var a=Fe(l).hoistableScripts,n=Mn(e),i=a.get(n);i||(i=l.querySelector(Si(n)),i||(e=z({src:e,async:!0,type:"module"},t),(t=Dl.get(n))&&Qo(e,t),i=l.createElement("script"),Ke(i),It(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Cf(e,t,l,a){var n=(n=K.current)?Rs(n):null;if(!n)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Tn(l.href),l=Fe(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Tn(l.href);var i=Fe(n).hoistableStyles,o=i.get(e);if(o||(n=n.ownerDocument||n,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=n.querySelector(wi(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Dl.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dl.set(e,l),i||c0(n,e,l,o.state))),t&&a===null)throw Error(d(528,""));return o}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Mn(l),l=Fe(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Tn(e){return'href="'+Cl(e)+'"'}function wi(e){return'link[rel="stylesheet"]['+e+"]"}function Af(e){return z({},e,{"data-precedence":e.precedence,precedence:null})}function c0(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),It(t,"link",l),Ke(t),e.head.appendChild(t))}function Mn(e){return'[src="'+Cl(e)+'"]'}function Si(e){return"script[async]"+e}function Nf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Cl(l.href)+'"]');if(a)return t.instance=a,Ke(a),a;var n=z({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ke(a),It(a,"style",n),Os(a,l.precedence,e),t.instance=a;case"stylesheet":n=Tn(l.href);var i=e.querySelector(wi(n));if(i)return t.state.loading|=4,t.instance=i,Ke(i),i;a=Af(l),(n=Dl.get(n))&&$o(a,n),i=(e.ownerDocument||e).createElement("link"),Ke(i);var o=i;return o._p=new Promise(function(u,f){o.onload=u,o.onerror=f}),It(i,"link",a),t.state.loading|=4,Os(i,l.precedence,e),t.instance=i;case"script":return i=Mn(l.src),(n=e.querySelector(Si(i)))?(t.instance=n,Ke(n),n):(a=l,(n=Dl.get(i))&&(a=z({},l),Qo(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ke(n),It(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Os(a,l.precedence,e));return t.instance}function Os(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,o=0;o<a.length;o++){var u=a[o];if(u.dataset.precedence===t)i=u;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function $o(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ds=null;function Tf(e,t,l){if(Ds===null){var a=new Map,n=Ds=new Map;n.set(l,a)}else n=Ds,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[al]||i[it]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var u=a.get(o);u?u.push(i):a.set(o,[i])}}return a}function Mf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function d0(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var _i=null;function f0(){}function g0(e,t,l){if(_i===null)throw Error(d(475));var a=_i;if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=Tn(l.href),i=e.querySelector(wi(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=zs.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=i,Ke(i);return}i=e.ownerDocument||e,l=Af(l),(n=Dl.get(n))&&$o(l,n),i=i.createElement("link"),Ke(i);var o=i;o._p=new Promise(function(u,f){o.onload=u,o.onerror=f}),It(i,"link",l),t.instance=i}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=zs.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function h0(){if(_i===null)throw Error(d(475));var e=_i;return e.stylesheets&&e.count===0&&Zo(e,e.stylesheets),0<e.count?function(t){var l=setTimeout(function(){if(e.stylesheets&&Zo(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l)}}:null}function zs(){if(this.count--,this.count===0){if(this.stylesheets)Zo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Us=null;function Zo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Us=new Map,t.forEach(m0,e),Us=null,zs.call(e))}function m0(e,t){if(!(t.state.loading&4)){var l=Us.get(e);if(l)var a=l.get(null);else{l=new Map,Us.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var o=n[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(l.set(o.dataset.precedence,o),a=o)}a&&l.set(null,a)}n=t.instance,o=n.getAttribute("data-precedence"),i=l.get(o)||a,i===a&&l.set(null,n),l.set(o,n),this.count++,a=zs.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var ki={$$typeof:x,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function p0(e,t,l,a,n,i,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lt(0),this.hiddenUpdates=Lt(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Of(e,t,l,a,n,i,o,u,f,S,O,X){return e=new p0(e,t,l,o,u,f,S,X),t=1,i===!0&&(t|=24),i=xl(3,null,null,t),e.current=i,i.stateNode=e,t=Cr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},Mr(i),e}function Df(e){return e?(e=on,e):on}function zf(e,t,l,a,n,i){n=Df(n),a.context===null?a.context=n:a.pendingContext=n,a=fa(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=ga(e,a,t),l!==null&&(jl(l,e,t),ei(l,e,t))}function Uf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Ko(e,t){Uf(e,t),(e=e.alternate)&&Uf(e,t)}function Bf(e){if(e.tag===13){var t=rn(e,67108864);t!==null&&jl(t,e,67108864),Ko(e,67108864)}}var Bs=!0;function b0(e,t,l,a){var n=b.T;b.T=null;var i=B.p;try{B.p=2,Jo(e,t,l,a)}finally{B.p=i,b.T=n}}function y0(e,t,l,a){var n=b.T;b.T=null;var i=B.p;try{B.p=8,Jo(e,t,l,a)}finally{B.p=i,b.T=n}}function Jo(e,t,l,a){if(Bs){var n=Wo(a);if(n===null)Uo(e,t,a,Hs,l),Lf(e,a);else if(x0(n,e,t,l,a))a.stopPropagation();else if(Lf(e,a),t&4&&-1<v0.indexOf(e)){for(;n!==null;){var i=Y(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=nt(i.pendingLanes);if(o!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;o;){var f=1<<31-Me(o);u.entanglements[1]|=f,o&=~f}Vl(i),(pt&6)===0&&(ws=Se()+500,bi(0))}}break;case 13:u=rn(i,2),u!==null&&jl(u,i,2),_s(),Ko(i,2)}if(i=Wo(a),i===null&&Uo(e,t,a,Hs,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else Uo(e,t,a,null,l)}}function Wo(e){return e=er(e),Fo(e)}var Hs=null;function Fo(e){if(Hs=null,e=p(e),e!==null){var t=Z(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=L(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Hs=e,null}function Hf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Le:return 2;case Ve:return 8;case ae:case te:return 32;case oe:return 268435456;default:return 32}default:return 32}}var Po=!1,Ea=null,Ca=null,Aa=null,ji=new Map,Ei=new Map,Na=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lf(e,t){switch(e){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(t.pointerId)}}function Ci(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Y(t),t!==null&&Bf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function x0(e,t,l,a,n){switch(t){case"focusin":return Ea=Ci(Ea,e,t,l,a,n),!0;case"dragenter":return Ca=Ci(Ca,e,t,l,a,n),!0;case"mouseover":return Aa=Ci(Aa,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return ji.set(i,Ci(ji.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Ei.set(i,Ci(Ei.get(i)||null,e,t,l,a,n)),!0}return!1}function Gf(e){var t=p(e.target);if(t!==null){var l=Z(t);if(l!==null){if(t=l.tag,t===13){if(t=L(l),t!==null){e.blockedOn=t,Ye(e.priority,function(){if(l.tag===13){var a=kl();a=w(a);var n=rn(l,a);n!==null&&jl(n,l,a),Ko(l,a)}});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Wo(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Is=a,l.target.dispatchEvent(a),Is=null}else return t=Y(l),t!==null&&Bf(t),e.blockedOn=l,!1;t.shift()}return!0}function Yf(e,t,l){Ls(e)&&l.delete(t)}function w0(){Po=!1,Ea!==null&&Ls(Ea)&&(Ea=null),Ca!==null&&Ls(Ca)&&(Ca=null),Aa!==null&&Ls(Aa)&&(Aa=null),ji.forEach(Yf),Ei.forEach(Yf)}function Gs(e,t){e.blockedOn===t&&(e.blockedOn=null,Po||(Po=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w0)))}var Ys=null;function Xf(e){Ys!==e&&(Ys=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ys===e&&(Ys=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(Fo(a||l)===null)continue;break}var i=Y(l);i!==null&&(e.splice(t,3),t-=3,Wr(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Ai(e){function t(f){return Gs(f,e)}Ea!==null&&Gs(Ea,e),Ca!==null&&Gs(Ca,e),Aa!==null&&Gs(Aa,e),ji.forEach(t),Ei.forEach(t);for(var l=0;l<Na.length;l++){var a=Na[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Na.length&&(l=Na[0],l.blockedOn===null);)Gf(l),l.blockedOn===null&&Na.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],o=n[ht]||null;if(typeof i=="function")o||Xf(l);else if(o){var u=null;if(i&&i.hasAttribute("formAction")){if(n=i,o=i[ht]||null)u=o.formAction;else if(Fo(n)!==null)continue}else u=o.action;typeof u=="function"?l[a+1]=u:(l.splice(a,3),a-=3),Xf(l)}}}function Io(e){this._internalRoot=e}Xs.prototype.render=Io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var l=t.current,a=kl();zf(l,a,e,t,null,null)},Xs.prototype.unmount=Io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zf(e.current,2,null,e,null,null),_s(),t[jt]=null}};function Xs(e){this._internalRoot=e}Xs.prototype.unstable_scheduleHydration=function(e){if(e){var t=_e();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Na.length&&t!==0&&t<Na[l].priority;l++);Na.splice(l,0,e),l===0&&Gf(e)}};var qf=k.version;if(qf!=="19.1.1")throw Error(d(527,qf,"19.1.1"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=q(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var S0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{I=qs.inject(S0),ve=qs}catch{}}return Ti.createRoot=function(e,t){if(!E(e))throw Error(d(299));var l=!1,a="",n=nd,i=id,o=sd,u=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(u=t.unstable_transitionCallbacks)),t=Of(e,1,!1,null,null,l,a,n,i,o,u,null),e[jt]=t.current,zo(e),new Io(t)},Ti.hydrateRoot=function(e,t,l){if(!E(e))throw Error(d(299));var a=!1,n="",i=nd,o=id,u=sd,f=null,S=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(o=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(f=l.unstable_transitionCallbacks),l.formState!==void 0&&(S=l.formState)),t=Of(e,1,!0,t,l??null,a,n,i,o,u,f,S),t.context=Df(null),l=t.current,a=kl(),a=w(a),n=fa(a),n.callback=null,ga(l,n,a),l=a,t.current.lanes=l,Xt(t,l),Vl(t),e[jt]=t.current,zo(e),new Xs(t)},Ti.version="19.1.1",Ti}var If;function R0(){if(If)return lu.exports;If=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(k){console.error(k)}}return r(),lu.exports=M0(),lu.exports}var O0=R0();const D0=mg(O0),H=(r,k)=>{typeof window.gtag=="function"?window.gtag("event",r,k):console.log(`GA Event (gtag not found): ${r}`,k)},z0=()=>{const r=new Date,k=r.getFullYear(),v=String(r.getMonth()+1).padStart(2,"0"),d=String(r.getDate()).padStart(2,"0"),E=String(r.getHours()).padStart(2,"0"),Z=String(r.getMinutes()).padStart(2,"0"),L=String(r.getSeconds()).padStart(2,"0");return`${k}${v}${d}-${E}${Z}${L}`},zi=r=>{const[k,v]=g.useState([r]),[d,E]=g.useState(0),Z=g.useCallback(z=>{const F=typeof z=="function"?z(k[d]):z;if(JSON.stringify(F)===JSON.stringify(k[d]))return;const $=k.slice(0,d+1);$.push(F),v($),E($.length-1)},[k,d]),L=g.useCallback(()=>{d>0&&E(d-1)},[d]),re=g.useCallback(()=>{d<k.length-1&&E(d+1)},[d,k.length]),q=g.useCallback(z=>{const F={...r,...z},$=k.slice(0,d+1);$.push(F),v($),E($.length-1)},[r,k,d]),_=g.useCallback(z=>{v([z]),E(0)},[]);return{state:k[d],setState:Z,undo:L,redo:re,reset:q,resetHistory:_,canUndo:d>0,canRedo:d<k.length-1}},Ui=({featureName:r,onFileSelectCallback:k,triggerShareToast:v})=>{const[d,E]=g.useState(null),[Z,L]=g.useState(null),[re,q]=g.useState(!1),[_,z]=g.useState(!1),[F,$]=g.useState(null),pe=g.useCallback((ne,$e)=>{q(!0),H("upload_image",{feature:r,method:$e});const ge=new FileReader;ge.onload=x=>{var se;const xe=(se=x.target)==null?void 0:se.result;E(xe),$(Date.now());const A=new Image;A.onload=()=>{L(A),q(!1),k()},A.onerror=()=>{H("upload_error",{feature:r,reason:"image_load_fail"}),E(null),L(null),q(!1)},A.src=xe},ge.readAsDataURL(ne)},[r,k]),P=g.useCallback(async(ne,$e,ge,x,xe)=>{if(!_){z(!0);try{const A=performance.now(),se=await ne(),we=performance.now(),V=Math.round(we-A),he={...ge};if(F){const De=Math.round((Date.now()-F)/1e3);he.duration_seconds=De}if(he.generation_time_ms=V,H("download",he),V>2e3&&H("slow_download",he),se){const De=URL.createObjectURL(se),Oe=document.createElement("a"),ze=(xe==null?void 0:xe.extension)||"png";Oe.download=`${$e}-${z0()}.${ze}`,Oe.href=De,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(De),x?x():v()}}catch(A){const se=A instanceof Error?A.message:String(A);console.error(`Error preparing ${r} for download:`,A),H("download_error",{feature:r,error:se})}finally{z(!1)}}},[_,F,r,v]),Re=g.useCallback(()=>{H("clear_image",{feature:r}),E(null),L(null),$(null),k()},[r,k]);return{imageSrc:d,image:Z,isLoading:re,isDownloading:_,handleFileSelect:pe,handleDownload:P,clearImage:Re}},Ql=({onFileSelect:r,isLoading:k,compact:v=!1,theme:d,accept:E="image/*",context:Z,isMobile:L=!1})=>{const re=g.useRef(null),[q,_]=g.useState(!1),z=(A,se)=>{A&&(E==="image/*"||E.includes(A.type))?r(A,se):A&&H("upload_error",{feature:Z,reason:"unsupported_file_type",file_type:A.type})},F=A=>{A.preventDefault(),A.stopPropagation(),_(!0)},$=A=>{A.preventDefault(),A.stopPropagation(),_(!1)},pe=A=>{A.preventDefault(),A.stopPropagation()},P=A=>{var we;A.preventDefault(),A.stopPropagation(),_(!1);const se=(we=A.dataTransfer.files)==null?void 0:we[0];z(se,"drag_drop")},Re=()=>{var A;(A=re.current)==null||A.click()},ne=A=>{var we;const se=(we=A.target.files)==null?void 0:we[0];z(se,"click"),A.target&&(A.target.value="")},$e=q?d==="dark"?"border-white bg-nothing-gray-dark":"border-black bg-day-gray-light":d==="dark"?"border-gray-600 bg-transparent hover:border-gray-400":"border-gray-400 bg-transparent hover:border-gray-600",ge=L?"Drag & Drop or Click":"Drag & Drop | Click | Ctrl+V",x={pfp:{bold:ge,normal:"to load an image"},wallpaper:{bold:ge,normal:"to load an image"},photoWidget:{bold:ge,normal:"to load an image"},valueAliasing:{bold:ge,normal:"to load an image"},glassDots:{bold:ge,normal:"to load an image"}},xe=Z&&x[Z]?x[Z]:{bold:"Drag & Drop Image Here",normal:"or click to browse"};return s.jsxs("div",{onClick:Re,onDrop:P,onDragOver:pe,onDragEnter:F,onDragLeave:$,className:`w-full ${v?"":"flex-grow"} text-center border-2 border-dashed cursor-pointer transition-colors duration-300 flex items-center justify-center rounded-lg ${v?"py-4":""} ${$e}`,children:[s.jsx("input",{type:"file",ref:re,onChange:ne,accept:E,className:"hidden"}),s.jsx("div",{className:`flex flex-col items-center justify-center space-y-2 ${d==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:v?s.jsx("p",{className:"text-md font-semibold",children:"Replace Image"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-6xl",role:"img","aria-label":"Folder icon",children:""}),s.jsx("p",{className:`text-xl font-semibold ${d==="dark"?"text-nothing-light":"text-day-text"}`,children:xe.bold}),s.jsx("p",{className:"text-sm",children:xe.normal}),s.jsx("p",{className:"text-sm mt-1",children:"(all image processing happens locally)"})]})})]})},yt=({label:r,labelPrefix:k,value:v,min:d=0,max:E=100,step:Z=1,onChange:L,onChangeCommitted:re,onReset:q,disabled:_,theme:z,isMobile:F})=>{const $=P=>{const Re=Math.max(d,Math.min(E,P));L(Re),re(Re)},pe=`slider-${r.replace(/\s+/g,"-")}`;return s.jsxs("div",{className:`${z==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} space-y-2`,children:[s.jsxs("label",{htmlFor:pe,className:"text-sm",children:[k,r]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{id:pe,type:"range",min:d,max:E,step:Z,value:v,onChange:P=>L(Number(P.target.value)),onMouseUp:()=>$(v),onTouchEnd:()=>$(v),disabled:_,className:`w-full h-2 appearance-none cursor-pointer disabled:opacity-50 rounded-lg ${z==="dark"?"bg-nothing-gray-dark accent-white":"bg-day-gray-light accent-black"} ${F?"touch-none":""}`}),s.jsx("div",{className:"w-16 text-center font-sans text-sm font-semibold tabular-nums",children:v}),s.jsx("button",{onClick:()=>{H("reset_single_control",{control_name:r}),q()},disabled:_,className:`${z==="dark"?"text-nothing-gray-light hover:text-white disabled:hover:text-nothing-gray-light":"text-day-gray-dark hover:text-black disabled:hover:text-day-gray-dark"} transition-colors disabled:opacity-50`,"aria-label":`Reset ${r}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[s.jsx("polyline",{points:"23 4 23 10 17 10"}),s.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})})]})]})},Wa=({onUndo:r,onRedo:k,canUndo:v,canRedo:d,theme:E})=>s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsxs("button",{onClick:r,disabled:!v,className:`flex items-center justify-center gap-2 px-4 py-2 text-sm font-semibold transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-md ${E==="dark"?"bg-gray-700 text-nothing-light hover:bg-gray-600 disabled:hover:bg-gray-700":"bg-gray-200 text-day-text hover:bg-gray-300 disabled:hover:bg-gray-200"}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("polyline",{points:"9 14 4 9 9 4"}),s.jsx("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"})]}),s.jsx("span",{children:"Undo"})]}),s.jsxs("button",{onClick:k,disabled:!d,className:`flex items-center justify-center gap-2 px-4 py-2 text-sm font-semibold transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-md ${E==="dark"?"bg-gray-700 text-nothing-light hover:bg-gray-600 disabled:hover:bg-gray-700":"bg-gray-200 text-day-text hover:bg-gray-300 disabled:hover:bg-gray-200"}`,children:[s.jsx("span",{children:"Redo"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("polyline",{points:"15 14 20 9 15 4"}),s.jsx("path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"})]})]})]}),fl=({options:r,selected:k,onSelect:v,theme:d})=>{const E="w-1/2 py-2 text-sm font-semibold transition-colors duration-200 focus:outline-none rounded-md flex items-center justify-center space-x-2",Z=d==="dark"?"bg-nothing-light text-nothing-dark font-bold":"bg-day-text text-day-bg font-bold",L=d==="dark"?"bg-nothing-gray-dark hover:bg-gray-700 text-nothing-light":"bg-day-gray-light hover:bg-gray-300 text-day-text";return s.jsx("div",{className:`flex space-x-1 p-1 rounded-lg ${d==="dark"?"bg-nothing-darker":"bg-gray-200"}`,children:r.map(re=>s.jsx("button",{onClick:()=>v(re.key),className:`${E} ${k===re.key?Z:L}`,"aria-pressed":k===re.key?"true":"false",children:re.label},re.key))})},Ja=({show:r,onClose:k,onShare:v,theme:d,isMobile:E,imageRendered:Z,className:L="",variant:re="default"})=>{const q=Z?"bottom-20":"bottom-4",_=re==="special",z=E?`fixed inset-x-4 ${q}`:"absolute bottom-8 right-8 w-full max-w-sm",[F,$]=g.useState(0),[pe,P]=g.useState(!1),Re=g.useRef(0),ne=g.useRef(null),$e=g.useRef(k);g.useEffect(()=>{$e.current=k},[k]);const ge=g.useCallback(()=>{ne.current&&clearTimeout(ne.current),ne.current=window.setTimeout(()=>{H("toast_dismiss",{method:"timeout"}),$e.current()},9600)},[]),x=g.useCallback(()=>{ne.current&&(clearTimeout(ne.current),ne.current=null)},[]);g.useEffect(()=>(r?ge():x(),x),[r,ge,x]);const xe=De=>{E&&(x(),Re.current=De.touches[0].clientX,P(!0))},A=De=>{if(!E||!pe)return;const Oe=De.touches[0].clientX-Re.current;Oe>0&&$(Oe)},se=()=>{E&&(P(!1),F>100?(H("toast_dismiss",{method:"swipe"}),k()):($(0),ge()))};g.useEffect(()=>{r||setTimeout(()=>{$(0)},500)},[r]);const we=_?"Yay!! That's your first special theme creation!":"You seem to love it?!",V=_?"Keeping the secret to yourself would be too selfish.":"Help spread the word. Share it to the community thread.",he=`block w-full text-center px-4 py-2 text-sm font-bold rounded-md transition-colors ${_?"easter-egg-glow":d==="dark"?"bg-nothing-light text-nothing-dark hover:bg-opacity-90":"bg-day-text text-day-bg hover:bg-opacity-90"}`;return s.jsx("div",{"aria-live":"polite",className:`z-50 transition-all duration-500 ease-in-out ${z} ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10 pointer-events-none"} ${L}`,onTouchStart:xe,onTouchMove:A,onTouchEnd:se,style:{transform:`translateX(${F}px)`,transition:pe?"none":"transform 0.3s ease-out"},children:s.jsx("div",{className:`relative w-full rounded-lg shadow-2xl p-4 ${d==="dark"?"bg-nothing-gray-dark text-nothing-light":"bg-white text-day-text border border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center space-x-4 md:flex-col md:items-stretch md:space-y-3 md:space-x-0",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-semibold",children:we}),s.jsx("p",{className:`text-sm ${d==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:V})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("button",{onClick:()=>{H("share_community_toast_click",{variant:re}),v(re),k()},className:he,children:"Share Now"})})]})})})},Js=({show:r,onClose:k,theme:v,communityLink:d,appUrl:E,variant:Z="default"})=>{const[L,re]=g.useState("Copy");g.useEffect(()=>{const V=he=>{he.key==="Escape"&&k()};return r?(document.body.style.overflow="hidden",window.addEventListener("keydown",V)):document.body.style.overflow="auto",()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",V)}},[r,k]);const q=Z==="special",_=`Create your own Nothing style dot-matrix imagery with Matrices: ${E}`,z=`${_}

#Matrices #NothingCommunity`,F="Have you unlocked the secret theme in Matrices Value Aliasing yet?  On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/",$=`#FeelingNothing

  Have you unlocked the secret theme in Matrices Value Aliasing yet? On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed!

https://udaign.github.io/matrices/`,pe="Unlocked the secret theme in Matrices Value Aliasing! ",P="On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed!",Re=" Have you unlocked the secret theme in Matrices Value Aliasing yet? On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/",ne="Secret special theme in Matrices! ",$e="Upload your image to Value Aliasing and on desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/",ge="This community-made tool is just awesome! Have you unlocked the secret theme in Matrices Value Aliasing yet? On desktop, use 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! #FeelingNothing",x=q?F:E,xe=encodeURIComponent(E),A=()=>{navigator.clipboard.writeText(x),H("share_popup_copy_link",{variant:Z}),re("Copied!"),setTimeout(()=>re("Copy"),2e3)},se=[{name:"Nothing Community",icon:"nothing",href:d,color:"#2a2b7b"},{name:"X",icon:"x",href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(q?$:z)}`,color:"#000000"},{name:"Reddit",icon:"reddit",href:q?`https://www.reddit.com/submit?title=${encodeURIComponent(pe)}&url=${xe}&text=${encodeURIComponent(P)}`:`https://www.reddit.com/submit?title=${encodeURIComponent("Just created this with Matrices!")}&url=${xe}`,color:"#FF4500"},{name:"WhatsApp",icon:"whatsapp",href:`https://api.whatsapp.com/send?text=${encodeURIComponent(q?Re:_)}`,color:"#25D366"},{name:"Email",icon:"email",href:q?`mailto:?subject=${encodeURIComponent(ne)}&body=${encodeURIComponent($e)}`:`mailto:?subject=${encodeURIComponent("Just created this with Matrices!")}&body=${encodeURIComponent(_)}`,color:"#4285F4"},{name:"LinkedIn",icon:"linkedin",href:`https://www.linkedin.com/sharing/share-offsite/?url=${xe}`,color:"#0A66C2"},{name:"Facebook",icon:"facebook",href:q?`https://www.facebook.com/sharer/sharer.php?u=${xe}&quote=${encodeURIComponent(ge)}`:`https://www.facebook.com/sharer/sharer.php?u=${xe}`,color:"#1877F2"}],we={nothing:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#2a2b7b"})}),x:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:s.jsx("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.6.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"})}),reddit:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:[s.jsx("path",{d:"M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"}),s.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224q-.03.17-.029.353c0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"})]}),whatsapp:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:s.jsx("path",{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"})}),email:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),linkedin:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",className:"w-full h-full",children:s.jsx("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"})}),facebook:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-1.5c-1 0-1.5.5-1.5 1.5V12h3l-.5 3h-2.5v6.8c4.56-.93 8-4.96 8-9.8z"})}),copy:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),close:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})};return r?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-[2px]",onClick:k,role:"dialog","aria-modal":"true","aria-labelledby":"share-popup-title",children:s.jsxs("div",{className:`relative w-full max-w-xl m-4 p-6 rounded-lg shadow-2xl ${v==="dark"?"bg-nothing-darker text-nothing-light":"bg-white text-day-text"} animate-fade-in`,onClick:V=>V.stopPropagation(),children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h2",{id:"share-popup-title",className:"text-xl font-bold",children:"Share"})}),s.jsx("button",{onClick:k,className:`absolute top-3 right-3 p-2 rounded-full ${v==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Close share dialog",children:we.close}),s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-4 mb-6",children:se.map(V=>s.jsxs("a",{href:V.href,target:"_blank",rel:"noopener noreferrer",onClick:()=>H("share_popup_click",{platform:V.name,variant:Z}),className:"flex flex-col items-center space-y-2 text-center group",children:[s.jsx("div",{style:{backgroundColor:V.color},className:"h-14 w-14 rounded-full flex items-center justify-center transition-opacity group-hover:opacity-80",children:s.jsx("div",{className:"text-white w-7 h-7",children:we[V.icon]})}),s.jsx("span",{className:"text-sm",children:V.name})]},V.name))}),s.jsxs("div",{className:`flex items-center rounded-md border ${v==="dark"?"bg-nothing-dark border-nothing-gray-dark":"bg-day-gray-light border-gray-300"}`,children:[s.jsx("input",{type:"text",readOnly:!0,value:x,"aria-label":"Link to copy",className:`w-full p-2 bg-transparent text-base truncate focus:outline-none ${v==="dark"?"text-nothing-light":"text-day-text"}`}),s.jsxs("button",{onClick:A,className:`flex-shrink-0 flex items-center justify-center w-24 space-x-2 px-3 py-2 text-sm font-semibold rounded-r-md transition-all duration-300 ${L==="Copied!"?"bg-white text-nothing-dark":v==="dark"?"bg-nothing-red hover:brightness-90 text-nothing-light":"bg-day-accent hover:brightness-90 text-white"}`,children:[L==="Copy"&&s.jsx("span",{className:"w-5 h-5",children:we.copy}),s.jsx("span",{children:L})]})]})]})}):null},U0=({show:r,onClose:k,theme:v})=>{const[d,E]=g.useState("initial"),[Z,L]=g.useState("Copy UPI ID");g.useEffect(()=>{r&&(E("initial"),L("Copy UPI ID"))},[r]),g.useEffect(()=>{const $=pe=>{pe.key==="Escape"&&k()};return r&&window.addEventListener("keydown",$),()=>{window.removeEventListener("keydown",$)}},[r,k]);const re=()=>{navigator.clipboard.writeText("udaybhaskar2283@okicici"),H("support_copy_upi_id"),L("Copied!"),setTimeout(()=>L("Copy UPI ID"),2e3)};if(!r)return null;const q=v==="dark"?"bg-nothing-darker text-nothing-light":"bg-white text-day-text",_="w-full text-center px-4 py-3 text-lg font-bold rounded-md transition-colors duration-300 flex items-center justify-center space-x-3",z=v==="dark"?"bg-nothing-gray-dark hover:bg-gray-700":"bg-day-gray-light hover:bg-gray-300",F={close:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),back:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),copy:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),paypal:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-paypal",viewBox:"0 0 16 16",children:s.jsx("path",{d:"M14.06 3.713c.12-1.071-.093-1.832-.702-2.526C12.628.356 11.312 0 9.626 0H4.734a.7.7 0 0 0-.691.59L2.005 13.509a.42.42 0 0 0 .415.486h2.756l-.202 1.28a.628.628 0 0 0 .62.726H8.14c.429 0 .793-.31.862-.731l.025-.13.48-3.043.03-.164.001-.007a.35.35 0 0 1 .348-.297h.38c1.266 0 2.425-.256 3.345-.91q.57-.403.993-1.005a4.94 4.94 0 0 0 .88-2.195c.242-1.246.13-2.356-.57-3.154a2.7 2.7 0 0 0-.76-.59l-.094-.061ZM6.543 8.82a.7.7 0 0 1 .321-.079H8.3c2.82 0 5.027-1.144 5.672-4.456l.003-.016q.326.186.548.438c.546.623.679 1.535.45 2.71-.272 1.397-.866 2.307-1.663 2.874-.802.57-1.842.815-3.043.815h-.38a.87.87 0 0 0-.863.734l-.03.164-.48 3.043-.024.13-.001.004a.35.35 0 0 1-.348.296H5.595a.106.106 0 0 1-.105-.123l.208-1.32z"})})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:k,role:"dialog","aria-modal":"true","aria-labelledby":"support-modal-title",children:s.jsxs("div",{className:`relative w-full max-w-sm m-4 p-6 rounded-lg shadow-2xl ${q}`,onClick:$=>$.stopPropagation(),children:[d==="upi"&&s.jsx("button",{onClick:()=>E("initial"),className:`absolute top-3 left-3 p-2 rounded-full ${v==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Back to support options",children:F.back}),s.jsx("button",{onClick:k,className:`absolute top-3 right-3 p-2 rounded-full ${v==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Close support dialog",children:F.close}),d==="initial"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{id:"support-modal-title",className:"text-2xl font-bold text-center mb-6",children:"Support Matrices"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("a",{href:"https://www.paypal.com/ncp/payment/72N9AB9VD4MJ4",target:"_blank",rel:"noopener noreferrer",className:`${_} bg-[#0070ba] text-white hover:bg-[#005ea6]`,onClick:()=>{H("support_paypal_click"),k()},children:[F.paypal,s.jsx("span",{children:"Pay with PayPal"})]}),s.jsxs("button",{onClick:()=>{E("upi"),H("support_upi_click")},className:`${_} ${z}`,children:[s.jsx("span",{className:"font-bold text-2xl leading-none",children:""}),s.jsx("span",{children:"Pay with UPI"})]})]})]}),d==="upi"&&s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pay with UPI"}),s.jsx("img",{src:"images/UPI-QRCode.png",alt:"UPI QR Code",width:"256",height:"256",className:"rounded-lg border-4 border-white mb-4"}),s.jsx("p",{className:`text-sm mb-4 ${v==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:"Scan the QR code with any UPI app"}),s.jsxs("div",{className:`w-full flex items-center rounded-md border ${v==="dark"?"bg-nothing-dark border-nothing-gray-dark":"bg-day-gray-light border-gray-300"}`,children:[s.jsx("input",{type:"text",readOnly:!0,value:"udaybhaskar2283@okicici","aria-label":"UPI ID",className:`w-full p-2 bg-transparent text-base truncate focus:outline-none ${v==="dark"?"text-nothing-light":"text-day-text"}`}),s.jsxs("button",{onClick:re,className:`flex-shrink-0 flex items-center justify-center w-36 space-x-2 px-3 py-2 text-sm font-semibold rounded-r-md transition-all duration-300 ${Z==="Copied!"?"bg-white text-nothing-dark":v==="dark"?"bg-nothing-red hover:brightness-90 text-nothing-light":"bg-day-accent hover:brightness-90 text-white"}`,children:[Z==="Copy UPI ID"&&s.jsx("span",{className:"w-5 h-5",children:F.copy}),s.jsx("span",{children:Z})]})]})]})]})})},B0=({show:r,onClose:k,onSelect:v,theme:d})=>{if(g.useEffect(()=>{const re=q=>{q.key==="Escape"&&k()};return r?(document.body.style.overflow="hidden",window.addEventListener("keydown",re)):document.body.style.overflow="auto",()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",re)}},[r,k]),!r)return null;const E=re=>{H("share_target_select",{feature:re}),v(re)},Z=[{key:"valueAliasing",label:"Value Aliasing"},{key:"pfp",label:"Glyph Mirror"},{key:"glassDots",label:"Glass Dots"},{key:"wallpaper",label:"Matrix Wallpaper"},{key:"photoWidget",label:"Photo Widget"}],L={close:s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-[2px]",onClick:k,role:"dialog","aria-modal":"true","aria-labelledby":"share-target-modal-title",children:s.jsxs("div",{className:`relative w-full max-w-md m-4 p-6 rounded-lg shadow-2xl ${d==="dark"?"bg-nothing-darker text-nothing-light":"bg-white text-day-text"} animate-fade-in`,onClick:re=>re.stopPropagation(),children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h2",{id:"share-target-modal-title",className:"text-xl font-bold",children:"Send image to..."})}),s.jsx("button",{onClick:k,className:`absolute top-3 right-3 p-2 rounded-full ${d==="dark"?"hover:bg-nothing-gray-dark":"hover:bg-day-gray-light"}`,"aria-label":"Close share dialog",children:L.close}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Z.map(({key:re,label:q})=>s.jsx("button",{onClick:()=>E(re),className:`p-4 text-center font-semibold rounded-md transition-colors duration-200 ${d==="dark"?"bg-nothing-gray-dark hover:bg-gray-700":"bg-day-gray-light hover:bg-gray-300"}`,children:q},re))})]})})},oa=1176,su=50,$l=50,H0="#000000",eg={resolution:$l,exposure:$l,contrast:$l,pixelGap:$l,isCircular:!1,isTransparent:!1,isAntiAliased:!1,isGlowEnabled:!1,glowIntensity:$l,cropOffsetX:.5,cropOffsetY:.5},ru=(r,k)=>{const{width:v,height:d,isTransparent:E,gridColors:Z,matrixMask:L,diameter:re,calculatedPixelGap:q,isCircular:_,padding:z,isGlowEnabled:F,glowIntensity:$}=k;E?r.clearRect(0,0,v,d):(r.fillStyle=H0,r.fillRect(0,0,v,d));const pe=v-z*2;if(pe<=0)return;const P=(re-1)*q,ne=(pe-P)/re;ne<=0||Z.forEach(($e,ge)=>{$e.forEach((x,xe)=>{var se;const A=((se=L[ge])==null?void 0:se[xe])??0;if(x&&A>0){const we=z+xe*(ne+q),V=z+ge*(ne+q),he=ne*Math.pow(A,.35),De=(ne-he)/2;if(r.fillStyle=x,_?(r.beginPath(),r.arc(we+ne/2,V+ne/2,he/2,0,2*Math.PI),r.fill()):r.fillRect(we+De,V+De,he,he),F&&$>0){const Oe=parseInt(x.substring(4,x.indexOf(",")));if(Oe>30){r.save(),r.globalCompositeOperation="lighter";const ze=$/100,Be=he*(1+ze*1.5),Te=(ne-Be)/2,Ee=Math.pow(Oe/255,2)*ze*.5;r.fillStyle=`rgba(${Oe}, ${Oe}, ${Oe}, ${Ee})`,_?(r.beginPath(),r.arc(we+ne/2,V+ne/2,Be/2,0,2*Math.PI),r.fill()):r.fillRect(we+Te,V+Te,Be,Be),r.restore()}}}})})},L0=({theme:r,isMobile:k,footerLinks:v,triggerShareToast:d,handleShare:E})=>{const{state:Z,setState:L,undo:re,redo:q,reset:_,canUndo:z,canRedo:F}=zi(eg),[$,pe]=g.useState(Z),P=g.useRef(null),Re=g.useRef(null),[ne,$e]=g.useState([]),{resolution:ge,exposure:x,contrast:xe,pixelGap:A,isCircular:se,isTransparent:we,isAntiAliased:V,isGlowEnabled:he,glowIntensity:De,cropOffsetX:Oe,cropOffsetY:ze}=$,{imageSrc:Be,image:Te,isLoading:Ee,isDownloading:b,handleFileSelect:B,handleDownload:ce,clearImage:He}=Ui({featureName:"pfp",onFileSelectCallback:_,triggerShareToast:d}),[c,M]=g.useState(!1),J=g.useRef(null);g.useEffect(()=>{if(!c)return;const G=I=>{J.current&&!J.current.contains(I.target)&&M(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[c]),g.useEffect(()=>{pe(Z)},[Z]);const R=g.useMemo(()=>Math.floor((.32*ge+9)/2)*2+1,[ge]),T=g.useMemo(()=>R/2,[R]),ee=g.useMemo(()=>T-.5,[T]),K=g.useMemo(()=>Te?Math.abs(Te.width/Te.height-1)>.01:!1,[Te]),ke=g.useMemo(()=>(x-50)*2,[x]),Ae=g.useMemo(()=>xe<=50?xe/50:1+(xe-50)/50*2,[xe]),me=g.useMemo(()=>A/100*27.6,[A]),be=g.useMemo(()=>{const G=Array(R).fill(0).map(()=>Array(R).fill(0)),I=(Ge,st)=>Math.sqrt(Math.pow(Ge-ee,2)+Math.pow(st-ee,2))<=T;if(!V){for(let Ge=0;Ge<R;Ge++)for(let st=0;st<R;st++)G[Ge][st]=I(st,Ge)?1:0;return G}const ve=5,We=1/ve,Me=ve*ve;for(let Ge=0;Ge<R;Ge++)for(let st=0;st<R;st++)if(I(st,Ge))G[Ge][st]=1;else if(Math.sqrt(Math.pow(st-ee,2)+Math.pow(Ge-ee,2))<T+1.5){let mt=0;for(let Ie=0;Ie<ve;Ie++)for(let qe=0;qe<ve;qe++){const nt=st-.5+We*(qe+.5)-ee,D=Ge-.5+We*(Ie+.5)-ee;Math.sqrt(nt*nt+D*D)<=T&&mt++}mt>0&&(G[Ge][st]=mt/Me)}return G},[R,ee,T,V]),W=g.useCallback(()=>be.map(G=>G.map(I=>I>0?107:null)),[be]);g.useEffect(()=>{(()=>{if(Te){const I=document.createElement("canvas");I.width=R,I.height=R;const ve=I.getContext("2d",{willReadFrequently:!0});if(!ve)return;ve.imageSmoothingEnabled=!1;const We=Te.width/Te.height;let Me=0,Ge=0,st=Te.width,mt=Te.height;We>1?(st=Te.height,Me=(Te.width-st)*Oe):We<1&&(mt=Te.width,Ge=(Te.height-mt)*ze),ve.drawImage(Te,Me,Ge,st,mt,0,0,R,R);const Ie=ve.getImageData(0,0,R,R).data,qe=Array.from({length:R},(nt,D)=>Array.from({length:R},(de,ft)=>{var Ct;if(((Ct=be[D])==null?void 0:Ct[ft])>0){const Ht=(D*R+ft)*4;return Math.round(.299*Ie[Ht]+.587*Ie[Ht+1]+.114*Ie[Ht+2])}return null}));$e(qe)}else $e(W())})()},[R,be,Te,Oe,ze,W]);const Q=g.useMemo(()=>ne.map(G=>G.map(I=>{if(I===null)return null;const ve=typeof I=="number"?I:I.r*.299+I.g*.587+I.b*.114;let We=Be?((ve/255-.5)*Ae+.5)*255+ke:ve;const Me=Math.round(Math.max(0,Math.min(255,We)));return`rgb(${Me}, ${Me}, ${Me})`})),[ne,ke,Ae,Be]);g.useEffect(()=>{const G=P.current;if(!G)return;const I=G.getContext("2d");if(!I||!Q||Q.length!==R||be.length!==R)return;ru(I,{width:oa,height:oa,isTransparent:we,gridColors:Q,matrixMask:be,diameter:R,calculatedPixelGap:me,isCircular:se,padding:su,isGlowEnabled:he,glowIntensity:De});const ve=Re.current;if(!ve)return;const We=ve.getContext("2d");if(!We)return;We.clearRect(0,0,ve.width,ve.height),we&&(We.fillStyle=r==="dark"?"#14151f":"#efefef",We.fillRect(0,0,ve.width,ve.height)),We.save(),We.beginPath(),We.arc(ve.width/2,ve.height/2,ve.width/2,0,Math.PI*2),We.clip();const Me=ve.width/oa,Ge=su*Me,st=me*Me;ru(We,{width:ve.width,height:ve.height,isTransparent:we,gridColors:Q,matrixMask:be,diameter:R,calculatedPixelGap:st,isCircular:se,padding:Ge,isGlowEnabled:he,glowIntensity:De}),We.restore()},[Q,me,R,se,be,we,r,he,De]);const ye=g.useCallback(()=>new Promise(G=>{try{const I=document.createElement("canvas");I.width=oa,I.height=oa;const ve=I.getContext("2d");if(!ve)throw new Error("Failed to get canvas context for download.");ru(ve,{width:oa,height:oa,isTransparent:$.isTransparent,gridColors:Q,matrixMask:be,diameter:R,calculatedPixelGap:me,isCircular:$.isCircular,padding:su,isGlowEnabled:$.isGlowEnabled,glowIntensity:$.glowIntensity}),I.toBlob(We=>G(We),"image/png")}catch(I){console.error("Error creating PFP blob:",I),G(null)}}),[$,Q,be,R,me]),Ne=()=>{const G={feature:"pfp",setting_resolution:$.resolution,setting_exposure:$.exposure,setting_contrast:$.contrast,setting_pixel_gap:$.pixelGap,setting_is_circular:$.isCircular,setting_is_transparent:$.isTransparent,setting_is_anti_aliased:$.isAntiAliased,setting_is_glow_enabled:$.isGlowEnabled,setting_glow_intensity:$.glowIntensity};ce(ye,"matrices-glyphmirror",G)},fe=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),Ue=g.useCallback(G=>{if(!K)return;G.preventDefault(),fe.current.isDragging=!0,fe.current.hasMoved=!1;const I="touches"in G?G.touches[0]:G;fe.current.startX=I.clientX,fe.current.startY=I.clientY,fe.current.initialOffsetX=$.cropOffsetX,fe.current.initialOffsetY=$.cropOffsetY,document.body.style.cursor="grabbing"},[K,$.cropOffsetX,$.cropOffsetY]),Se=g.useCallback(G=>{if(!fe.current.isDragging||!Te)return;fe.current.hasMoved=!0;const I="touches"in G?G.touches[0]:G;let ve=I.clientX-fe.current.startX,We=I.clientY-fe.current.startY;const Me=P.current;if(!Me)return;const Ge=Me.getBoundingClientRect();if(Ge.width<=0||Ge.height<=0)return;const st=Te.width/Te.height;let mt=fe.current.initialOffsetX,Ie=fe.current.initialOffsetY;if(st>1){const qe=Te.height,nt=Te.width-qe;if(nt>0){const D=ve/Ge.width;mt=fe.current.initialOffsetX-D*(qe/nt)}}else if(st<1){const qe=Te.width,nt=Te.height-qe;if(nt>0){const D=We/Ge.height;Ie=fe.current.initialOffsetY-D*(qe/nt)}}pe(qe=>({...qe,cropOffsetX:Math.max(0,Math.min(1,mt)),cropOffsetY:Math.max(0,Math.min(1,Ie))}))},[Te]),je=g.useCallback(()=>{if(fe.current.isDragging){fe.current.isDragging=!1,fe.current.hasMoved&&H("pfp_crop");const{cropOffsetX:G,cropOffsetY:I}=$;L(ve=>({...ve,cropOffsetX:G,cropOffsetY:I})),document.body.style.cursor="default"}},[$,L]),Le=g.useCallback(()=>{H("pfp_reset_defaults"),L(G=>({...eg,cropOffsetX:G.cropOffsetX,cropOffsetY:G.cropOffsetY}))},[L]);g.useEffect(()=>{const G=ve=>Se(ve),I=()=>je();return document.addEventListener("mousemove",G),document.addEventListener("mouseup",I),document.addEventListener("touchmove",G),document.addEventListener("touchend",I),document.addEventListener("touchcancel",I),()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",I),document.removeEventListener("touchmove",G),document.removeEventListener("touchend",I),document.removeEventListener("touchcancel",I)}},[Se,je]);const Ve=g.useMemo(()=>{const G=be.flat().reduce((I,ve)=>I+ve,0);return V?G.toFixed(2):G},[be,V]),ae=Be?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[s.jsx(Wa,{onUndo:()=>{re(),H("pfp_undo")},onRedo:()=>{q(),H("pfp_redo")},canUndo:z,canRedo:F,theme:r}),s.jsxs("div",{className:"relative",ref:J,children:[s.jsx("button",{onClick:()=>{M(G=>!G),H("pfp_info_tooltip_toggle")},className:`flex items-center justify-center p-2.5 text-sm font-semibold transition-colors duration-200 rounded-md ${r==="dark"?"bg-gray-700 text-nothing-light hover:bg-gray-600":"bg-gray-200 text-day-text hover:bg-gray-300"}`,"aria-label":"Show info about recommended defaults",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),c&&s.jsxs("div",{role:"tooltip",className:`absolute z-10 w-max px-3 py-1.5 text-xs font-medium rounded-md shadow-lg pointer-events-none ${r==="dark"?"bg-nothing-light text-nothing-dark":"bg-day-text text-day-bg"} ${k?"bottom-full left-1/2 -translate-x-1/2 mb-2":"left-full top-1/2 -translate-y-1/2 ml-2"}`,children:[" = Recommended defaults",s.jsx("div",{className:`absolute w-0 h-0 ${k?`top-full left-1/2 -translate-x-1/2 border-x-4 border-x-transparent border-t-4 ${r==="dark"?"border-t-nothing-light":"border-t-day-text"}`:`top-1/2 -translate-y-1/2 right-full border-y-4 border-y-transparent border-r-4 ${r==="dark"?"border-r-nothing-light":"border-r-day-text"}`}`})]})]})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(yt,{theme:r,isMobile:k,label:"Exposure",value:x,onChange:G=>pe(I=>({...I,exposure:G})),onChangeCommitted:G=>{L(I=>({...I,exposure:G})),H("pfp_slider_change",{slider_name:"exposure",value:G})},onReset:()=>L(G=>({...G,exposure:$l})),disabled:!Be||Ee}),s.jsx(yt,{theme:r,isMobile:k,label:"Contrast",value:xe,onChange:G=>pe(I=>({...I,contrast:G})),onChangeCommitted:G=>{L(I=>({...I,contrast:G})),H("pfp_slider_change",{slider_name:"contrast",value:G})},onReset:()=>L(G=>({...G,contrast:$l})),disabled:!Be||Ee}),s.jsx(yt,{theme:r,isMobile:k,label:"Resolution",labelPrefix:s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mr-1",children:""})," "]}),value:ge,onChange:G=>pe(I=>({...I,resolution:G})),onChangeCommitted:G=>{L(I=>({...I,resolution:G})),H("pfp_slider_change",{slider_name:"resolution",value:G})},onReset:()=>L(G=>({...G,resolution:$l})),disabled:Ee}),s.jsx(yt,{theme:r,isMobile:k,label:"Pixel Gap",labelPrefix:s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mr-1",children:""})," "]}),value:A,onChange:G=>pe(I=>({...I,pixelGap:G})),onChangeCommitted:G=>{L(I=>({...I,pixelGap:G})),H("pfp_slider_change",{slider_name:"pixel_gap",value:G})},onReset:()=>L(G=>({...G,pixelGap:$l})),disabled:Ee})]}),s.jsxs("div",{className:`p-4 rounded-lg ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"glow-toggle",className:"text-sm",children:"Glow Effect"}),s.jsx("button",{id:"glow-toggle",role:"switch","aria-checked":he,onClick:()=>{L(G=>({...G,isGlowEnabled:!G.isGlowEnabled})),H("pfp_toggle_change",{setting:"glow_effect",enabled:!Z.isGlowEnabled})},disabled:Ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${he?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${he?"translate-x-6":"translate-x-1"}`})})]}),s.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${he?"max-h-48 opacity-100 pt-4":"max-h-0 opacity-0"}`,children:s.jsx(yt,{theme:r,isMobile:k,label:"Glow Intensity",value:De,onChange:G=>pe(I=>({...I,glowIntensity:G})),onChangeCommitted:G=>{L(I=>({...I,glowIntensity:G})),H("pfp_slider_change",{slider_name:"glow_intensity",value:G})},onReset:()=>L(G=>({...G,glowIntensity:$l})),disabled:Ee||!he})})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"circular-toggle",className:"text-sm",children:"Circular Pixels"}),s.jsx("button",{id:"circular-toggle",role:"switch","aria-checked":se,onClick:()=>{L(G=>({...G,isCircular:!G.isCircular})),H("pfp_toggle_change",{setting:"circular_pixels",enabled:!Z.isCircular})},disabled:Ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${se?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${se?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"aa-toggle",className:"text-sm",children:"Anti-aliasing"}),s.jsx("button",{id:"aa-toggle",role:"switch","aria-checked":V,onClick:()=>{L(G=>({...G,isAntiAliased:!G.isAntiAliased})),H("pfp_toggle_change",{setting:"anti_aliasing",enabled:!Z.isAntiAliased})},disabled:Ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} disabled:opacity-50 ${V?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${V?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"transparent-toggle",className:"text-sm",children:"Transparent Output"}),s.jsx("button",{id:"transparent-toggle",role:"switch","aria-checked":we,onClick:()=>{L(G=>({...G,isTransparent:!G.isTransparent})),H("pfp_toggle_change",{setting:"transparent_output",enabled:!Z.isTransparent})},disabled:Ee,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${we?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${we?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:He,disabled:Ee,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:Le,disabled:Ee,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset all controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:v})})]}):null;return{previewPanel:Be?s.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("header",{className:"text-center mb-4",children:s.jsxs("p",{className:`${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} text-sm md:text-base`,children:["Diameter: ",s.jsxs("span",{className:`font-semibold ${r==="dark"?"text-nothing-light":"text-day-text"}`,children:[R,"px"]})," | Pixels: ",s.jsx("span",{className:`font-semibold ${r==="dark"?"text-nothing-light":"text-day-text"}`,children:Ve})]})}),s.jsx("div",{children:s.jsx("canvas",{ref:P,width:oa,height:oa,className:"w-full h-auto rounded-lg","aria-label":"Pixel Matrix Canvas",onMouseDown:Ue,onTouchStart:Ue,style:{cursor:K?"grab":"default",touchAction:K?"none":"auto"}})}),s.jsxs("div",{className:"flex flex-col items-center my-6",children:[s.jsx("p",{className:`text-sm ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} mb-2 text-center`,children:"Profile Picture Preview"}),s.jsx("canvas",{ref:Re,width:75,height:75,className:"rounded-full","aria-label":"Profile Picture Preview"})]})]}),s.jsx("button",{onClick:()=>E(),className:`absolute bottom-3 right-3 z-10 p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})})]}):s.jsx(Ql,{onFileSelect:B,isLoading:Ee,theme:r,context:"pfp",isMobile:k}),controlsPanel:ae,imageSrc:Be,isLoading:Ee,handleFileSelect:B,handleDownload:Ne,downloadButton:s.jsx("button",{onClick:Ne,disabled:Ee||b,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current image",children:" Download "}),replaceButton:s.jsx(Ql,{onFileSelect:B,isLoading:Ee,compact:!0,theme:r,isMobile:k}),getCanvasBlob:ye,undo:re,redo:q,canUndo:z,canRedo:F}};var zn=pg();const bg={black:{color:"#000000",name:"Black BG"},white:{color:"#FFFFFF",name:"White BG"}},On=50,G0=1260,Y0=2800,X0=3840,q0=2160,V0=.0423936,$0=71.8848,tg={resolution:On,pixelGap:On,background:"black",cropOffsetX:.5,cropOffsetY:.5,isMonochrome:!1},lg={phone:{...tg},desktop:{...tg}},Q0=({theme:r,isMobile:k,footerLinks:v,triggerShareToast:d,handleShare:E,showSharePopup:Z,setShowSharePopup:L,communityLink:re,appUrl:q,shareVariant:_})=>{const{state:z,setState:F,undo:$,redo:pe,reset:P,canUndo:Re,canRedo:ne}=zi(lg),[$e,ge]=g.useState(z),[x,xe]=g.useState(k?"phone":"desktop"),[A,se]=g.useState(!1),[we,V]=g.useState(!1),he=g.useRef(null),De=g.useRef(null),Oe=g.useRef(null),ze=g.useRef(null),[Be,Te]=g.useState(!1),{imageSrc:Ee,image:b,isLoading:B,isDownloading:ce,handleFileSelect:He,handleDownload:c,clearImage:M}=Ui({featureName:"wallpaper",onFileSelectCallback:P,triggerShareToast:d});g.useEffect(()=>{ge(z)},[z]);const J=$e[x],{resolution:R,pixelGap:T,background:ee,cropOffsetX:K,cropOffsetY:ke,isMonochrome:Ae}=J;g.useEffect(()=>{const D=()=>{document.fullscreenElement||(se(!1),Te(!1))};return document.addEventListener("fullscreenchange",D),()=>document.removeEventListener("fullscreenchange",D)},[]);const me=()=>{H("wallpaper_fullscreen_enter"),zn.flushSync(()=>{se(!0)}),Oe.current&&Oe.current.requestFullscreen().catch(D=>{console.error(`Error attempting to enable full-screen mode: ${D.message} (${D.name})`),se(!1)})},be=g.useCallback(()=>{H("wallpaper_fullscreen_exit"),document.fullscreenElement?document.exitFullscreen():se(!1)},[]),W=g.useCallback(()=>{H("wallpaper_reset_defaults",{wallpaper_type:x}),F(D=>{const{cropOffsetX:de,cropOffsetY:ft,background:Ct}=D[x];return{...D,[x]:{...lg[x],cropOffsetX:de,cropOffsetY:ft,background:Ct}}})},[x,F]),[Q,ye]=g.useMemo(()=>x==="desktop"?[X0,q0]:[G0,Y0],[x]),Ne=g.useMemo(()=>Math.floor(10+(x==="desktop"?R*4:R*1.2)/100*$0),[R,x]),fe=g.useMemo(()=>Math.round(Ne*(ye/Q)),[Ne,Q,ye]),Ue=g.useMemo(()=>T*V0,[T]),Se=g.useMemo(()=>b?Math.abs(b.width/b.height-Q/ye)>.01:!1,[b,Q,ye]);g.useEffect(()=>{var it;const D=A?De.current:he.current;if(!D)return;const de=D.getContext("2d");if(!de||(de.fillStyle=((it=bg[ee])==null?void 0:it.color)||"#000000",de.fillRect(0,0,Q,ye),!b))return;const ft=b.width/b.height,Ct=Q/ye;let Ht=0,Lt=0,Xt=b.width,qt=b.height;ft>Ct?(Xt=b.height*Ct,Ht=(b.width-Xt)*K):ft<Ct&&(qt=b.width/Ct,Lt=(b.height-qt)*ke);const N=document.createElement("canvas");N.width=Ne,N.height=fe;const ie=N.getContext("2d",{willReadFrequently:!0});if(!ie)return;ie.imageSmoothingEnabled=!1,ie.drawImage(b,Ht,Lt,Xt,qt,0,0,Ne,fe);const w=ie.getImageData(0,0,Ne,fe).data,ue=(Ne-1)*Ue,_e=(fe-1)*Ue,Ye=(Q-ue)/Ne,rt=(ye-_e)/fe;for(let ht=0;ht<fe;ht++)for(let jt=0;jt<Ne;jt++){const zt=(ht*Ne+jt)*4,Vt=w[zt],El=w[zt+1],gl=w[zt+2];if(Ae){const Y=Math.round(.299*Vt+.587*El+.114*gl);de.fillStyle=`rgb(${Y}, ${Y}, ${Y})`}else de.fillStyle=`rgb(${Vt}, ${El}, ${gl})`;const al=jt*(Ye+Ue),hl=ht*(rt+Ue),p=Math.min(Ye,rt)/2;if(p>0){de.beginPath();const Y=al+Ye/2,le=hl+rt/2;de.arc(Y,le,p,0,2*Math.PI),de.fill()}}},[b,Ne,fe,Ue,ee,Q,ye,K,ke,A,Ae]);const je=g.useCallback(()=>new Promise(D=>{const de=A?De.current:he.current;de?de.toBlob(ft=>D(ft),"image/png"):D(null)}),[A]),Le=D=>{H("wallpaper_fullscreen_replace_image",{wallpaper_type:x}),He(D,"click")},Ve=()=>{var D;H("wallpaper_fullscreen_replace_image_click",{wallpaper_type:x}),(D=ze.current)==null||D.click()},ae=D=>{D.target.files&&D.target.files[0]&&Le(D.target.files[0]),D.target&&(D.target.value="")},te=()=>{const D={feature:"wallpaper",wallpaper_type:x,setting_resolution:J.resolution,setting_pixel_gap:J.pixelGap,setting_background:J.background,setting_crop_offset_x:J.cropOffsetX,setting_crop_offset_y:J.cropOffsetY,setting_is_monochrome:J.isMonochrome};c(je,"matrices-wallpaper",D,()=>{A?d(()=>V(!0)):d()})},oe=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),ut=g.useCallback(D=>{if(!Se)return;D.preventDefault(),oe.current.isDragging=!0,oe.current.hasMoved=!1;const de="touches"in D?D.touches[0]:D;oe.current.startX=de.clientX,oe.current.startY=de.clientY,oe.current.initialOffsetX=$e[x].cropOffsetX,oe.current.initialOffsetY=$e[x].cropOffsetY,document.body.style.cursor="grabbing"},[Se,$e,x]),G=g.useCallback(D=>{if(!oe.current.isDragging||!b)return;oe.current.hasMoved=!0;const de="touches"in D?D.touches[0]:D;let ft=de.clientX-oe.current.startX,Ct=de.clientY-oe.current.startY;const Ht=A?De.current:he.current;if(Ht){const ue=Ht.getBoundingClientRect();if(ue.width>0&&ue.height>0){const _e=Q/ue.width,Ye=ye/ue.height;ft*=_e,Ct*=Ye}}const Lt=b.width/b.height,Xt=Q/ye;let qt=0,N=0;Lt>Xt?qt=ye*Lt-Q:Lt<Xt&&(N=Q/Lt-ye);let ie=qt>0?oe.current.initialOffsetX-ft/qt:oe.current.initialOffsetX,w=N>0?oe.current.initialOffsetY-Ct/N:oe.current.initialOffsetY;ge(ue=>({...ue,[x]:{...ue[x],cropOffsetX:Math.max(0,Math.min(1,ie)),cropOffsetY:Math.max(0,Math.min(1,w))}}))},[b,Q,ye,x,A]),I=g.useCallback(()=>{if(oe.current.isDragging){oe.current.isDragging=!1,oe.current.hasMoved&&H("wallpaper_crop",{wallpaper_type:x});const{cropOffsetX:D,cropOffsetY:de}=$e[x];F(ft=>({...ft,[x]:{...ft[x],cropOffsetX:D,cropOffsetY:de}})),document.body.style.cursor="default"}},[$e,x,F]);g.useEffect(()=>{const D=ft=>G(ft),de=()=>I();return document.addEventListener("mousemove",D),document.addEventListener("mouseup",de),document.addEventListener("touchmove",D),document.addEventListener("touchend",de),document.addEventListener("touchcancel",de),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",de),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",de),document.removeEventListener("touchcancel",de)}},[G,I]);const ve=D=>{H("wallpaper_type_select",{type:D}),xe(D)},We=D=>{H("wallpaper_bg_change",{color:D,wallpaper_type:x}),F(de=>({...de,[x]:{...de[x],background:D}}))},Me=()=>{H("wallpaper_toggle_change",{setting:"monochrome",enabled:!J.isMonochrome,wallpaper_type:x}),F(D=>({...D,[x]:{...D[x],isMonochrome:!D[x].isMonochrome}}))},Ge=[{key:"phone",label:"Phone"},{key:"desktop",label:"Desktop"}],st=[{key:"white",label:"White BG"},{key:"black",label:"Black BG"}],mt=Ee?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-2 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(fl,{options:Ge,selected:x,onSelect:ve,theme:r}),s.jsx(fl,{options:st,selected:J.background,onSelect:D=>We(D),theme:r})]}),s.jsx(Wa,{onUndo:()=>{$(),H("wallpaper_undo")},onRedo:()=>{pe(),H("wallpaper_redo")},canUndo:Re,canRedo:ne,theme:r}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(yt,{theme:r,isMobile:k,label:"Resolution",value:R,onChange:D=>ge(de=>({...de,[x]:{...de[x],resolution:D}})),onChangeCommitted:D=>{F(de=>({...de,[x]:{...de[x],resolution:D}})),H("wallpaper_slider_change",{slider_name:"resolution",value:D,wallpaper_type:x})},onReset:()=>F(D=>({...D,[x]:{...D[x],resolution:On}})),disabled:B}),s.jsx(yt,{theme:r,isMobile:k,label:"Pixel Gap",value:T,onChange:D=>ge(de=>({...de,[x]:{...de[x],pixelGap:D}})),onChangeCommitted:D=>{F(de=>({...de,[x]:{...de[x],pixelGap:D}})),H("wallpaper_slider_change",{slider_name:"pixel_gap",value:D,wallpaper_type:x})},onReset:()=>F(D=>({...D,[x]:{...D[x],pixelGap:On}})),disabled:B})]}),s.jsx("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"monochrome-toggle",className:"text-sm",children:"Monochrome"}),s.jsx("button",{id:"monochrome-toggle",role:"switch","aria-checked":Ae,onClick:Me,disabled:B,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Ae?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Ae?"translate-x-6":"translate-x-1"}`})})]})}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:M,disabled:B,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:W,disabled:B,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset wallpaper controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:v})})]}):null;return{previewPanel:Ee?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:ze,onChange:ae,className:"hidden",accept:"image/*"}),s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[s.jsx("canvas",{ref:he,width:Q,height:ye,className:`border-2 rounded-lg ${r==="dark"?"border-nothing-gray-dark":"border-gray-300"} ${x==="phone"?k?"w-4/5 h-auto":"max-h-full w-auto":"max-w-full max-h-full"}`,"aria-label":"Wallpaper Canvas",onMouseDown:ut,onTouchStart:ut,style:{cursor:Se?"grab":"default",touchAction:Se?"none":"auto"}}),s.jsxs("div",{className:"absolute bottom-3 right-3 z-10 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:me,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Enter full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]}),A&&zn.createPortal(s.jsxs("div",{ref:Oe,className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onMouseDown:D=>{D.target===D.currentTarget&&(oe.current.hasMoved=!1)},onClick:D=>{D.target===D.currentTarget&&!oe.current.hasMoved&&(Be?Te(!1):be())},children:[s.jsx("canvas",{ref:De,width:Q,height:ye,className:"max-w-full max-h-full","aria-label":"Full-screen Wallpaper Canvas Preview",onMouseDown:ut,onTouchStart:ut,style:{cursor:Se?"grab":"default",touchAction:Se?"none":"auto"}}),Se&&s.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-2 py-1 rounded-md text-sm ${r==="dark"?"bg-nothing-dark/90 text-nothing-light":"bg-day-gray-light/90 text-day-text"} backdrop-blur-sm pointer-events-none`,children:" Drag to Crop"}),!k&&s.jsxs("div",{className:"fixed bottom-4 left-4 z-[51] w-80 flex flex-col items-start space-y-2",children:[s.jsx("div",{className:"w-full",children:Be?s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-4 max-h-[calc(100vh-10rem)] flex flex-col space-y-4 shadow-2xl`,children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h3",{className:`font-bold text-lg ${r==="dark"?"text-white":"text-day-text"}`,children:"Controls"}),s.jsx("button",{onClick:()=>{Te(!1),H("wallpaper_fullscreen_controls_toggle",{open:!1})},className:`p-2 ${r==="dark"?"text-white hover:bg-white/20":"text-day-text hover:bg-black/10"} rounded-full transition-colors`,"aria-label":"Collapse controls",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]}),s.jsxs("div",{className:"overflow-y-auto space-y-4 pr-2 -mr-2",children:[s.jsxs("div",{className:`p-3 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"} space-y-2`,children:[s.jsx(fl,{options:Ge,selected:x,onSelect:ve,theme:r}),s.jsx(fl,{options:st,selected:J.background,onSelect:D=>We(D),theme:r})]}),s.jsx(Wa,{onUndo:()=>{$(),H("wallpaper_undo")},onRedo:()=>{pe(),H("wallpaper_redo")},canUndo:Re,canRedo:ne,theme:r}),s.jsxs("div",{className:`p-3 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:[s.jsx(yt,{theme:r,isMobile:k,label:"Resolution",value:R,onChange:D=>ge(de=>({...de,[x]:{...de[x],resolution:D}})),onChangeCommitted:D=>{F(de=>({...de,[x]:{...de[x],resolution:D}})),H("wallpaper_slider_change",{slider_name:"resolution",value:D,wallpaper_type:x})},onReset:()=>F(D=>({...D,[x]:{...D[x],resolution:On}})),disabled:B}),s.jsx(yt,{theme:r,isMobile:k,label:"Pixel Gap",value:T,onChange:D=>ge(de=>({...de,[x]:{...de[x],pixelGap:D}})),onChangeCommitted:D=>{F(de=>({...de,[x]:{...de[x],pixelGap:D}})),H("wallpaper_slider_change",{slider_name:"pixel_gap",value:D,wallpaper_type:x})},onReset:()=>F(D=>({...D,[x]:{...D[x],pixelGap:On}})),disabled:B})]}),s.jsx("div",{className:`p-3 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"monochrome-toggle-fs",className:"text-sm",children:"Monochrome"}),s.jsx("button",{id:"monochrome-toggle-fs",role:"switch","aria-checked":Ae,onClick:Me,disabled:B,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Ae?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Ae?"translate-x-6":"translate-x-1"}`})})]})}),s.jsx("div",{children:s.jsx("button",{onClick:W,disabled:B,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset wallpaper controls to their default values",children:" Reset Controls "})})]})]}):s.jsxs("button",{onClick:()=>{Te(!0),H("wallpaper_fullscreen_controls_toggle",{open:!0})},className:`w-full ${r==="dark"?"bg-nothing-dark/80 text-white hover:bg-nothing-dark":"bg-day-bg/90 text-day-text hover:bg-day-gray-light border border-gray-300/50"} backdrop-blur-sm font-semibold py-3 px-4 rounded-lg flex items-center justify-between shadow-lg transition-colors`,"aria-label":"Expand controls",children:[s.jsx("span",{children:"Controls"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})})]})}),s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-2 flex flex-col items-stretch space-y-2 shadow-lg`,children:[s.jsx("button",{onClick:Ve,disabled:B,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Replace the current image",children:"Replace Image"}),s.jsx("button",{onClick:te,disabled:B||ce,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current wallpaper",children:"Download"})]})]}),s.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:be,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Exit full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})})})]}),s.jsx(Ja,{show:we,onClose:()=>V(!1),onShare:()=>{},theme:r,isMobile:!1,imageRendered:!!Ee,className:"z-[60] !bottom-24"}),s.jsx(Js,{show:Z,onClose:()=>L(!1),theme:r,communityLink:re,appUrl:q,variant:_})]}),document.body)]}):s.jsx(Ql,{onFileSelect:He,isLoading:B,theme:r,context:"wallpaper",isMobile:k}),controlsPanel:mt,imageSrc:Ee,isLoading:B,handleFileSelect:He,handleDownload:te,downloadButton:s.jsx("button",{onClick:te,disabled:B||ce,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current wallpaper",children:" Download "}),replaceButton:s.jsx(Ql,{onFileSelect:He,isLoading:B,compact:!0,theme:r,isMobile:k}),wallpaperType:x,getCanvasBlob:je,undo:$,redo:pe,canUndo:Re,canRedo:ne}},Vs=1176,$s=50,Zs=50,ag={transparent:{resolution:Zs,pixelGap:0,isCircular:!1,isAntiAliased:!1},dark:{resolution:Zs,pixelGap:0,isCircular:!0,isAntiAliased:!1},light:{resolution:Zs,pixelGap:0,isCircular:!0,isAntiAliased:!1}},ng=(r,k)=>{const{width:v,height:d,outputMode:E,matrix:Z,pixelGap:L,isCircular:re,isAntiAliased:q}=k;switch(E){case"transparent":r.clearRect(0,0,v,d);break;case"dark":r.fillStyle="#1b1b1b",r.fillRect(0,0,v,d);break;case"light":r.fillStyle="#f1f0f1",r.fillRect(0,0,v,d);break}if(!Z||Z.length===0||Z[0].length===0)return;const _=Z.length,z=Z[0].length,F=v-$s*2,$=d-$s*2,pe=z/_;let P,Re;F/pe<=$?(P=F,Re=F/pe):(Re=$,P=$*pe);const ne=$s+(F-P)/2,$e=$s+($-Re)/2,ge=P/z,x=Re/_,A=.28*(L*.84*5)/100*.2765,se=ge*(1-A),we=x*(1-A);for(let V=0;V<_;V++)for(let he=0;he<z;he++){const De=Z[V][he];if(De){const Oe=De.a/255;let ze=se,Be=we;if(q){const b=Math.sqrt(Oe);ze*=b,Be*=b}r.fillStyle=`rgb(${De.r}, ${De.g}, ${De.b})`;const Te=ne+he*ge,Ee=$e+V*x;if(re){const b=Math.min(ze,Be)/2;b>.1&&(r.beginPath(),r.arc(Te+ge/2,Ee+x/2,b,0,2*Math.PI),r.fill())}else if(ze>.1&&Be>.1){const b=Te+(ge-ze)/2,B=Ee+(x-Be)/2;r.fillRect(b,B,ze,Be)}}}},Z0=({theme:r,isMobile:k,footerLinks:v,triggerShareToast:d,handleShare:E})=>{const{state:Z,setState:L,undo:re,redo:q,reset:_,canUndo:z,canRedo:F}=zi(ag),[$,pe]=g.useState(Z),[P,Re]=g.useState("transparent"),[ne,$e]=g.useState("dark"),[ge,x]=g.useState(null),xe=g.useRef(null),A=$[P],{resolution:se,pixelGap:we,isCircular:V,isAntiAliased:he}=A,De=g.useCallback(()=>{_(),Re("transparent"),$e("dark")},[_]),{imageSrc:Oe,image:ze,isLoading:Be,isDownloading:Te,handleFileSelect:Ee,handleDownload:b,clearImage:B}=Ui({featureName:"photo_widget",onFileSelectCallback:De,triggerShareToast:d}),ce=g.useMemo(()=>Vs,[]),He=g.useMemo(()=>Vs,[]);g.useEffect(()=>{pe(Z)},[Z]),g.useEffect(()=>{if(!ze){x(null);return}const W=20+Math.floor(se*.6592/100*130),Q=document.createElement("canvas"),ye=Q.getContext("2d",{willReadFrequently:!0});if(!ye)return;const Ne=W,fe=Math.round(Ne*(ze.height/ze.width));Q.width=Ne,Q.height=fe,ye.imageSmoothingEnabled=!1,ye.drawImage(ze,0,0,Ne,fe);const Ue=ye.getImageData(0,0,Ne,fe).data,Se=Array.from({length:fe},(te,oe)=>Array.from({length:Ne},(ut,G)=>{const I=(oe*Ne+G)*4;if(Ue[I+3]<=10)return null;const ve=Ue[I],We=Ue[I+1],Me=Ue[I+2];return{r:Math.round(Math.max(0,Math.min(255,ve))),g:Math.round(Math.max(0,Math.min(255,We))),b:Math.round(Math.max(0,Math.min(255,Me))),a:Ue[I+3]}}));let je=Ne,Le=fe,Ve=-1,ae=-1;for(let te=0;te<fe;te++)for(let oe=0;oe<Ne;oe++)Se[te][oe]&&(oe<je&&(je=oe),oe>Ve&&(Ve=oe),te<Le&&(Le=te),te>ae&&(ae=te));if(Ve!==-1){const te=Ve-je+1,oe=ae-Le+1,ut=Array.from({length:oe},(G,I)=>Array.from({length:te},(ve,We)=>Se[I+Le][We+je]));x(ut)}else x(null)},[ze,se]),g.useEffect(()=>{const W=xe.current;if(!W||!ge)return;const Q=W.getContext("2d");Q&&ng(Q,{width:ce,height:He,outputMode:P,matrix:ge,pixelGap:we,isCircular:V,isAntiAliased:he})},[ge,we,V,he,P,ce,He]);const c=g.useCallback(()=>ge?new Promise(W=>{try{const Q=Vs,ye=Vs,Ne=document.createElement("canvas");Ne.width=Q,Ne.height=ye;const fe=Ne.getContext("2d");if(!fe)throw new Error("Failed to get canvas context for download.");ng(fe,{...Z[P],outputMode:P,width:Q,height:ye,matrix:ge}),Ne.toBlob(Ue=>W(Ue),"image/png")}catch(Q){console.error("Error creating Photo Widget blob:",Q),W(null)}}):Promise.resolve(null),[ge,P,Z]),M=()=>{const W={feature:"photo_widget",setting_output_mode:P,setting_resolution:A.resolution,setting_pixel_gap:A.pixelGap,setting_is_circular:A.isCircular,setting_is_anti_aliased:A.isAntiAliased};b(c,"matrices-photowidget",W)},J=g.useCallback(()=>{H("photo_widget_reset_defaults",{output_mode:P}),L(W=>({...W,[P]:ag[P]}))},[P,L]),R=W=>{const Q=W==="transparent"?"transparent":ne;H("photo_widget_output_mode_change",{mode:Q}),Re(Q)},T=W=>{H("photo_widget_fill_theme_change",{theme:W}),Re(W),$e(W)},ee=[{key:"transparent",label:"Transparent"},{key:"fill",label:"Fill"}],K=[{key:"light",label:"Light Fill"},{key:"dark",label:"Dark Fill"}],ke=Oe?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-2 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(fl,{options:ee,selected:P==="transparent"?"transparent":"fill",onSelect:R,theme:r}),P!=="transparent"&&s.jsx(fl,{options:K,selected:ne,onSelect:W=>T(W),theme:r})]}),s.jsx("div",{className:"flex justify-center items-center",children:s.jsx(Wa,{onUndo:()=>{re(),H("photo_widget_undo")},onRedo:()=>{q(),H("photo_widget_redo")},canUndo:z,canRedo:F,theme:r})}),s.jsxs("div",{className:`p-4 rounded-lg ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(yt,{theme:r,isMobile:k,label:"Resolution",value:se,onChange:W=>pe(Q=>({...Q,[P]:{...Q[P],resolution:W}})),onChangeCommitted:W=>{L(Q=>({...Q,[P]:{...Q[P],resolution:W}})),H("photo_widget_slider_change",{slider_name:"resolution",value:W,output_mode:P})},onReset:()=>L(W=>({...W,[P]:{...W[P],resolution:Zs}})),disabled:Be}),s.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${P!=="transparent"?"max-h-48 opacity-100 mt-4":"max-h-0 opacity-0"}`,children:s.jsx(yt,{theme:r,isMobile:k,label:"Pixel Gap",value:we,onChange:W=>pe(Q=>({...Q,[P]:{...Q[P],pixelGap:W}})),onChangeCommitted:W=>{L(Q=>({...Q,[P]:{...Q[P],pixelGap:W}})),H("photo_widget_slider_change",{slider_name:"pixel_gap",value:W,output_mode:P})},onReset:()=>L(W=>({...W,[P]:{...W[P],pixelGap:0}})),disabled:Be})})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pw-circular-toggle",className:"text-sm",children:"Circular Pixels"}),s.jsx("button",{id:"pw-circular-toggle",role:"switch","aria-checked":V,onClick:()=>{const W=!A.isCircular;L(Q=>({...Q,[P]:{...Q[P],isCircular:W}})),H("photo_widget_toggle_change",{setting:"circular_pixels",enabled:W,output_mode:P})},disabled:Be,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${V?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${V?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pw-aa-toggle",className:"text-sm",children:"Anti-aliasing"}),s.jsx("button",{id:"pw-aa-toggle",role:"switch","aria-checked":he,onClick:()=>{const W=!A.isAntiAliased;L(Q=>({...Q,[P]:{...Q[P],isAntiAliased:W}})),H("photo_widget_toggle_change",{setting:"anti_aliasing",enabled:W,output_mode:P})},disabled:Be,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} disabled:opacity-50 ${he?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${he?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:B,disabled:Be,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:J,disabled:Be,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset photo widget controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:v})})]}):null;return{previewPanel:Oe?s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsx("div",{className:"w-full max-w-2xl",children:s.jsx("canvas",{ref:xe,width:ce,height:He,className:"max-w-full max-h-full h-auto w-auto rounded-lg","aria-label":"Photo Widget Matrix Canvas",style:{aspectRatio:`${ce} / ${He}`}})}),s.jsx("button",{onClick:()=>E(),className:`absolute bottom-3 right-3 z-10 p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})})]}):s.jsx(Ql,{onFileSelect:Ee,isLoading:Be,theme:r,accept:"image/png, image/jpeg",context:"photoWidget",isMobile:k}),controlsPanel:ke,imageSrc:Oe,isLoading:Be,handleFileSelect:Ee,handleDownload:M,downloadButton:s.jsx("button",{onClick:M,disabled:Be||Te||!ge,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current widget",children:" Download "}),replaceButton:s.jsx(Ql,{onFileSelect:Ee,isLoading:Be,compact:!0,theme:r,accept:"image/png, image/jpeg",isMobile:k}),getCanvasBlob:c,undo:re,redo:q,canUndo:z,canRedo:F}},zl=50,K0=1260,J0=2800,ig=3840,sg=2160,W0=.0423936,F0=71.8848,ou=300,Mi={us_8x10:{label:"8 x 10 in",w:8,h:10,group:"US Standard"},"us_8.5x11":{label:"8.5 x 11 in",w:8.5,h:11,group:"US Standard"},us_11x14:{label:"11 x 14 in",w:11,h:14,group:"US Standard"},us_11x17:{label:"11 x 17 in",w:11,h:17,group:"US Standard"},us_12x16:{label:"12 x 16 in",w:12,h:16,group:"US Standard"},us_12x18:{label:"12 x 18 in",w:12,h:18,group:"US Standard"},us_16x20:{label:"16 x 20 in",w:16,h:20,group:"US Standard"},us_18x24:{label:"18 x 24 in",w:18,h:24,group:"US Standard"},us_20x30:{label:"20 x 30 in",w:20,h:30,group:"US Standard"},us_24x36:{label:"24 x 36 in",w:24,h:36,group:"US Standard"},us_27x40:{label:"27 x 40 in",w:27,h:40,group:"US Standard"},us_36x48:{label:"36 x 48 in",w:36,h:48,group:"US Standard"},iso_a5:{label:"A5",w:5.83,h:8.27,group:"ISO"},iso_a4:{label:"A4",w:8.27,h:11.69,group:"ISO"},iso_a3:{label:"A3",w:11.69,h:16.54,group:"ISO"},iso_a2:{label:"A2",w:16.54,h:23.39,group:"ISO"},iso_a1:{label:"A1",w:23.39,h:33.11,group:"ISO"},iso_a0:{label:"A0",w:33.11,h:46.81,group:"ISO"},original:{label:"Original Ratio",w:1,h:1,group:"Ratio",isRatio:!0},"ratio_1:1":{label:"1:1",w:12,h:12,group:"Ratio",isRatio:!0},"ratio_5:4":{label:"5:4",w:15,h:12,group:"Ratio",isRatio:!0},"ratio_4:3":{label:"4:3",w:16,h:12,group:"Ratio",isRatio:!0},"ratio_3:2":{label:"3:2",w:18,h:12,group:"Ratio",isRatio:!0},"ratio_16:9":{label:"16:9",w:21.33,h:12,group:"Ratio",isRatio:!0},"ratio_1.85:1":{label:"1.85:1",w:22.2,h:12,group:"Ratio",isRatio:!0},"ratio_2:1":{label:"2:1",w:24,h:12,group:"Ratio",isRatio:!0},"ratio_2.35:1":{label:"2.35:1",w:28.2,h:12,group:"Ratio",isRatio:!0},"ratio_21:9":{label:"21:9",w:28,h:12,group:"Ratio",isRatio:!0},"ratio_3:1":{label:"3:1",w:36,h:12,group:"Ratio",isRatio:!0}},rg=["US Standard","ISO","Ratio"],cu={resolution:zl,pixelGap:zl,background:"black",cropOffsetX:.5,cropOffsetY:.5,isMonochrome:!0,exposure:zl,contrast:zl,isPureValue:!1,isTransparent:!1,lowerLimit:0},P0={...cu,size:"original",orientation:"portrait"},Ri={outputType:"wallpaper",wallpaper:{phone:{...cu},desktop:{...cu}},print:P0},Qs={yellow:"#FCCA21",blue:"#1A5A8A",red:"#BD1721",grey:"#E0E0E0"},yg=[["yellow","blue","red"],["blue","yellow","red"],["red","yellow","blue"],["yellow","red","blue"],["blue","red","yellow"],["red","blue","yellow"]],I0=(r,k,v)=>{const d=r/255,E=k/255,Z=v/255,L=1-Math.max(d,E,Z);if(L===1)return[0,0,0,1];const re=(1-d-L)/(1-L),q=(1-E-L)/(1-L),_=(1-Z-L)/(1-L);return[re,q,_,L]},em=(r,k,v,d)=>{const E=255*(1-r)*(1-d),Z=255*(1-k)*(1-d),L=255*(1-v)*(1-d);return[Math.round(E),Math.round(Z),Math.round(L)]},Ks=(r,k,v)=>{const[d,E,Z,L]=I0(r,k,v);return em(d,E,Z,L)},tm=(r,k,v,d,E)=>{const Z=yg[d];if(!Z)return;const L=$=>{if(!E)return $;const pe=parseInt($.slice(1,3),16),P=parseInt($.slice(3,5),16),Re=parseInt($.slice(5,7),16),[ne,$e,ge]=Ks(pe,P,Re);return`rgb(${ne}, ${$e}, ${ge})`},re=L(Qs[Z[0]]),q=L(Qs[Z[1]]),_=L(Qs[Z[2]]),z=.809,F=.5;r.fillStyle=L(Qs.grey),r.fillRect(0,0,k,v),r.fillStyle=re,r.fillRect(0,0,z*k,z*v),r.fillStyle=q,r.fillRect(z*k,0,(1-z)*k,F*v),r.fillStyle=_,r.fillRect(0,z*v,F*k,(1-z)*v)},og=(r,k)=>{var K;const{canvasWidth:v,canvasHeight:d,image:E,settings:Z}=k,{outputType:L,valueAliasingType:re,isEasterEggActive:q,activePermutationIndex:_,resolution:z,pixelGap:F,background:$,cropOffsetX:pe,cropOffsetY:P,isMonochrome:Re,exposure:ne,contrast:$e,isPureValue:ge,isTransparent:x,lowerLimit:xe}=Z,A=L==="print";if(q&&_!==null)tm(r,v,d,_,A);else if(x)r.clearRect(0,0,v,d);else{const ke=((K=bg[$])==null?void 0:K.color)||"#000000";if(A){const Ae=parseInt(ke.slice(1,3),16),me=parseInt(ke.slice(3,5),16),be=parseInt(ke.slice(5,7),16),[W,Q,ye]=Ks(Ae,me,be);r.fillStyle=`rgb(${W}, ${Q}, ${ye})`}else r.fillStyle=ke;r.fillRect(0,0,v,d)}const se=Math.floor(10+(L==="print"||re==="desktop"?z*4:z*1.2)/100*F0),we=Math.round(se*(d/v)),V=E.width/E.height,he=v/d;let De=0,Oe=0,ze=E.width,Be=E.height;V>he?(ze=E.height*he,De=(E.width-ze)*pe):V<he&&(Be=E.width/he,Oe=(E.height-Be)*P);const Te=document.createElement("canvas");Te.width=se,Te.height=we;const Ee=Te.getContext("2d",{willReadFrequently:!0});if(!Ee)return;Ee.imageSmoothingEnabled=!1,Ee.drawImage(E,De,Oe,ze,Be,0,0,se,we);const b=Ee.getImageData(0,0,se,we).data,B=F*W0,ce=(se-1)*B,He=(we-1)*B,c=(v-ce)/se,M=(d-He)/we,J=(ne-50)*2,R=$e<=50?$e/50:1+($e-50)/50*2,T=xe/100,ee=q||ge;for(let ke=0;ke<we;ke++)for(let Ae=0;Ae<se;Ae++){const me=(ke*se+Ae)*4,be=b[me],W=b[me+1],Q=b[me+2];if(Re){let Ne=(((.299*be+.587*W+.114*Q)/255-.5)*R+.5)*255+J;const fe=Math.round(Math.max(0,Math.min(255,Ne)));if(q){const Ue=(255-fe)/255;if(Ue>T){const[Se,je,Le]=[0,0,0];if(A){const[te,oe,ut]=Ks(Se,je,Le);r.fillStyle=`rgb(${te}, ${oe}, ${ut})`}else r.fillStyle=`rgb(${Se}, ${je}, ${Le})`;const ae=Math.min(c,M)/2*Ue;if(ae>.1){const te=Ae*(c+B),oe=ke*(M+B),ut=te+c/2,G=oe+M/2;r.beginPath(),r.arc(ut,G,ae,0,2*Math.PI),r.fill()}}}else{const Ue=$==="white",Se=Ue?(255-fe)/255:fe/255;if(Se>T){let je,Le,Ve;if(ee?[je,Le,Ve]=Ue?[0,0,0]:[255,255,255]:[je,Le,Ve]=[fe,fe,fe],A){const[oe,ut,G]=Ks(je,Le,Ve);r.fillStyle=`rgb(${oe}, ${ut}, ${G})`}else r.fillStyle=`rgb(${je}, ${Le}, ${Ve})`;const te=Math.min(c,M)/2*Se;if(te>.1){const oe=Ae*(c+B),ut=ke*(M+B),G=oe+c/2,I=ut+M/2;r.beginPath(),r.arc(G,I,te,0,2*Math.PI),r.fill()}}}}}},lm=({theme:r,isMobile:k,footerLinks:v,triggerShareToast:d,handleShare:E,easterEggPrimed:Z,setEasterEggPrimed:L,isEasterEggPermanentlyUnlocked:re,markEasterEggAsUnlocked:q,setJustUnlockedSpecialTheme:_,showSharePopup:z,setShowSharePopup:F,communityLink:$,appUrl:pe,shareVariant:P})=>{const{state:Re,setState:ne,undo:$e,redo:ge,resetHistory:x,canUndo:xe,canRedo:A}=zi(Ri),[se,we]=g.useState(Re),[V,he]=g.useState(k?"phone":"desktop"),[De,Oe]=g.useState(!1),[ze,Be]=g.useState(!1),Te=g.useRef(null),Ee=g.useRef(null),b=g.useRef(null),B=g.useRef(null),[ce,He]=g.useState(!1),[c,M]=g.useState(!1),[J,R]=g.useState(null),{outputType:T}=se,ee=g.useMemo(()=>{const{wallpaper:p,print:Y}=se;return T==="wallpaper"?p[V]:Y},[se,T,V]),K=g.useMemo(()=>c?{...ee,isPureValue:!0,isTransparent:!1}:ee,[c,ee]),{resolution:ke,pixelGap:Ae,cropOffsetX:me,cropOffsetY:be,isMonochrome:W,exposure:Q,contrast:ye,lowerLimit:Ne}=ee,{background:fe,isPureValue:Ue,isTransparent:Se}=K,je=g.useCallback(()=>{M(!1),R(null)},[]),Le=g.useCallback(()=>{je()},[je]),{imageSrc:Ve,image:ae,isLoading:te,isDownloading:oe,handleFileSelect:ut,handleDownload:G,clearImage:I}=Ui({featureName:"value_aliasing",onFileSelectCallback:Le,triggerShareToast:d});g.useEffect(()=>{if(ae){const p=ae.width>=ae.height?"landscape":"portrait",Y=JSON.parse(JSON.stringify(Ri));Y.print.size="original",Y.print.orientation=p,x(Y)}else x(Ri)},[ae,x]),g.useEffect(()=>{we(Re)},[Re]);const ve=g.useCallback(p=>{p==="community"?c||(H("easter_egg_activated",{feature:"value_aliasing"}),M(!0),re||(q(),_(!0))):(H("value_aliasing_style_select",{style:p,from_community_theme:c}),M(!1),ne(Y=>{const Fe={background:p==="dark"?"black":"white"};if(Y.outputType==="wallpaper"){const ct={...Y.wallpaper[V],...Fe};return{...Y,wallpaper:{...Y.wallpaper,[V]:ct}}}const Ke={...Y.print,...Fe};return{...Y,print:Ke}}))},[c,re,q,ne,V,T,_]),We=g.useCallback(()=>{ve("community")},[ve]),Me=(p=null)=>{const Y=yg.length;if(p===null)return Math.floor(Math.random()*Y);let le;do le=Math.floor(Math.random()*Y);while(le===p);return le};g.useEffect(()=>{c&&J===null&&R(Me())},[c,J]);const Ge=()=>{H("value_aliasing_easter_egg_refresh"),R(p=>Me(p))};g.useEffect(()=>{const p=()=>{document.fullscreenElement||(Oe(!1),He(!1))};return document.addEventListener("fullscreenchange",p),()=>document.removeEventListener("fullscreenchange",p)},[]);const st=()=>{H("value_aliasing_fullscreen_enter"),zn.flushSync(()=>{Oe(!0)}),b.current&&b.current.requestFullscreen().catch(p=>{console.error(`Error attempting to enable full-screen mode: ${p.message} (${p.name})`),Oe(!1)})},mt=g.useCallback(()=>{H("value_aliasing_fullscreen_exit"),document.fullscreenElement?document.exitFullscreen():Oe(!1)},[]),Ie=g.useCallback(()=>{H("value_aliasing_reset_defaults",{value_aliasing_type:T==="wallpaper"?V:"print"}),ne(p=>{const Y=(le,Fe)=>{const{cropOffsetX:Ke,cropOffsetY:ct}=le,el="size"in le?{size:le.size,orientation:le.orientation}:{};return{...Fe,cropOffsetX:Ke,cropOffsetY:ct,...el}};return p.outputType==="wallpaper"?{...p,wallpaper:{...p.wallpaper,[V]:Y(p.wallpaper[V],Ri.wallpaper[V])}}:{...p,print:Y(p.print,Ri.print)}})},[V,ne,T]),[qe,nt]=g.useMemo(()=>{if(T==="print"){const p=ee,Y=Mi[p.size];if(!Y)return[ig,sg];let le,Fe;if(p.size==="original"){if(!ae)return[3600,3600];const Ke=12*ou,ct=ae.width/ae.height;ct>=1?(le=Ke,Fe=Math.round(Ke/ct)):(Fe=Ke,le=Math.round(Ke*ct))}else le=Y.w*ou,Fe=Y.h*ou;return p.orientation==="landscape"?[Math.max(le,Fe),Math.min(le,Fe)]:[Math.min(le,Fe),Math.max(le,Fe)]}return V==="desktop"?[ig,sg]:[K0,J0]},[T,V,ee,ae]),[D,de]=g.useMemo(()=>{if(T==="wallpaper")return[qe,nt];const p=qe/nt,Y=1500;return qe>=nt?[Y,Math.round(Y/p)]:[Math.round(Y*p),Y]},[T,qe,nt]),ft=g.useMemo(()=>ae?Math.abs(ae.width/ae.height-qe/nt)>.01:!1,[ae,qe,nt]);g.useEffect(()=>{if(!ae)return;const p=De?Ee.current:Te.current;if(!p)return;const Y=p.getContext("2d");if(!Y)return;og(Y,{canvasWidth:D,canvasHeight:de,image:ae,settings:{outputType:T,valueAliasingType:V,isEasterEggActive:c,activePermutationIndex:J,resolution:ke,pixelGap:Ae,background:fe,cropOffsetX:me,cropOffsetY:be,isMonochrome:W,exposure:Q,contrast:ye,isPureValue:Ue,isTransparent:Se,lowerLimit:Ne}})},[ae,De,D,de,T,V,c,J,ke,Ae,fe,me,be,W,Q,ye,Ue,Se,Ne]);const Ct=g.useCallback(async(p={})=>{const{highQuality:Y=!1}=p,le=se.outputType==="print";return!Y||!le?new Promise(Fe=>{const Ke=De?Ee.current:Te.current;Ke?Ke.toBlob(ct=>Fe(ct),"image/png"):Fe(null)}):new Promise(Fe=>{if(!ae){Fe(null);return}const Ke=document.createElement("canvas");Ke.width=qe,Ke.height=nt;const ct=Ke.getContext("2d");if(!ct){console.error("Could not create offscreen canvas context for high-quality export."),Fe(null);return}const el=Re[T==="wallpaper"?"wallpaper":"print"],Mt=T==="wallpaper"?el[V]:el,Rt={canvasWidth:qe,canvasHeight:nt,image:ae,settings:{...Mt,outputType:T,valueAliasingType:V,isEasterEggActive:c,activePermutationIndex:J}};og(ct,Rt),Ke.toBlob(sl=>{Fe(sl)},"image/png")})},[De,se,Re,T,V,ae,qe,nt,c,J]),Ht=p=>{H("value_aliasing_fullscreen_replace_image",{value_aliasing_type:V}),ut(p,"click")},Lt=()=>{var p;H("value_aliasing_fullscreen_replace_image_click",{value_aliasing_type:V}),(p=B.current)==null||p.click()},Xt=p=>{p.target.files&&p.target.files[0]&&Ht(p.target.files[0]),p.target&&(p.target.value="")},qt=()=>{const p={feature:"value_aliasing",output_type:T,is_special_theme:c,setting_resolution:ee.resolution,setting_pixel_gap:ee.pixelGap,setting_background:ee.background,setting_crop_offset_x:ee.cropOffsetX,setting_crop_offset_y:ee.cropOffsetY,setting_is_monochrome:ee.isMonochrome,setting_exposure:ee.exposure,setting_contrast:ee.contrast,setting_is_pure_value:ee.isPureValue,setting_is_transparent:ee.isTransparent,setting_lower_limit:ee.lowerLimit},Y=()=>{d(De?()=>Be(!0):void 0,c)},le=se.outputType==="print";let Fe;if(le){const{size:Ke,orientation:ct}=se.print;Fe=`matrices-valuealiasing-print-${Ke}-${ct}`,p.print_size=Ke,p.print_orientation=ct}else Fe=`matrices-valuealiasing-${V}`,p.wallpaper_type=V;G(()=>Ct({highQuality:!0}),Fe,p,Y)},N=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),ie=g.useCallback(p=>{if(!ft)return;p.preventDefault(),N.current.isDragging=!0,N.current.hasMoved=!1;const Y="touches"in p?p.touches[0]:p;N.current.startX=Y.clientX,N.current.startY=Y.clientY,N.current.initialOffsetX=ee.cropOffsetX,N.current.initialOffsetY=ee.cropOffsetY,document.body.style.cursor="grabbing"},[ft,ee]),w=g.useCallback(p=>{if(!N.current.isDragging||!ae)return;N.current.hasMoved=!0;const Y="touches"in p?p.touches[0]:p;let le=Y.clientX-N.current.startX,Fe=Y.clientY-N.current.startY;const Ke=De?Ee.current:Te.current;if(Ke){const At=Ke.getBoundingClientRect();if(At.width>0&&At.height>0){const pl=D/At.width,nl=de/At.height;le*=pl,Fe*=nl}}const ct=ae.width/ae.height,el=qe/nt;let Mt=0,Rt=0;ct>el?Mt=nt*ct-qe:ct<el&&(Rt=qe/ct-nt);let sl=Mt>0?N.current.initialOffsetX-le/Mt:N.current.initialOffsetX,ml=Rt>0?N.current.initialOffsetY-Fe/Rt:N.current.initialOffsetY;const $t={cropOffsetX:Math.max(0,Math.min(1,sl)),cropOffsetY:Math.max(0,Math.min(1,ml))};we(At=>At.outputType==="wallpaper"?{...At,wallpaper:{...At.wallpaper,[V]:{...At.wallpaper[V],...$t}}}:{...At,print:{...At.print,...$t}})},[ae,qe,nt,D,de,V,De]),ue=g.useCallback(()=>{if(N.current.isDragging){N.current.isDragging=!1,N.current.hasMoved&&H("value_aliasing_crop",{value_aliasing_type:T==="wallpaper"?V:"print"});const{cropOffsetX:p,cropOffsetY:Y}=ee;ne(le=>le.outputType==="wallpaper"?{...le,wallpaper:{...le.wallpaper,[V]:{...le.wallpaper[V],cropOffsetX:p,cropOffsetY:Y}}}:{...le,print:{...le.print,cropOffsetX:p,cropOffsetY:Y}}),document.body.style.cursor="default"}},[ee,V,ne,T]);g.useEffect(()=>{const p=le=>w(le),Y=()=>ue();return document.addEventListener("mousemove",p),document.addEventListener("mouseup",Y),document.addEventListener("touchmove",p),document.addEventListener("touchend",Y),document.addEventListener("touchcancel",Y),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",Y),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",Y),document.removeEventListener("touchcancel",Y)}},[w,ue]);const _e=(p,Y)=>{we(le=>le.outputType==="wallpaper"?{...le,wallpaper:{...le.wallpaper,[V]:{...le.wallpaper[V],[p]:Y}}}:{...le,print:{...le.print,[p]:Y}})},Ye=(p,Y)=>{ne(le=>le.outputType==="wallpaper"?{...le,wallpaper:{...le.wallpaper,[V]:{...le.wallpaper[V],[p]:Y}}}:{...le,print:{...le.print,[p]:Y}}),H("value_aliasing_slider_change",{slider_name:p,value:Y,output_mode:T==="wallpaper"?V:"print"})},rt=p=>{H("value_aliasing_output_type_select",{type:p}),ne(Y=>({...Y,outputType:p}))},it=[{key:"phone",label:"Phone"},{key:"desktop",label:"Desktop"}],ht=[{key:"wallpaper",label:"Wallpaper"},{key:"print",label:"Print"}],jt=[{key:"landscape",label:"Landscape"},{key:"portrait",label:"Portrait"}],zt=()=>{const p="py-2 text-sm font-semibold transition-colors duration-200 focus:outline-none rounded-md flex items-center justify-center",Y=r==="dark"?"bg-nothing-light text-nothing-dark font-bold":"bg-day-text text-day-bg font-bold",le=r==="dark"?"bg-nothing-gray-dark hover:bg-gray-700 text-nothing-light":"bg-day-gray-light hover:bg-gray-300 text-day-text";return s.jsxs("div",{className:`flex space-x-1 p-1 rounded-lg ${r==="dark"?"bg-nothing-darker":"bg-gray-200"}`,children:[s.jsx("button",{onClick:()=>ve("dark"),className:`${p} flex-grow ${!c&&ee.background==="black"?Y:le}`,"aria-pressed":!c&&ee.background==="black"?"true":"false",children:"Dark"}),s.jsx("button",{onClick:()=>ve("light"),className:`${p} flex-grow ${!c&&ee.background==="white"?Y:le}`,"aria-pressed":!c&&ee.background==="white"?"true":"false",children:"Light"}),re&&s.jsx("button",{onClick:()=>ve("community"),className:`${p} flex-shrink-0 w-10 ${c?Y:le}`,"aria-label":"Activate Community Theme","aria-pressed":c?"true":"false",children:s.jsxs("svg",{viewBox:"0 0 22 22",className:"h-5 w-5","aria-hidden":"true",children:[s.jsx("rect",{x:"0",y:"0",width:"10",height:"10",fill:"#BD1721"}),s.jsx("rect",{x:"12",y:"0",width:"10",height:"10",fill:"#FCCA21"}),s.jsx("rect",{x:"0",y:"12",width:"10",height:"10",fill:"#0D4E81"}),s.jsx("rect",{x:"12",y:"12",width:"10",height:"10",fill:"#E0E0E0"})]})})]})},Vt=()=>s.jsx("button",{onClick:Ge,className:`p-2 transition-colors duration-200 rounded-md ${r==="dark"?"bg-gray-700 text-nothing-gray-light hover:text-white":"bg-gray-200 text-day-gray-dark hover:text-black"}`,"aria-label":"Randomize Background Colors",children:k?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"16 3 21 3 21 8"}),s.jsx("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),s.jsx("polyline",{points:"21 16 21 21 16 21"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"4",y1:"4",x2:"9",y2:"9"})]}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("defs",{children:s.jsxs("pattern",{id:"shuffleIconPattern",patternUnits:"userSpaceOnUse",width:"24",height:"24",children:[s.jsx("rect",{x:"0",y:"0",width:"12",height:"12",fill:"#BD1721"}),s.jsx("rect",{x:"12",y:"0",width:"12",height:"12",fill:"#FCCA21"}),s.jsx("rect",{x:"0",y:"12",width:"12",height:"12",fill:"#1A5A8A"}),s.jsx("rect",{x:"12",y:"12",width:"12",height:"12",fill:"#E0E0E0"})]})}),s.jsx("polyline",{points:"16 3 21 3 21 8",stroke:"url(#shuffleIconPattern)"}),s.jsx("line",{x1:"4",y1:"20",x2:"21",y2:"3",stroke:"url(#shuffleIconPattern)"}),s.jsx("polyline",{points:"21 16 21 21 16 21",stroke:"url(#shuffleIconPattern)"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21",stroke:"url(#shuffleIconPattern)"}),s.jsx("line",{x1:"4",y1:"4",x2:"9",y2:"9",stroke:"url(#shuffleIconPattern)"})]})}),El=Ve?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(fl,{options:ht,selected:T,onSelect:p=>rt(p),theme:r}),T==="wallpaper"?s.jsx(fl,{options:it,selected:V,onSelect:p=>he(p),theme:r}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"print-size-select",className:`block text-sm mb-2 ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:"Print Size"}),s.jsxs("select",{id:"print-size-select",value:ee.size,onChange:p=>{const Y=p.target.value;ne(le=>({...le,print:{...le.print,size:Y}})),H("value_aliasing_print_size_change",{size:Y})},className:`w-full p-2 rounded-md border text-sm ${r==="dark"?"bg-nothing-gray-dark border-nothing-gray-dark text-nothing-light":"bg-day-gray-light border-gray-300 text-day-text"}`,children:[s.jsx("option",{value:"original",children:Mi.original.label}),rg.map(p=>s.jsx("optgroup",{label:p,children:Object.entries(Mi).filter(([Y,le])=>le.group===p&&Y!=="original").map(([Y,le])=>s.jsx("option",{value:Y,children:le.label},Y))},p))]})]}),s.jsx(fl,{options:jt,selected:ee.orientation,onSelect:p=>{const Y=p;ne(le=>({...le,print:{...le.print,orientation:Y}})),H("value_aliasing_orientation_change",{orientation:Y})},theme:r})]}),s.jsx(zt,{})]}),s.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[s.jsx(Wa,{onUndo:()=>{$e(),H("value_aliasing_undo")},onRedo:()=>{ge(),H("value_aliasing_redo")},canUndo:xe,canRedo:A,theme:r}),c&&s.jsx(Vt,{})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsx(yt,{theme:r,isMobile:k,label:"Exposure",value:Q,onChange:p=>_e("exposure",p),onChangeCommitted:p=>Ye("exposure",p),onReset:()=>Ye("exposure",zl),disabled:te}),s.jsx(yt,{theme:r,isMobile:k,label:"Contrast",value:ye,onChange:p=>_e("contrast",p),onChangeCommitted:p=>Ye("contrast",p),onReset:()=>Ye("contrast",zl),disabled:te}),s.jsx(yt,{theme:r,isMobile:k,label:"Resolution",value:ke,onChange:p=>_e("resolution",p),onChangeCommitted:p=>Ye("resolution",p),onReset:()=>Ye("resolution",zl),disabled:te}),s.jsx(yt,{theme:r,isMobile:k,label:"Pixel Gap",value:Ae,onChange:p=>_e("pixelGap",p),onChangeCommitted:p=>Ye("pixelGap",p),onReset:()=>Ye("pixelGap",zl),disabled:te}),s.jsx(yt,{theme:r,isMobile:k,label:"Lower Limit",value:Ne,onChange:p=>_e("lowerLimit",p),onChangeCommitted:p=>Ye("lowerLimit",p),onReset:()=>Ye("lowerLimit",0),disabled:te})]}),!c&&s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-nothing-darker":"bg-white border border-gray-300"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pure-values-toggle",className:"text-sm",children:"Pure Values"}),s.jsx("button",{id:"pure-values-toggle",role:"switch","aria-checked":Ue,onClick:()=>Ye("isPureValue",!Ue),disabled:te,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Ue?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Ue?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"transparent-output-toggle",className:"text-sm",children:"Transparent Output"}),s.jsx("button",{id:"transparent-output-toggle",role:"switch","aria-checked":Se,onClick:()=>Ye("isTransparent",!Se),disabled:te,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Se?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Se?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:I,disabled:te,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:Ie,disabled:te,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset value aliasing controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:v})})]}):null;return{previewPanel:Ve?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:B,onChange:Xt,className:"hidden",accept:"image/*"}),s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[s.jsx("canvas",{ref:Te,width:D,height:de,className:`border-2 rounded-lg ${r==="dark"?"border-nothing-gray-dark":"border-gray-300"} ${T==="wallpaper"&&V==="phone"?k?"w-4/5 h-auto":"max-h-full w-auto":"max-w-full max-h-full"}`,"aria-label":"Value Aliasing Canvas",onMouseDown:ie,onTouchStart:ie,style:{cursor:ft?"grab":"default",touchAction:ft?"none":"auto",backgroundColor:Se&&!c&&r==="dark"?"#14151f":Se&&!c&&r==="light"?"#efefef":"transparent"}}),s.jsxs("div",{className:"absolute bottom-3 right-3 z-10 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(c?"special":"default"),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:st,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Enter full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]}),De&&zn.createPortal(s.jsxs("div",{ref:b,className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onMouseDown:p=>{p.target===p.currentTarget&&(N.current.hasMoved=!1)},onClick:p=>{p.target===p.currentTarget&&!N.current.hasMoved&&(ce?He(!1):mt())},children:[s.jsx("canvas",{ref:Ee,width:D,height:de,className:"max-w-full max-h-full","aria-label":"Full-screen Value Aliasing Canvas Preview",onMouseDown:ie,onTouchStart:ie,style:{cursor:ft?"grab":"default",touchAction:ft?"none":"auto"}}),ft&&s.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-2 py-1 rounded-md text-sm ${r==="dark"?"bg-nothing-dark/90 text-nothing-light":"bg-day-gray-light/90 text-day-text"} backdrop-blur-sm pointer-events-none`,children:" Drag to Crop"}),Z&&s.jsx("button",{onClick:()=>{We(),L(!1)},className:"fixed top-4 right-4 z-[52] flex items-center p-2 px-3 transition-colors duration-300 rounded-md text-sm font-semibold easter-egg-glow","aria-label":"Click to Unlock",children:"Click to Unlock"}),!k&&s.jsxs("div",{className:"fixed bottom-4 left-4 z-[51] w-80 flex flex-col items-start space-y-2",children:[s.jsx("div",{className:"w-full",children:ce?s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-4 max-h-[calc(100vh-10rem)] flex flex-col space-y-4 shadow-2xl`,children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h3",{className:`font-bold text-lg ${r==="dark"?"text-white":"text-day-text"}`,children:"Controls"}),s.jsx("button",{onClick:()=>{He(!1),H("value_aliasing_fullscreen_controls_toggle",{open:!1})},className:`p-2 ${r==="dark"?"text-white hover:bg-white/20":"text-day-text hover:bg-black/10"} rounded-full transition-colors`,"aria-label":"Collapse controls",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]}),s.jsxs("div",{className:"overflow-y-auto space-y-4 pr-2 -mr-2",children:[s.jsxs("div",{className:`p-3 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(fl,{options:ht,selected:T,onSelect:p=>rt(p),theme:r}),T==="wallpaper"?s.jsx(fl,{options:it,selected:V,onSelect:p=>he(p),theme:r}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"print-size-select-fs",className:`block text-sm mb-2 ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:"Print Size"}),s.jsxs("select",{id:"print-size-select-fs",value:ee.size,onChange:p=>{const Y=p.target.value;ne(le=>({...le,print:{...le.print,size:Y}})),H("value_aliasing_print_size_change",{size:Y})},className:`w-full p-2 rounded-md border text-sm ${r==="dark"?"bg-nothing-gray-dark border-nothing-gray-dark text-nothing-light":"bg-day-gray-light border-gray-300 text-day-text"}`,children:[s.jsx("option",{value:"original",children:Mi.original.label}),rg.map(p=>s.jsx("optgroup",{label:p,children:Object.entries(Mi).filter(([Y,le])=>le.group===p&&Y!=="original").map(([Y,le])=>s.jsx("option",{value:Y,children:le.label},Y))},p))]})]}),s.jsx(fl,{options:jt,selected:ee.orientation,onSelect:p=>{const Y=p;ne(le=>({...le,print:{...le.print,orientation:Y}})),H("value_aliasing_orientation_change",{orientation:Y})},theme:r})]}),s.jsx(zt,{})]}),s.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[s.jsx(Wa,{onUndo:()=>{$e(),H("value_aliasing_undo")},onRedo:()=>{ge(),H("value_aliasing_redo")},canUndo:xe,canRedo:A,theme:r}),c&&s.jsx(Vt,{})]}),s.jsxs("div",{className:`p-3 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:[s.jsx(yt,{theme:r,isMobile:k,label:"Exposure",value:Q,onChange:p=>_e("exposure",p),onChangeCommitted:p=>Ye("exposure",p),onReset:()=>Ye("exposure",zl),disabled:te}),s.jsx(yt,{theme:r,isMobile:k,label:"Contrast",value:ye,onChange:p=>_e("contrast",p),onChangeCommitted:p=>Ye("contrast",p),onReset:()=>Ye("contrast",zl),disabled:te}),s.jsx(yt,{theme:r,isMobile:k,label:"Resolution",value:ke,onChange:p=>_e("resolution",p),onChangeCommitted:p=>Ye("resolution",p),onReset:()=>Ye("resolution",zl),disabled:te}),s.jsx(yt,{theme:r,isMobile:k,label:"Pixel Gap",value:Ae,onChange:p=>_e("pixelGap",p),onChangeCommitted:p=>Ye("pixelGap",p),onReset:()=>Ye("pixelGap",zl),disabled:te}),s.jsx(yt,{theme:r,isMobile:k,label:"Lower Limit",value:Ne,onChange:p=>_e("lowerLimit",p),onChangeCommitted:p=>Ye("lowerLimit",p),onReset:()=>Ye("lowerLimit",0),disabled:te})]}),!c&&s.jsxs("div",{className:`p-3 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"} space-y-4`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"pure-values-toggle-fs",className:"text-sm",children:"Pure Values"}),s.jsx("button",{id:"pure-values-toggle-fs",role:"switch","aria-checked":Ue,onClick:()=>Ye("isPureValue",!Ue),disabled:te,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Ue?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Ue?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:"transparent-output-toggle-fs",className:"text-sm",children:"Transparent Output"}),s.jsx("button",{id:"transparent-output-toggle-fs",role:"switch","aria-checked":Se,onClick:()=>Ye("isTransparent",!Se),disabled:te,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${Se?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${Se?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsx("div",{children:s.jsx("button",{onClick:Ie,disabled:te,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset value aliasing controls to their default values",children:" Reset Controls "})})]})]}):s.jsxs("button",{onClick:()=>{He(!0),H("value_aliasing_fullscreen_controls_toggle",{open:!0})},className:`w-full ${r==="dark"?"bg-nothing-dark/80 text-white hover:bg-nothing-dark":"bg-day-bg/90 text-day-text hover:bg-day-gray-light border border-gray-300/50"} backdrop-blur-sm font-semibold py-3 px-4 rounded-lg flex items-center justify-between shadow-lg transition-colors`,"aria-label":"Expand controls",children:[s.jsx("span",{children:"Controls"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})})]})}),s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-2 flex flex-col items-stretch space-y-2 shadow-lg`,children:[s.jsx("button",{onClick:Lt,disabled:te,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Replace the current image",children:"Replace Image"}),s.jsx("button",{onClick:qt,disabled:te||oe,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current image",children:oe?"Generating...":"Download"})]})]}),s.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(c?"special":"default"),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:mt,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Exit full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})})})]}),s.jsx(Ja,{show:ze,onClose:()=>Be(!1),onShare:()=>{},theme:r,isMobile:!1,imageRendered:!!Ve,className:"z-[60] !bottom-24"}),s.jsx(Js,{show:z,onClose:()=>F(!1),theme:r,communityLink:$,appUrl:pe,variant:P})]}),document.body)]}):s.jsx(Ql,{onFileSelect:ut,isLoading:te,theme:r,context:"valueAliasing",isMobile:k}),controlsPanel:El,imageSrc:Ve,isLoading:te,handleFileSelect:ut,handleDownload:qt,downloadButton:s.jsxs("button",{onClick:qt,disabled:te||oe,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download the current image",children:[" ",oe?"Generating...":"Download"," "]}),replaceButton:s.jsx(Ql,{onFileSelect:ut,isLoading:te,compact:!0,theme:r,isMobile:k}),valueAliasingType:V,activateEasterEgg:We,isEasterEggActive:c,getCanvasBlob:Ct,undo:$e,redo:ge,canUndo:xe,canRedo:A}},Dn=50,am=1260,nm=2800,im=3840,sm=2160,ug={resolution:Dn,pixelGap:Dn,blurAmount:50,isMonochrome:!1,cropOffsetX:.5,cropOffsetY:.5,isGrainEnabled:!0,grainAmount:Dn,grainSize:0,ior:50,similaritySensitivity:50,isBackgroundBlurEnabled:!1,lowerLimit:0,isMarkerEnabled:!1},Oi={phone:{...ug},desktop:{...ug}},cg=[{id:1,code:"UNI",label:"Uniform",desktop:{resolution:96,pixelGap:50,lowerLimit:0,similaritySensitivity:0,blurAmount:24,ior:12,grainSize:0,grainAmount:42,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:36,pixelGap:36,lowerLimit:0,similaritySensitivity:0,blurAmount:20,ior:12,grainSize:0,grainAmount:28,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1}},{id:2,code:"UBL",label:"Uniform Blurred",desktop:{resolution:96,pixelGap:64,lowerLimit:0,similaritySensitivity:0,blurAmount:6,ior:100,grainSize:0,grainAmount:36,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1},phone:{resolution:52,pixelGap:64,lowerLimit:0,similaritySensitivity:0,blurAmount:6,ior:100,grainSize:0,grainAmount:20,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1}},{id:3,code:"BAR",label:"Bare",desktop:{resolution:0,pixelGap:67,lowerLimit:36,similaritySensitivity:100,blurAmount:16,ior:32,grainSize:0,grainAmount:50,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:0,pixelGap:56,lowerLimit:21,similaritySensitivity:100,blurAmount:25,ior:36,grainSize:0,grainAmount:36,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1}},{id:4,code:"BDS",label:"3D Beads",desktop:{resolution:32,pixelGap:32,lowerLimit:0,similaritySensitivity:87,blurAmount:32,ior:64,grainSize:0,grainAmount:64,isMarkerEnabled:!0,isBackgroundBlurEnabled:!0,isMonochrome:!1},phone:{resolution:4,pixelGap:36,lowerLimit:0,similaritySensitivity:87,blurAmount:28,ior:64,grainSize:0,grainAmount:40,isMarkerEnabled:!0,isBackgroundBlurEnabled:!0,isMonochrome:!1}},{id:5,code:"PAL",label:"Palette",desktop:{resolution:52,pixelGap:32,lowerLimit:0,similaritySensitivity:100,blurAmount:84,ior:100,grainSize:8,grainAmount:60,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1},phone:{resolution:6,pixelGap:32,lowerLimit:0,similaritySensitivity:100,blurAmount:84,ior:100,grainSize:0,grainAmount:48,isMarkerEnabled:!1,isBackgroundBlurEnabled:!0,isMonochrome:!1}},{id:6,code:"ORG",label:"Organic",desktop:{resolution:82,pixelGap:64,lowerLimit:0,similaritySensitivity:78,blurAmount:12,ior:80,grainSize:0,grainAmount:40,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:32,pixelGap:36,lowerLimit:0,similaritySensitivity:90,blurAmount:24,ior:56,grainSize:0,grainAmount:50,isMarkerEnabled:!1,isBackgroundBlurEnabled:!1,isMonochrome:!1}},{id:7,code:"MGR",label:"Low Depth Grain Mono",desktop:{resolution:20,pixelGap:36,lowerLimit:0,similaritySensitivity:96,blurAmount:12,ior:28,grainSize:21,grainAmount:72,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!0},phone:{resolution:3,pixelGap:64,lowerLimit:20,similaritySensitivity:96,blurAmount:16,ior:24,grainSize:10,grainAmount:60,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!0}},{id:8,code:"MOD",label:"Moderate Grain & Blur",desktop:{resolution:40,pixelGap:60,lowerLimit:0,similaritySensitivity:92,blurAmount:18,ior:75,grainSize:0,grainAmount:20,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1},phone:{resolution:8,pixelGap:0,lowerLimit:14,similaritySensitivity:67,blurAmount:17,ior:84,grainSize:0,grainAmount:20,isMarkerEnabled:!0,isBackgroundBlurEnabled:!1,isMonochrome:!1}}],dg=(r,k)=>{if(!r||!k)return 1/0;const v=r.r-k.r,d=r.g-k.g,E=r.b-k.b;return Math.sqrt(v*v+d*d+E*E)},fg=(r,k)=>{const{canvasWidth:v,canvasHeight:d,sourceBleedCanvas:E,blurBleedCanvas:Z,finalBgCanvas:L,bleedX:re,bleedY:q,settings:_}=k,{resolution:z,pixelGap:F,ior:$,similaritySensitivity:pe,isGrainEnabled:P,grainAmount:Re,grainSize:ne,lowerLimit:$e,isMarkerEnabled:ge,isBackgroundBlurEnabled:x}=_,xe=Math.floor(10+z/100*100),A=Math.round(xe*(d/v));if(xe<=0||A<=0){r.drawImage(L,0,0);return}const se=document.createElement("canvas");se.width=xe,se.height=A;const we=se.getContext("2d",{willReadFrequently:!0});if(!we)return;we.drawImage(E,0,0,E.width,E.height,0,0,xe,A);const V=we.getImageData(0,0,xe,A).data,he=Array.from({length:A},(me,be)=>Array.from({length:xe},(W,Q)=>{const ye=(be*xe+Q)*4;return{r:V[ye],g:V[ye+1],b:V[ye+2]}})),De=Array.from({length:A},()=>Array(xe).fill(!1)),Oe=[],ze=pe/100*160,Be=(me,be,W,Q,ye)=>{if(pe===0)return 1;const Ne=he[be][me];let fe=1;for(;;){const Ue=fe+1;if(be+Ue>Q||me+Ue>W)break;let Se=!0;for(let je=0;je<Ue;je++){const Le=me+fe,Ve=be+je;if(De[Ve][Le]){Se=!1;break}if(dg(Ne,he[Ve][Le])>ze){Se=!1;break}}if(!Se)break;for(let je=0;je<fe;je++){const Le=me+je,Ve=be+fe;if(De[Ve][Le]){Se=!1;break}if(dg(Ne,he[Ve][Le])>ze){Se=!1;break}}if(!Se)break;fe=Ue}return fe};for(let me=0;me<A;me++)for(let be=0;be<xe;be++){if(De[me][be])continue;const W=Be(be,me,xe,A);Oe.push({x:be,y:me,size:W});for(let Q=0;Q<W;Q++)for(let ye=0;ye<W;ye++)De[me+Q][be+ye]=!0;if(W>1){const ye=F*16/100/100,Ne=(W-ye)/2,fe=W/2,Ue=W/2,Se=Array.from({length:W},()=>Array(W).fill(!1));for(let je=0;je<W;je++)for(let Le=0;Le<W;Le++){const Ve=Math.max(Le,Math.min(fe,Le+1)),ae=Math.max(je,Math.min(Ue,je+1)),te=fe-Ve,oe=Ue-ae;te*te+oe*oe<Ne*Ne-.001&&(Se[je][Le]=!0)}for(let je=0;je<W;je++)for(let Le=0;Le<W;Le++){if(Se[je][Le])continue;let Ve=1;for(;;){const ae=Ve+1;if(je+ae>W||Le+ae>W)break;let te=!0;for(let oe=0;oe<ae;oe++)if(Se[je+oe][Le+Ve]){te=!1;break}if(!te)break;for(let oe=0;oe<Ve;oe++)if(Se[je+Ve][Le+oe]){te=!1;break}if(!te)break;Ve=ae}Oe.push({x:be+Le,y:me+je,size:Ve});for(let ae=0;ae<Ve;ae++)for(let te=0;te<Ve;te++)Se[je+ae][Le+te]=!0}}}const Te=[...Oe].sort((me,be)=>be.size-me.size),Ee=Math.ceil(Te.length*.04),b=new Set(Te.slice(0,Ee));r.clearRect(0,0,v,d),r.drawImage(L,0,0);const B=1+$*.93/100*.4,ce=v/xe,He=d/A,M=F*16/100/100,J=ce*M,R=He*M,T=[],ee=Oe.reduce((me,be)=>Math.max(me,be.size),1),K=$e/100*ee,Ae=Oe.filter(me=>me.size>=K).map(me=>{const{x:be,y:W,size:Q}=me,ye=ce*Q,Ne=He*Q,fe=be*ce+ye/2,Ue=W*He+Ne/2,Se=ye-J,je=Ne-R,Le=Math.min(Se,je)/2;return{centerX:fe,centerY:Ue,radius:Le,size:Q,originalBlob:me}}).filter(me=>me.radius>.1);for(const me of Ae){const{centerX:be,centerY:W,radius:Q}=me;T.push({centerX:be,centerY:W,radius:Q}),r.save(),r.beginPath(),r.arc(be,W,Q,0,2*Math.PI),r.clip();const ye=Q*2*B,Ne=Q*2*B,fe=be+re-ye/2,Ue=W+q-Ne/2;r.drawImage(Z,fe,Ue,ye,Ne,be-Q,W-Q,Q*2,Q*2),r.restore()}if(ge&&b.size>0){const me=E.getContext("2d",{willReadFrequently:!0});if(me){r.save(),r.globalCompositeOperation="overlay";for(const be of Ae)if(b.has(be.originalBlob)){const{centerX:W,centerY:Q,radius:ye}=be,Ne=Math.round(W+re),fe=Math.round(Q+q),Ue=me.getImageData(Ne,fe,1,1).data,Se=.299*Ue[0]+.587*Ue[1]+.114*Ue[2];r.strokeStyle=Se>128?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)";const je=50,Ve=36/100*(ye*.05)+1;r.lineWidth=Math.max(1,Ve);const ae=je/100*ye*.5;r.beginPath(),r.moveTo(W-ae,Q),r.lineTo(W+ae,Q),r.moveTo(W,Q-ae),r.lineTo(W,Q+ae),r.stroke()}r.restore()}}if(P&&Re>0&&(T.length>0||x)){const me=document.createElement("canvas");me.width=v,me.height=d;const be=me.getContext("2d");if(be){const Q=1+ne*18/100/100*7,ye=Math.ceil(v/Q),Ne=Math.ceil(d/Q),fe=document.createElement("canvas");fe.width=ye,fe.height=Ne;const Ue=fe.getContext("2d");if(Ue){const Se=Ue.createImageData(ye,Ne),je=Se.data,Le=128+Dn/100*127;for(let ae=0;ae<je.length;ae+=4){const te=128+(Math.random()-.5)*Le;je[ae]=je[ae+1]=je[ae+2]=te,je[ae+3]=255}if(Ue.putImageData(Se,0,0),be.imageSmoothingEnabled=!1,be.drawImage(fe,0,0,ye,Ne,0,0,v,d),!x){const ae=document.createElement("canvas");ae.width=v,ae.height=d;const te=ae.getContext("2d");if(te){te.fillStyle="white",te.beginPath();for(const oe of T)te.moveTo(oe.centerX+oe.radius,oe.centerY),te.arc(oe.centerX,oe.centerY,oe.radius,0,2*Math.PI);te.fill(),be.globalCompositeOperation="destination-in",be.drawImage(ae,0,0)}}r.save();const Ve=Re*35/100;r.globalAlpha=Ve/100,r.globalCompositeOperation="overlay",r.drawImage(me,0,0),r.restore()}}}},rm=({theme:r,isMobile:k,footerLinks:v,triggerShareToast:d,handleShare:E,showSharePopup:Z,setShowSharePopup:L,communityLink:re,appUrl:q,shareVariant:_})=>{const{state:z,setState:F,undo:$,redo:pe,resetHistory:P,canUndo:Re,canRedo:ne}=zi(Oi),[$e,ge]=g.useState(z),[x,xe]=g.useState(k?"phone":"desktop"),[A,se]=g.useState(!1),[we,V]=g.useState(!1),[he,De]=g.useState("presets"),[Oe,ze]=g.useState(null),Be=g.useRef(null),Te=g.useRef(null),Ee=g.useRef(null),b=g.useRef(null),[B,ce]=g.useState(!1),[He,c]=g.useState(!1),[M,J]=g.useState(null),R=g.useRef(null),T=g.useMemo(()=>$e[x],[$e,x]),{imageSrc:ee,image:K,isLoading:ke,isDownloading:Ae,handleFileSelect:me,handleDownload:be,clearImage:W}=Ui({featureName:"glass_dots",onFileSelectCallback:()=>{},triggerShareToast:d});g.useEffect(()=>{P(Oi),ze(null)},[K,P]),g.useEffect(()=>{ge(z)},[z]);const Q=g.useCallback(()=>{H("glass_dots_reset_defaults",{wallpaper_type:x}),F(w=>{const ue={cropOffsetX:w[x].cropOffsetX,cropOffsetY:w[x].cropOffsetY};return{...w,[x]:{...Oi[x],...ue}}}),ze(null)},[x,F]),ye=g.useCallback((w,ue=x)=>{F(_e=>{const Ye={cropOffsetX:_e[ue].cropOffsetX,cropOffsetY:_e[ue].cropOffsetY},rt=ue==="phone"?w.phone:w.desktop,it={...Oi[ue],...Ye,...rt,isGrainEnabled:!0};return{..._e,[ue]:it}})},[x,F]),Ne=w=>{H("glass_dots_preset_apply",{preset:w.code,wallpaper_type:x}),ze(w.id),ye(w,x)},fe=w=>{De(w),w==="controls"&&ze(null)},Ue=w=>{if(xe(w),Oe&&he==="presets"){const ue=cg.find(_e=>_e.id===Oe);ue&&ye(ue,w)}};g.useEffect(()=>{const w=()=>{document.fullscreenElement||(se(!1),ce(!1))};return document.addEventListener("fullscreenchange",w),()=>document.removeEventListener("fullscreenchange",w)},[]);const Se=()=>{var w;H("glass_dots_fullscreen_enter"),zn.flushSync(()=>se(!0)),(w=Ee.current)==null||w.requestFullscreen().catch(()=>se(!1))},je=g.useCallback(()=>{H("glass_dots_fullscreen_exit"),document.fullscreenElement?document.exitFullscreen():se(!1)},[]),[Le,Ve]=g.useMemo(()=>x==="desktop"?[im,sm]:[am,nm],[x]),[ae,te]=g.useMemo(()=>[Le,Ve],[Le,Ve]),oe=g.useMemo(()=>K?Math.abs(K.width/K.height-Le/Ve)>.01:!1,[K,Le,Ve]);g.useEffect(()=>{if(!K)return;const w=A?Te.current:Be.current;if(!w)return;const ue=w.getContext("2d");if(!ue)return;const{resolution:_e,ior:Ye,cropOffsetX:rt,cropOffsetY:it,isMonochrome:ht,blurAmount:jt,isBackgroundBlurEnabled:zt}=T,Vt=Math.floor(10+_e/100*100),gl=ae/Vt*(Vt*1),hl=1+Ye*.93/100*.4-1,p=gl/2*hl,Y=p,le=p*(te/ae),Fe=ae+2*Y,Ke=te+2*le,ct=document.createElement("canvas");ct.width=Fe,ct.height=Ke;const el=ct.getContext("2d",{willReadFrequently:!0});if(!el)return;const Mt=K.width/K.height,Rt=Fe/Ke;let sl=0,ml=0,$t=K.width,At=K.height;Mt>Rt?(At=K.height,$t=At*Rt,sl=(K.width-$t)*rt):($t=K.width,At=$t/Rt,ml=(K.height-At)*it),el.drawImage(K,sl,ml,$t,At,0,0,Fe,Ke);const pl=document.createElement("canvas");pl.width=Fe,pl.height=Ke;const nl=pl.getContext("2d");if(!nl)return;const Zl=(12+jt*.88)/100*Math.max(Fe,Ke)*.02,yl=[];Zl>0&&yl.push(`blur(${Zl}px)`),ht&&yl.push("grayscale(100%)"),yl.length>0&&(nl.filter=yl.join(" ")),nl.drawImage(ct,0,0);const Jt=document.createElement("canvas");Jt.width=ae,Jt.height=te;const rl=Jt.getContext("2d");if(rl){if(zt){const Ll=nl;rl.drawImage(Ll.canvas,Y,le,ae,te,0,0,ae,te)}else ht&&(rl.filter="grayscale(100%)"),rl.drawImage(ct,Y,le,ae,te,0,0,ae,te),rl.filter="none";fg(ue,{canvasWidth:ae,canvasHeight:te,sourceBleedCanvas:ct,blurBleedCanvas:pl,finalBgCanvas:Jt,bleedX:Y,bleedY:le,settings:T})}},[K,A,ae,te,T]);const ut=g.useCallback(async(w={})=>{const{highQuality:ue=!1}=w;if(!K)return null;const _e=ue?Le:ae,Ye=ue?Ve:te;return new Promise(rt=>{const it=document.createElement("canvas");it.width=_e,it.height=Ye;const ht=it.getContext("2d");if(!ht)return rt(null);const jt=z[x],{resolution:zt,ior:Vt,cropOffsetX:El,cropOffsetY:gl,isMonochrome:al,blurAmount:hl,isBackgroundBlurEnabled:p}=jt,Y=Math.floor(10+zt/100*100),Fe=_e/Y*(Y*1),ct=1+Vt*.93/100*.4-1,el=Fe/2*ct,Mt=el,Rt=el*(Ye/_e),sl=_e+2*Mt,ml=Ye+2*Rt,$t=document.createElement("canvas");$t.width=sl,$t.height=ml;const At=$t.getContext("2d",{willReadFrequently:!0});if(!At)return rt(null);const pl=K.width/K.height,nl=sl/ml;let bl=0,Zl=0,yl=K.width,Jt=K.height;pl>nl?(Jt=K.height,yl=Jt*nl,bl=(K.width-yl)*El):(yl=K.width,Jt=yl/nl,Zl=(K.height-Jt)*gl),At.drawImage(K,bl,Zl,yl,Jt,0,0,sl,ml);const rl=document.createElement("canvas");rl.width=sl,rl.height=ml;const Ll=rl.getContext("2d");if(!Ll)return rt(null);const Un=(12+hl*.88)/100*Math.max(sl,ml)*.02,Wt=[];Un>0&&Wt.push(`blur(${Un}px)`),al&&Wt.push("grayscale(100%)"),Wt.length>0&&(Ll.filter=Wt.join(" ")),Ll.drawImage($t,0,0);const Ma=document.createElement("canvas");Ma.width=_e,Ma.height=Ye;const Ra=Ma.getContext("2d");if(!Ra)return rt(null);p?Ra.drawImage(Ll.canvas,Mt,Rt,_e,Ye,0,0,_e,Ye):(al&&(Ra.filter="grayscale(100%)"),Ra.drawImage($t,Mt,Rt,_e,Ye,0,0,_e,Ye),Ra.filter="none"),fg(ht,{canvasWidth:_e,canvasHeight:Ye,sourceBleedCanvas:$t,blurBleedCanvas:rl,finalBgCanvas:Ma,bleedX:Mt,bleedY:Rt,settings:jt}),it.toBlob(Fa=>rt(Fa),"image/png")})},[K,Le,Ve,ae,te,z,x]),G=()=>{const w={feature:"glass_dots",wallpaper_type:x,...T},ue=()=>d(A?()=>V(!0):void 0),_e=`matrices-glassdots-${x}`;be(()=>ut({highQuality:!0}),_e,w,ue)},I=w=>me(w,"click"),ve=()=>{var w;return(w=b.current)==null?void 0:w.click()},We=w=>{var ue;(ue=w.target.files)!=null&&ue[0]&&I(w.target.files[0]),w.target&&(w.target.value="")},Me=g.useRef({isDragging:!1,startX:0,startY:0,initialOffsetX:.5,initialOffsetY:.5,hasMoved:!1}),Ge=g.useCallback(w=>{if(!oe)return;w.preventDefault(),Object.assign(Me.current,{isDragging:!0,hasMoved:!1,initialOffsetX:T.cropOffsetX,initialOffsetY:T.cropOffsetY});const ue="touches"in w?w.touches[0]:w;Me.current.startX=ue.clientX,Me.current.startY=ue.clientY,document.body.style.cursor="grabbing"},[oe,T]),st=g.useCallback(w=>{if(!Me.current.isDragging||!K)return;Me.current.hasMoved=!0;const ue="touches"in w?w.touches[0]:w,_e=ue.clientX-Me.current.startX,Ye=ue.clientY-Me.current.startY,rt=A?Te.current:Be.current;if(!rt)return;const it=rt.getBoundingClientRect();if(it.width<=0||it.height<=0)return;const ht=K.width/K.height,jt=Le/Ve;let zt,Vt;ht>jt?(Vt=K.height,zt=Vt*jt):(zt=K.width,Vt=zt/jt);const El=K.width-zt,gl=K.height-Vt;let al=Me.current.initialOffsetX;if(El>0){const Y=_e/it.width;al-=Y*zt/El}let hl=Me.current.initialOffsetY;if(gl>0){const Y=Ye/it.height;hl-=Y*Vt/gl}const p={cropOffsetX:Math.max(0,Math.min(1,al)),cropOffsetY:Math.max(0,Math.min(1,hl))};ge(Y=>({...Y,[x]:{...Y[x],...p}}))},[K,Le,Ve,x,A]),mt=g.useCallback(()=>{if(Me.current.isDragging){Me.current.isDragging=!1,Me.current.hasMoved&&H("glass_dots_crop",{wallpaper_type:x});const{cropOffsetX:w,cropOffsetY:ue}=T;F(_e=>({..._e,[x]:{..._e[x],cropOffsetX:w,cropOffsetY:ue}})),document.body.style.cursor="default"}},[T,x,F]);g.useEffect(()=>{const w=_e=>st(_e),ue=()=>mt();return document.addEventListener("mousemove",w),document.addEventListener("mouseup",ue),document.addEventListener("touchmove",w),document.addEventListener("touchend",ue),document.addEventListener("touchcancel",ue),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",ue),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",ue)}},[st,mt]);const Ie=(w,ue)=>{ge(_e=>({..._e,[x]:{..._e[x],[w]:ue}}))},qe=g.useCallback((w,ue)=>{F(_e=>({..._e,[x]:{..._e[x],[w]:ue}})),H("glass_dots_slider_change",{slider_name:w,value:ue,wallpaper_type:x})},[F,x]),nt=[{key:"phone",label:"Phone"},{key:"desktop",label:"Desktop"}],D=[{key:"presets",label:"Presets"},{key:"controls",label:"Full Control"}],de=w=>{R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{J(w)},3600)},ft=()=>{R.current&&clearTimeout(R.current),J(null)},Ct=()=>s.jsx("div",{className:`p-4 rounded-lg ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[cg.map(w=>s.jsxs("button",{onClick:()=>Ne(w),onMouseEnter:()=>de(w.id),onMouseLeave:ft,className:`relative aspect-[4/3] flex flex-col items-center justify-center rounded-md border transition-colors duration-200 ${Oe===w.id?r==="dark"?"bg-white border-white text-nothing-dark":"bg-black border-black text-white":r==="dark"?"bg-gray-800 border-gray-700 hover:bg-gray-700 text-nothing-light":"bg-gray-100 border-gray-300 hover:bg-gray-200 text-day-text"}`,children:[s.jsx("span",{className:"text-2xl sm:text-3xl font-ndot mb-1",children:w.id}),s.jsx("span",{className:"text-xs font-bold tracking-wider",children:w.code}),M===w.id&&s.jsx("div",{className:`absolute -top-10 left-1/2 -translate-x-1/2 px-2 py-1 rounded text-xs whitespace-nowrap z-10 pointer-events-none shadow-lg ${r==="dark"?"bg-gray-700 text-white":"bg-gray-800 text-white"}`,children:w.label})]},w.id)),s.jsx("div",{className:`aspect-[4/3] flex flex-col items-center justify-center rounded-md border opacity-50 cursor-not-allowed ${r==="dark"?"bg-gray-900 border-gray-800 text-nothing-light":"bg-gray-50 border-gray-200 text-day-text"}`,children:s.jsx("span",{className:"text-2xl sm:text-3xl font-ndot mb-1",children:"9"})}),s.jsx("div",{}),s.jsx("div",{className:`aspect-[4/3] flex flex-col items-center justify-center rounded-md border opacity-50 cursor-not-allowed ${r==="dark"?"bg-gray-900 border-gray-800 text-nothing-light":"bg-gray-50 border-gray-200 text-day-text"}`,children:s.jsx("span",{className:"text-2xl sm:text-3xl font-ndot mb-1",children:"0"})}),s.jsx("div",{})]})}),Ht=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(yt,{theme:r,isMobile:k,label:"Resolution",value:T.resolution,onChange:w=>Ie("resolution",w),onChangeCommitted:w=>qe("resolution",w),onReset:()=>qe("resolution",Dn),disabled:ke}),s.jsx(yt,{theme:r,isMobile:k,label:"Pixel Gap",value:T.pixelGap,onChange:w=>Ie("pixelGap",w),onChangeCommitted:w=>qe("pixelGap",w),onReset:()=>qe("pixelGap",50),disabled:ke}),s.jsx(yt,{theme:r,isMobile:k,label:"Lower Limit",value:T.lowerLimit,onChange:w=>Ie("lowerLimit",w),onChangeCommitted:w=>qe("lowerLimit",w),onReset:()=>qe("lowerLimit",0),disabled:ke}),s.jsx(yt,{theme:r,isMobile:k,label:"Size Variance",value:T.similaritySensitivity,onChange:w=>Ie("similaritySensitivity",w),onChangeCommitted:w=>qe("similaritySensitivity",w),onReset:()=>qe("similaritySensitivity",50),disabled:ke})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(yt,{theme:r,isMobile:k,label:"Glass Blur Amount",value:T.blurAmount,onChange:w=>Ie("blurAmount",w),onChangeCommitted:w=>qe("blurAmount",w),onReset:()=>qe("blurAmount",50),disabled:ke}),s.jsx(yt,{theme:r,isMobile:k,label:"Index of Refraction",value:T.ior,onChange:w=>Ie("ior",w),onChangeCommitted:w=>qe("ior",w),onReset:()=>qe("ior",50),disabled:ke})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`grain-toggle-${A}`,className:"text-sm",children:"Grain"}),s.jsx("button",{id:`grain-toggle-${A}`,role:"switch","aria-checked":T.isGrainEnabled,onClick:()=>qe("isGrainEnabled",!T.isGrainEnabled),disabled:ke,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${T.isGrainEnabled?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${T.isGrainEnabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${T.isGrainEnabled?"max-h-96 opacity-100 pt-4 space-y-4":"max-h-0 opacity-0"}`,children:[s.jsx(yt,{theme:r,isMobile:k,label:"Grain Size",value:T.grainSize,onChange:w=>Ie("grainSize",w),onChangeCommitted:w=>qe("grainSize",w),onReset:()=>qe("grainSize",0),disabled:ke}),s.jsx(yt,{theme:r,isMobile:k,label:"Grain Amount",value:T.grainAmount,onChange:w=>Ie("grainAmount",w),onChangeCommitted:w=>qe("grainAmount",w),onReset:()=>qe("grainAmount",Dn),disabled:ke})]})]}),s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`marker-toggle-${A}`,className:"text-sm",children:"Markers"}),s.jsx("button",{id:`marker-toggle-${A}`,role:"switch","aria-checked":T.isMarkerEnabled,onClick:()=>qe("isMarkerEnabled",!T.isMarkerEnabled),disabled:ke,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${T.isMarkerEnabled?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${T.isMarkerEnabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`bg-blur-toggle-${A}`,className:"text-sm",children:"Background Blur"}),s.jsx("button",{id:`bg-blur-toggle-${A}`,role:"switch","aria-checked":T.isBackgroundBlurEnabled,onClick:()=>qe("isBackgroundBlurEnabled",!T.isBackgroundBlurEnabled),disabled:ke,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${T.isBackgroundBlurEnabled?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${T.isBackgroundBlurEnabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:`flex items-center justify-between ${r==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:[s.jsx("label",{htmlFor:`mono-toggle-${A}`,className:"text-sm",children:"Monochrome"}),s.jsx("button",{id:`mono-toggle-${A}`,role:"switch","aria-checked":T.isMonochrome,onClick:()=>qe("isMonochrome",!T.isMonochrome),disabled:ke,className:`relative inline-flex items-center h-6 w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-full ${r==="dark"?"focus:ring-offset-nothing-dark":"focus:ring-offset-day-bg"} ${T.isMonochrome?"bg-nothing-red":r==="dark"?"bg-nothing-gray-dark":"bg-day-gray-light"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${T.isMonochrome?"translate-x-6":"translate-x-1"}`})})]})]})]}),Lt=({isFullScreen:w=!1})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`p-4 rounded-lg space-y-4 ${r==="dark"?"bg-black/40":"bg-white/60"}`,children:[s.jsx(fl,{options:nt,selected:x,onSelect:ue=>Ue(ue),theme:r}),s.jsx(fl,{options:D,selected:he,onSelect:ue=>fe(ue),theme:r})]}),s.jsx(Wa,{onUndo:()=>{$(),H("glass_dots_undo")},onRedo:()=>{pe(),H("glass_dots_redo")},canUndo:Re,canRedo:ne,theme:r}),he==="controls"&&s.jsxs("div",{className:`rounded-lg text-sm overflow-hidden transition-all duration-300 ${r==="dark"?"bg-black/40 text-nothing-gray-light":"bg-white/60 text-day-gray-dark"}`,children:[s.jsxs("button",{onClick:()=>c(!He),className:"w-full p-4 flex items-center justify-between focus:outline-none",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:`w-4 h-4 transition-transform duration-300 ${He?"rotate-180":""}`,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]}),s.jsx("div",{className:`px-4 pb-4 transition-all duration-300 ${He?"max-h-40 opacity-100":"max-h-0 opacity-0 pb-0"}`,children:"Due to the feature's performance-intensive nature, there can be some unexpected hiccups in the Full Control mode. The sliders won't slide, so tap on the sliders instead of sliding."})]}),he==="presets"?s.jsx(Ct,{}):s.jsx(Ht,{})]}),Xt=ee?s.jsxs("div",{className:"max-w-md mx-auto w-full flex flex-col space-y-4 px-6 sm:px-6 md:px-8 pt-6 md:pt-3 pb-8 sm:pb-6 md:pb-8",children:[s.jsx(Lt,{}),s.jsxs("div",{className:"pt-2 flex space-x-2",children:[s.jsx("button",{onClick:W,disabled:ke,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Clear the current image",children:"Clear Image"}),s.jsx("button",{onClick:Q,disabled:ke,className:`w-1/2 border font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border-gray-700 text-nothing-gray-light hover:bg-gray-800":"border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset controls to their default values",children:"Reset Controls"})]}),s.jsx("div",{className:"block md:hidden pt-8",children:s.jsx("footer",{className:"text-center tracking-wide",children:v})})]}):null;return{previewPanel:ee?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:b,onChange:We,className:"hidden",accept:"image/*"}),s.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[s.jsx("canvas",{ref:Be,width:ae,height:te,className:`border-2 rounded-lg ${r==="dark"?"border-nothing-gray-dark":"border-gray-300"} ${x==="phone"?k?"w-4/5 h-auto":"max-h-full w-auto":"max-w-full max-h-full"}`,"aria-label":"Glass Dots Canvas",onMouseDown:Ge,onTouchStart:Ge,style:{cursor:oe?"grab":"default",touchAction:oe?"none":"auto"}}),s.jsxs("div",{className:"absolute bottom-3 right-3 z-10 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share this creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:Se,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Enter full-screen preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]}),A&&zn.createPortal(s.jsxs("div",{ref:Ee,className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onClick:w=>{w.target===w.currentTarget&&!Me.current.hasMoved&&(B?ce(!1):je())},children:[s.jsx("canvas",{ref:Te,width:ae,height:te,className:"max-w-full max-h-full","aria-label":"Full-screen Canvas Preview",onMouseDown:Ge,onTouchStart:Ge,style:{cursor:oe?"grab":"default",touchAction:oe?"none":"auto"}}),oe&&s.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-2 py-1 rounded-md text-sm ${r==="dark"?"bg-nothing-dark/90 text-nothing-light":"bg-day-gray-light/90 text-day-text"} backdrop-blur-sm pointer-events-none`,children:" Drag to Crop"}),!k&&s.jsxs("div",{className:"fixed bottom-4 left-4 z-[51] w-80 flex flex-col items-start space-y-2",children:[B?s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-4 max-h-[calc(100vh-10rem)] flex flex-col space-y-4 shadow-2xl`,children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h3",{className:`font-bold text-lg ${r==="dark"?"text-white":"text-day-text"}`,children:"Controls"}),s.jsx("button",{onClick:()=>ce(!1),className:`p-2 ${r==="dark"?"text-white hover:bg-white/20":"text-day-text hover:bg-black/10"} rounded-full transition-colors`,"aria-label":"Collapse controls",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})})]}),s.jsxs("div",{className:"overflow-y-auto space-y-4 pr-2 -mr-2",children:[s.jsx(Lt,{isFullScreen:!0}),s.jsx("div",{children:s.jsx("button",{onClick:Q,disabled:ke,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Reset controls to their default values",children:"Reset Controls"})})]})]}):s.jsxs("button",{onClick:()=>ce(!0),className:`w-full ${r==="dark"?"bg-nothing-dark/80 text-white hover:bg-nothing-dark":"bg-day-bg/90 text-day-text hover:bg-day-gray-light border border-gray-300/50"} backdrop-blur-sm font-semibold py-3 px-4 rounded-lg flex items-center justify-between shadow-lg transition-colors`,"aria-label":"Expand controls",children:[s.jsx("span",{children:"Controls"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})})]}),s.jsxs("div",{className:`w-full ${r==="dark"?"bg-nothing-dark/80":"bg-day-bg/90 border border-gray-300/50"} backdrop-blur-sm rounded-lg p-2 flex flex-col items-stretch space-y-2 shadow-lg`,children:[s.jsx("button",{onClick:ve,disabled:ke,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"border border-gray-600 text-gray-300 hover:bg-gray-700":"border border-gray-300 text-day-gray-dark hover:bg-gray-200"}`,"aria-label":"Replace image",children:"Replace Image"}),s.jsx("button",{onClick:G,disabled:ke||Ae,className:`w-full font-semibold py-2 px-4 transition-all duration-300 disabled:opacity-50 rounded-md ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download image",children:Ae?"Generating...":"Download"})]})]}),s.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(),className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Share creation",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 8.81C7.5 8.31 6.79 8 6 8c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"})})}),s.jsx("button",{onClick:je,className:`p-2 rounded-md transition-colors duration-300 ${r==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":"Exit full-screen",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})})})]}),s.jsx(Ja,{show:we,onClose:()=>V(!1),onShare:()=>{},theme:r,isMobile:!1,imageRendered:!!ee,className:"z-[60] !bottom-24"}),s.jsx(Js,{show:Z,onClose:()=>L(!1),theme:r,communityLink:re,appUrl:q,variant:_})]}),document.body)]}):s.jsx(Ql,{onFileSelect:me,isLoading:ke,theme:r,context:"glassDots",isMobile:k}),controlsPanel:Xt,imageSrc:ee,isLoading:ke,handleFileSelect:me,downloadButton:s.jsx("button",{onClick:G,disabled:ke||Ae,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${r==="dark"?"bg-nothing-red text-nothing-light hover:bg-opacity-80":"bg-day-accent text-white hover:bg-opacity-80"}`,"aria-label":"Download image",children:Ae?"Generating...":"Download"}),replaceButton:s.jsx(Ql,{onFileSelect:me,isLoading:ke,compact:!0,theme:r,isMobile:k}),glassDotsWallpaperType:x,getCanvasBlob:ut,undo:$,redo:pe,canUndo:Re,canRedo:ne}},Di=["valueAliasing","pfp","glassDots","wallpaper","photoWidget"],gg={wallpaper:"Matrix Wallpaper",pfp:"Glyph Mirror",photoWidget:"Photo Widget",valueAliasing:"Value Aliasing",glassDots:"Glass Dots"},hg={wallpaper:"MW",pfp:"GM",photoWidget:"PW",valueAliasing:"VA",glassDots:"GD"},uu="https://nothing.community/d/38047-introducing-matrices-a-handy-utility-to-create-matrix-styled-imagery",Rn="https://udaign.github.io/matrices/",om=()=>{const[r,k]=g.useState(window.innerWidth<768),[v,d]=g.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),[E,Z]=g.useState("valueAliasing"),[L,re]=g.useState(0),[q,_]=g.useState(!1),[z,F]=g.useState(!1),[$,pe]=g.useState(""),[P,Re]=g.useState(!1),[ne,$e]=g.useState(!1),[ge,x]=g.useState(!1),[xe,A]=g.useState(!1),[se,we]=g.useState("default"),[V,he]=g.useState(null),De=Di.indexOf(E),Oe=g.useRef(null),ze=g.useRef(!1),Be=g.useRef(!1),[Te,Ee]=g.useState(!1),[b,B]=g.useState(null),[ce,He]=g.useState(!1),[c,M]=g.useState(!1),[J,R]=g.useState(!1),[T,ee]=g.useState(!1),K=g.useRef(null),ke=g.useRef(null),Ae=g.useRef(null),me=g.useRef(null),be=g.useRef(null),W=v==="dark"?"font-medium text-nothing-light hover:text-white underline":"font-medium text-day-text hover:text-black underline",Q=Di.length,ye=2/Q*100,Ne=(Q-2)/Q/(Q-1)*100,fe=g.useMemo(()=>De*Ne,[De,Ne]);g.useEffect(()=>{const N=ie=>{ie.preventDefault(),he(ie),H("pwa_install_available")};return window.addEventListener("beforeinstallprompt",N),()=>{window.removeEventListener("beforeinstallprompt",N)}},[]),g.useEffect(()=>{const N=ie=>{const w=Be.current?"app_button":"browser_ui";H("pwa_install_success",{source:w}),he(null),Be.current=!1};return window.addEventListener("appinstalled",N),()=>{window.removeEventListener("appinstalled",N)}},[]);const Ue=()=>{V&&(H("pwa_install_prompt_click"),Be.current=!0,V.prompt(),V.userChoice.then(N=>{N.outcome==="accepted"?H("pwa_install_accepted"):(H("pwa_install_dismissed"),Be.current=!1),he(null)}))},Se=N=>{N.preventDefault(),Z("valueAliasing"),Me.activateEasterEgg(),Re(!1),H("easter_egg_unlocked")},je=async(N="default")=>{H("share_initiated",{variant:N,source:Ie?"with_image":"no_image"});const ie=Ie&&mt.getCanvasBlob?await mt.getCanvasBlob():null;if(navigator.share&&ie)try{const w=new File([ie],"matrices-creation.png",{type:"image/png"}),ue=N==="special"?"Have you unlocked the secret theme in Matrices Value Aliasing yet?  On desktop, type 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/":`Created with Matrices. Link: ${Rn}`,_e={files:[w],title:"Matrices for Nothing Community",text:ue,url:Rn};if(navigator.canShare&&navigator.canShare(_e)){await navigator.share(_e),H("share_success_webshare_api",{method:"image",variant:N});return}}catch(w){console.warn("Web Share API with image failed, falling back.",w),H("share_error_webshare_api",{method:"image",error:w.message,variant:N})}if(navigator.share)try{const w=N==="special"?"Have you unlocked the secret theme in Matrices Value Aliasing yet?  On desktop, type 'feelingnothing' code word. On mobile, hold the celestial body until you are blessed! https://udaign.github.io/matrices/":`Create your own Nothing style dot-matrix imagery with Matrices: ${Rn}`;await navigator.share({title:"Matrices for Nothing Community",text:w,url:Rn}),H("share_success_webshare_api",{method:"text",variant:N});return}catch(w){console.warn("Web Share API text-only failed, falling back to popup.",w),H("share_error_webshare_api",{method:"text",error:w.message,variant:N})}we(N),A(!0),H("share_popup_opened",{variant:N})},Le=g.useCallback((N,ie=!1)=>{if(ie&&T&&!c){R(!0),M(!0),L+1===2&&!z&&F(!0);return}if(z)return;const w=L+1;re(w),w===2&&(N?N():_(!0),F(!0))},[L,z,T,c]),Ve=g.useCallback(()=>{try{localStorage.setItem("easterEggUnlocked","true"),$e(!0)}catch(N){console.error("Failed to save easter egg state to localStorage:",N)}},[]);g.useEffect(()=>{try{localStorage.getItem("easterEggUnlocked")==="true"&&$e(!0)}catch(N){console.error("Failed to read easter egg state from localStorage:",N)}},[]);const ae=g.useCallback(N=>{ze.current=!1,r&&!ne&&!P&&E==="valueAliasing"&&N&&(Oe.current=window.setTimeout(()=>{Re(!0),H("easter_egg_primed",{method:"long_press"}),ze.current=!0},4800))},[r,ne,P,E]),te=g.useCallback(()=>{Oe.current&&(clearTimeout(Oe.current),Oe.current=null)},[]),oe=s.jsxs("div",{className:`text-sm ${v==="dark"?"text-nothing-gray-light":"text-day-gray-dark"} opacity-80 space-y-1`,children:[s.jsxs("p",{children:[s.jsx("a",{href:"https://nothing.community/d/38047-introducing-matrices-a-handy-utility-to-create-matrix-styled-imagery",target:"_blank",rel:"noopener noreferrer",className:W,onClick:()=>H("discussion_visit"),children:ge&&!r?"Feeling Nothing":"Feedback"}),s.jsx("span",{className:"mx-2",children:"|"}),s.jsx("a",{href:"mailto:udaybhaskar2283@gmail.com",className:W,onClick:()=>H("email_click"),children:"Email"}),s.jsx("span",{className:"mx-2",children:"|"}),s.jsx("button",{onClick:()=>{H("support_modal_opened"),Ee(!0)},className:W,children:"Support "}),s.jsx("span",{className:"mx-2",children:"|"}),s.jsx("a",{href:"https://nothing.community/u/Udaign",target:"_blank",rel:"noopener noreferrer",className:W,onClick:()=>H("community_profile_visit"),children:" Uday"})]}),s.jsxs("p",{children:["Made with love for ",s.jsx("span",{className:"font-ndot",children:"NOTHING COMMUNITY"}),"."]})]}),ut={theme:v,isMobile:r,footerLinks:oe,triggerShareToast:Le,handleShare:je,showSharePopup:xe,setShowSharePopup:A,communityLink:uu,appUrl:Rn,shareVariant:se},G=L0(ut),I=Q0(ut),ve=Z0(ut),We=rm(ut),Me=lm({...ut,easterEggPrimed:P,setEasterEggPrimed:Re,isEasterEggPermanentlyUnlocked:ne,markEasterEggAsUnlocked:Ve,setJustUnlockedSpecialTheme:ee}),Ge={pfp:G,wallpaper:I,photoWidget:ve,valueAliasing:Me,glassDots:We},st=N=>{if(!b)return;const ie=b;Z(N),setTimeout(()=>{const w=Ge[N];w&&w.handleFileSelect&&w.handleFileSelect(ie,"share_target")},100),He(!1),B(null)},mt=Ge[E],Ie=mt.imageSrc;g.useEffect(()=>{const N=ie=>{const w=ie.target;if(["INPUT","TEXTAREA","SELECT"].includes(w.tagName)||w.isContentEditable)return;const ue=ie.ctrlKey&&!ie.shiftKey&&ie.key.toLowerCase()==="z",_e=ie.ctrlKey&&ie.key.toLowerCase()==="y"||ie.ctrlKey&&ie.shiftKey&&ie.key.toLowerCase()==="z";if(ue||_e){const Ye=Ge[E];if(!Ye.imageSrc)return;ie.preventDefault(),ue&&Ye.canUndo?(Ye.undo(),H(`${E}_undo`,{method:"keyboard_shortcut"})):_e&&Ye.canRedo&&(Ye.redo(),H(`${E}_redo`,{method:"keyboard_shortcut"}))}};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[E,Ge]),g.useEffect(()=>{const N=ie=>{var _e;const w=(_e=ie.clipboardData)==null?void 0:_e.items;if(!w)return;const ue=ie.target;if(!(["INPUT","TEXTAREA","SELECT"].includes(ue.tagName)||ue.isContentEditable)){for(const Ye of Array.from(w))if(Ye.type.startsWith("image/")){const rt=Ye.getAsFile();if(rt){switch(ie.preventDefault(),H("paste_image",{feature:E}),E){case"pfp":Ge.pfp.handleFileSelect(rt,"paste");break;case"wallpaper":Ge.wallpaper.handleFileSelect(rt,"paste");break;case"photoWidget":Ge.photoWidget.handleFileSelect(rt,"paste");break;case"valueAliasing":Ge.valueAliasing.handleFileSelect(rt,"paste");break;case"glassDots":Ge.glassDots.handleFileSelect(rt,"paste");break}break}}}};return window.addEventListener("paste",N),()=>{window.removeEventListener("paste",N)}},[E,Ge]),g.useEffect(()=>{const N=ie=>{if(ie.data&&ie.data.type==="shared-image"&&ie.data.file){const w=ie.data.file;H("share_target_received"),B(w),He(!0)}};return"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",N),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",N)}},[]),g.useEffect(()=>{const N=!P&&!Me.isEasterEggActive&&!ne&&E==="valueAliasing"&&!!Me.imageSrc;N!==ge&&x(N)},[P,Me.isEasterEggActive,ne,E,Me.imageSrc,ge]),g.useEffect(()=>{if(P||Me.isEasterEggActive||ne)return;const N="feelingnothing",ie=w=>{if(E!=="valueAliasing"||!Me.imageSrc){$&&pe("");return}if(w.key.length>1||w.metaKey||w.ctrlKey||w.altKey){$&&pe("");return}const ue=$+w.key.toLowerCase();if(N.startsWith(ue))pe(ue),ue===N&&(Re(!0),H("easter_egg_primed",{method:"keyboard"}),pe(""));else{const _e=w.key.toLowerCase();pe(N.startsWith(_e)?_e:"")}};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[$,P,E,Me.isEasterEggActive,Me.imageSrc,ne]);const qe=N=>{G.handleFileSelect(N,"click"),K.current&&(K.current.value="")},nt=N=>{I.handleFileSelect(N,"click"),ke.current&&(ke.current.value="")},D=N=>{ve.handleFileSelect(N,"click"),Ae.current&&(Ae.current.value="")},de=N=>{Me.handleFileSelect(N,"click"),me.current&&(me.current.value="")},ft=N=>{We.handleFileSelect(N,"click"),be.current&&(be.current.value="")};g.useEffect(()=>{const N=()=>{k(window.innerWidth<768)};return window.addEventListener("resize",N),N(),()=>window.removeEventListener("resize",N)},[]),g.useEffect(()=>{const N=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";H("initial_theme_detected",{theme:N});const ie=window.matchMedia("(prefers-color-scheme: dark)"),w=ue=>d(ue.matches?"dark":"light");return ie.addEventListener("change",w),()=>ie.removeEventListener("change",w)},[]),g.useEffect(()=>{document.body.className=v==="light"?"bg-day-bg":"bg-nothing-dark"},[v]);const Ct=()=>{if(ze.current){ze.current=!1;return}const N=v==="dark"?"light":"dark";H("theme_change",{theme:N}),d(N)},Ht=N=>{H("select_tab",{tab_name:N}),Z(N)},Lt={valueAliasing:s.jsxs(s.Fragment,{children:["Create value-aliased imagery. ",s.jsx("strong",{className:`font-bold ${v==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),pfp:s.jsxs(s.Fragment,{children:["Create glyph mirror styled profile pictures. ",s.jsx("strong",{className:`font-bold ${v==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),glassDots:s.jsxs(s.Fragment,{children:["Create imagery with a glossy, glass-like dot effect. ",s.jsx("strong",{className:`font-bold ${v==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),wallpaper:s.jsxs(s.Fragment,{children:["Create matrix styled wallpapers. ",s.jsx("strong",{className:`font-bold ${v==="dark"?"text-nothing-light":"text-black"}`,children:"Drag to crop"})," into desired area."]}),photoWidget:"Create matrix styled photo widgets."},Xt=g.useMemo(()=>E==="wallpaper"&&Ge.wallpaper.imageSrc&&Ge.wallpaper.wallpaperType==="phone"||E==="valueAliasing"&&Ge.valueAliasing.imageSrc&&Ge.valueAliasing.valueAliasingType==="phone"?r?"py-8 px-6":"p-6":"p-4 sm:p-6",[E,Ge.wallpaper,Ge.valueAliasing,r]),qt=`flex items-center p-2 md:px-3 transition-colors duration-300 rounded-md text-sm font-semibold ${v==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`;return s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:K,onChange:N=>{var ie;return((ie=N.target.files)==null?void 0:ie[0])&&qe(N.target.files[0])},className:"hidden",accept:"image/*",title:"Upload profile picture"}),s.jsx("input",{type:"file",ref:ke,onChange:N=>{var ie;return((ie=N.target.files)==null?void 0:ie[0])&&nt(N.target.files[0])},className:"hidden",accept:"image/*",title:"Upload wallpaper image"}),s.jsx("input",{type:"file",ref:Ae,onChange:N=>{var ie;return((ie=N.target.files)==null?void 0:ie[0])&&D(N.target.files[0])},className:"hidden",accept:"image/png",title:"Upload photo widget image"}),s.jsx("input",{type:"file",ref:me,onChange:N=>{var ie;return((ie=N.target.files)==null?void 0:ie[0])&&de(N.target.files[0])},className:"hidden",accept:"image/*",title:"Upload value aliasing image"}),s.jsx("input",{type:"file",ref:be,onChange:N=>{var ie;return((ie=N.target.files)==null?void 0:ie[0])&&ft(N.target.files[0])},className:"hidden",accept:"image/*",title:"Upload glass dots image"}),s.jsxs("div",{className:`min-h-[100dvh] md:h-screen w-full flex flex-col font-sans ${v==="dark"?"text-nothing-light bg-nothing-dark":"text-day-text bg-day-bg"} select-none`,children:[s.jsxs("header",{className:`flex-shrink-0 sticky top-0 z-30 flex justify-between items-center p-4 border-b ${v==="dark"?"bg-nothing-dark border-nothing-gray-dark":"bg-day-bg border-gray-300"}`,children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-normal page-title",children:"MATRICES"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[r&&V&&s.jsxs("button",{onClick:Ue,className:qt,"aria-label":"Install app",children:[s.jsx("span",{children:"App"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 ml-2",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"7 10 12 15 17 10"}),s.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})]}),P?s.jsxs("button",{onClick:Se,className:`${qt} easter-egg-glow`,"aria-label":"Unlock Secret Theme",children:[s.jsx("span",{className:"hidden md:inline",children:"Unlock Secret"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 md:ml-2",children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})]}):s.jsxs("button",{onClick:()=>{H("community_thread_header_click"),window.open(uu,"_blank","noopener,noreferrer")},className:qt,"aria-label":"Visit Community Thread",children:[s.jsx("span",{className:"hidden md:inline",children:"Join Discussion"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 md:ml-2",children:[s.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),s.jsx("polyline",{points:"15 3 21 3 21 9"}),s.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}),s.jsx("button",{onClick:Ct,onMouseDown:()=>ae(Ge.valueAliasing.imageSrc),onMouseUp:te,onMouseLeave:te,onTouchStart:()=>ae(Ge.valueAliasing.imageSrc),onTouchEnd:te,className:`p-2 transition-colors duration-300 rounded-md ${v==="dark"?"text-nothing-light bg-nothing-gray-dark hover:bg-nothing-gray-light hover:text-nothing-dark":"text-day-text bg-day-gray-light hover:bg-day-gray-dark hover:text-day-bg"}`,"aria-label":`Switch to ${v==="dark"?"light":"dark"} mode`,children:v==="dark"?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-sun h-6 w-6",children:[s.jsx("circle",{cx:"12",cy:"12",r:"5"}),s.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),s.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),s.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),s.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),s.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),s.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),s.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),s.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-moon h-6 w-6",children:s.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]})]}),s.jsx("div",{className:"block md:hidden pt-4 sm:pt-6",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:`relative flex w-full border-b ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,style:{"--active-tab-width":`${ye}%`,"--inactive-tab-width":`${Ne}%`,"--underline-left":`${fe}%`},children:[Di.map(N=>{const ie=E===N;return s.jsx("button",{onClick:()=>Ht(N),className:`
                      text-center py-3 text-base transition-[width,color,font-weight] duration-500 ease-in-out focus:outline-none focus:ring-0
                      tab
                      ${ie?`active ${v==="dark"?"text-nothing-light font-bold":"text-day-text font-bold"}`:v==="dark"?"text-nothing-gray-light hover:text-nothing-light font-normal":"text-day-gray-dark hover:text-day-text font-normal"}
                    `,"aria-pressed":ie?"true":"false",children:s.jsx("span",{className:`truncate px-2 ${ie?"":"page-title text-xl"}`,children:ie?gg[N]:hg[N]})},N)}),s.jsx("div",{className:`absolute bottom-[-1px] h-1 ${v==="dark"?"bg-white":"bg-black"} underline-bar`,"aria-hidden":"true"})]}),s.jsx("p",{className:`text-center w-full text-sm leading-normal transition-opacity duration-300 px-4 sm:px-6 ${v==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:Lt[E]}),s.jsx("hr",{className:`mt-4 ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`})]})}),s.jsxs("main",{className:"flex-grow w-full flex flex-col md:flex-row min-h-0 md:pt-0 md:overflow-hidden",children:[s.jsx("div",{className:`md:w-2/3 w-full flex flex-col ${Ie?"":"flex-grow md:flex-grow-0"} border-b md:border-b-0 md:border-r ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"} md:overflow-y-auto`,children:s.jsx("div",{className:`flex-grow ${Xt} ${Ie?"min-h-0":"min-h-[50vh] md:min-h-0"} flex flex-col items-center justify-center`,children:Object.entries(Ge).map(([N,ie])=>s.jsx("div",{className:`w-full h-full flex-grow flex flex-col items-center justify-center ${E===N?"flex":"hidden"}`,children:ie.previewPanel},N))})}),s.jsxs("div",{className:"md:w-1/3 w-full flex flex-col",children:[s.jsx("div",{className:"hidden md:block flex-shrink-0 py-4 sm:py-6 md:py-8 md:pb-4",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"relative flex border-b dark:border-nothing-gray-dark border-gray-300",style:{"--active-tab-width":`${ye}%`,"--inactive-tab-width":`${Ne}%`,"--underline-left":`${fe}%`},children:[Di.map(N=>{const ie=E===N;return s.jsx("button",{onClick:()=>Ht(N),className:`
                          text-center py-3 text-base transition-[width,color,font-weight] duration-500 ease-in-out focus:outline-none focus:ring-0
                          tab
                          ${ie?`active ${v==="dark"?"text-nothing-light font-bold":"text-day-text font-bold"}`:v==="dark"?"text-nothing-gray-light hover:text-nothing-light font-normal":"text-day-gray-dark hover:text-day-text font-normal"}
                        `,"aria-pressed":ie?"true":"false",children:s.jsx("span",{className:`truncate px-2 ${ie?"":"page-title text-xl"}`,children:ie?gg[N]:hg[N]})},N)}),s.jsx("div",{className:`absolute bottom-[-1px] h-1 ${v==="dark"?"bg-white":"bg-black"} underline-bar`,"aria-hidden":"true"})]}),s.jsx("p",{className:`text-center w-full text-sm leading-normal transition-opacity duration-300 ${v==="dark"?"text-nothing-gray-light":"text-day-gray-dark"}`,children:Lt[E]}),s.jsx("hr",{className:`mt-2 ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`})]})}),s.jsxs("div",{className:"flex-grow md:overflow-y-auto md:relative md:overflow-hidden",children:[s.jsx("div",{className:"hidden md:flex md:absolute md:top-0 md:left-0 md:w-full md:h-full transition-transform duration-300 ease-in-out controls-panel-container",style:{"--panel-translate-x":`-${De*100}%`},children:Di.map(N=>s.jsx("div",{className:"w-full flex-shrink-0 h-full overflow-y-auto",children:Ge[N].controlsPanel},N))}),s.jsx("div",{className:"block md:hidden",children:mt.controlsPanel}),!r&&s.jsxs(s.Fragment,{children:[s.jsx(Ja,{show:q,onClose:()=>_(!1),onShare:je,theme:v,isMobile:r,imageRendered:!!Ie}),s.jsx(Ja,{show:J,onClose:()=>R(!1),onShare:()=>je("special"),theme:v,isMobile:r,imageRendered:!!Ie,variant:"special"})]})]})]})]}),Ie&&s.jsxs("div",{className:`flex-shrink-0 hidden md:flex flex-col md:flex-row border-t ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:[s.jsx("div",{className:`md:w-2/3 w-full p-4 border-b md:border-b-0 md:border-r ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:mt.replaceButton}),s.jsx("div",{className:"md:w-1/3 w-full flex",children:mt.downloadButton})]}),s.jsx("footer",{className:`hidden md:block flex-shrink-0 text-center p-4 border-t ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"} tracking-wide`,children:oe}),s.jsx("div",{className:`block md:hidden ${Ie?"sticky bottom-0":""} z-20 w-full ${v==="dark"?"bg-nothing-dark":"bg-day-bg"}`,children:Ie?s.jsxs("div",{className:`flex border-t ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:[s.jsx("div",{className:`w-1/2 border-r ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:s.jsx("button",{onClick:()=>{var N,ie,w,ue,_e;E==="pfp"&&((N=K.current)==null||N.click()),E==="wallpaper"&&((ie=ke.current)==null||ie.click()),E==="photoWidget"&&((w=Ae.current)==null||w.click()),E==="valueAliasing"&&((ue=me.current)==null||ue.click()),E==="glassDots"&&((_e=be.current)==null||_e.click())},disabled:mt.isLoading,className:`w-full h-full p-4 text-center text-lg font-bold transition-all duration-300 disabled:opacity-50 ${v==="dark"?"bg-nothing-dark text-nothing-light hover:bg-nothing-gray-dark":"bg-day-bg text-day-text hover:bg-day-gray-light"}`,children:"Replace Image"})}),s.jsx("div",{className:"w-1/2",children:mt.downloadButton})]}):s.jsx("footer",{className:`text-center tracking-wide p-4 border-t ${v==="dark"?"border-nothing-gray-dark":"border-gray-300"}`,children:oe})}),r&&s.jsxs(s.Fragment,{children:[s.jsx(Ja,{show:q,onClose:()=>_(!1),onShare:je,theme:v,isMobile:r,imageRendered:!!Ie}),s.jsx(Ja,{show:J,onClose:()=>R(!1),onShare:()=>je("special"),theme:v,isMobile:r,imageRendered:!!Ie,variant:"special"})]}),s.jsx(Js,{show:xe,onClose:()=>A(!1),theme:v,communityLink:uu,appUrl:Rn,variant:se}),s.jsx(U0,{show:Te,onClose:()=>Ee(!1),theme:v}),s.jsx(B0,{show:ce,onClose:()=>{He(!1),B(null),H("share_target_dismissed")},onSelect:st,theme:v})]})]})},vg=document.getElementById("root");if(!vg)throw new Error("Could not find root element to mount to");const um=D0.createRoot(vg);um.render(s.jsx(C0.StrictMode,{children:s.jsx(om,{})}));
